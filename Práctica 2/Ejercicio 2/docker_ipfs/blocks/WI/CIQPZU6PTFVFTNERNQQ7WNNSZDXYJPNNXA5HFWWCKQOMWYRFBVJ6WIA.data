rn t?r===o||r===i:n?r===2*o||r===2*i:e instanceof u}const v=t.bits2int||function(e){const n=So(e),r=8*e.length-t.nBitLength;return r>0?n>>BigInt(r):n},b=t.bits2int_modN||function(e){return s(v(e))},w=Do(t.nBitLength);function E(e){return No(`num < 2^${t.nBitLength}`,e,Nu,w),To(e,t.nByteLength)}function A(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;if(["recovered","canonical"].some((e=>e in o)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:c}=t;let{lowS:d,prehash:p,extraEntropy:y}=o;null==d&&(d=!0),e=xo("msgHash",e),xu(o),p&&(e=xo("prehashed msgHash",i(e)));const m=b(e),w=l(r),A=[E(w),E(m)];if(null!=y&&!1!==y){const e=!0===y?c(n.BYTES):y;A.push(xo("extraEntropy",e))}const C=Io(...A),T=m;return{seed:C,k2sig:function(e){const t=v(e);if(!f(t))return;const n=a(t),r=u.BASE.multiply(t).toAffine(),o=s(r.x);if(o===Nu)return;const i=s(n*s(T+o*w));if(i===Nu)return;let l=(r.x===o?0:2)|Number(r.y&Pu),c=i;return d&&h(i)&&(c=function(e){return h(e)?s(-e):e}(i),l^=1),new g(o,c,l)}}}const S={lowS:t.lowS,prehash:!1},C={lowS:t.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return u.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(m(e))throw new Error("first arg must be private key");if(!m(t))throw new Error("second arg must be public key");return u.fromHex(t).multiply(l(e)).toRawBytes(n)},sign:function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;const{seed:o,k2sig:i}=A(e,n,r),s=t;return Lo(s.hash.outputLen,s.nByteLength,s.hmac)(o,i)},verify:function(e,n,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:C;const i=e;if(n=xo("msgHash",n),r=xo("publicKey",r),"strict"in o)throw new Error("options.strict was renamed to lowS");xu(o);const{lowS:l,prehash:c}=o;let f,d;try{if("string"===typeof i||ho(i))try{f=g.fromDER(i)}catch(A){if(!(A instanceof Ou.Err))throw A;f=g.fromCompact(i)}else{if("object"!==typeof i||"bigint"!==typeof i.r||"bigint"!==typeof i.s)throw new Error("PARSE");{const{r:e,s:t}=i;f=new g(e,t)}}d=u.fromHex(r)}catch(S){if("PARSE"===S.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(l&&f.hasHighS())return!1;c&&(n=t.hash(n));const{r:h,s:p}=f,y=b(n),m=a(p),v=s(y*m),w=s(h*m),E=u.BASE.multiplyAndAddUnsafe(d,v,w)?.toAffine();return!!E&&s(E.x)===h},ProjectivePoint:u,Signature:g,utils:y}}function Lu(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return es(e,t,function(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];Rn(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}(...r))},randomBytes:Wn}}const Fu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Mu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Uu=BigInt(1),ju=BigInt(2),zu=(e,t)=>(e+t/ju)/t;function $u(e){const t=Fu,n=BigInt(3),r=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),u=BigInt(88),l=e*e*e%t,c=l*l*e%t,f=Ko(c,n,t)*c%t,d=Ko(f,n,t)*c%t,h=Ko(d,ju,t)*l%t,p=Ko(h,o,t)*h%t,g=Ko(p,i,t)*p%t,y=Ko(g,a,t)*g%t,m=Ko(y,u,t)*y%t,v=Ko(m,a,t)*g%t,b=Ko(v,n,t)*c%t,w=Ko(b,s,t)*p%t,E=Ko(w,r,t)*l%t,A=Ko(E,ju,t);if(!Hu.eql(Hu.sqr(A),e))throw new Error("Cannot find square root");return A}const Hu=ti(Fu,void 0,void 0,{sqrt:$u}),Vu=function(e,t){const n=t=>Ru({...e,...Lu(t)});return Object.freeze({...n(t),create:n})}({a:BigInt(0),b:BigInt(7),Fp:Hu,n:Mu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Mu,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Uu*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,s=BigInt("0x100000000000000000000000000000000"),a=zu(i*e,t),u=zu(-r*e,t);let l=Wo(e-a*n-u*o,t),c=Wo(-a*r-u*i,t);const f=l>s,d=c>s;if(f&&(l=t-l),d&&(c=t-c),l>s||c>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:f,k1:l,k2neg:d,k2:c}}}},ku);BigInt(0);Vu.ProjectivePoint;function Gu(e){try{Vu.ProjectivePoint.fromHex(e)}catch(t){throw new wn.sv(String(t),"ERR_INVALID_PUBLIC_KEY")}}class Zu{_key;constructor(e){Gu(e),this._key=e}verify(e,t){return function(e,t,n){const r=$r.sha256.digest(n instanceof Uint8Array?n:n.subarray());if(Yr(r))return r.then((n=>{let{digest:r}=n;return Vu.verify(t,r,e)})).catch((e=>{throw new wn.sv(String(e),"ERR_INVALID_INPUT")}));try{return Vu.verify(t,r.digest,e)}catch(o){throw new wn.sv(String(o),"ERR_INVALID_INPUT")}}(this._key,t,e)}marshal(){return e=this._key,Vu.ProjectivePoint.fromHex(e).toRawBytes(!0);var e}get bytes(){return Ui.encode({Type:Fi.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return Hr(this.bytes,e.bytes)}async hash(){const e=$r.sha256.digest(this.bytes);let t;return Yr(e)?({bytes:t}=await e):t=e.bytes,t}}class Wu{_key;_publicKey;constructor(e,t){this._key=e,this._publicKey=t??function(e){try{return Vu.getPublicKey(e,!0)}catch(t){throw new wn.sv(String(t),"ERR_INVALID_PRIVATE_KEY")}}(e),function(e){try{Vu.getPublicKey(e,!0)}catch(t){throw new wn.sv(String(t),"ERR_INVALID_PRIVATE_KEY")}}(this._key),Gu(this._publicKey)}sign(e){return function(e,t){const n=$r.sha256.digest(t instanceof Uint8Array?t:t.subarray());if(Yr(n))return n.then((t=>{let{digest:n}=t;return Vu.sign(n,e).toDERRawBytes()})).catch((e=>{throw new wn.sv(String(e),"ERR_INVALID_INPUT")}));try{return Vu.sign(n.digest,e).toDERRawBytes()}catch(r){throw new wn.sv(String(r),"ERR_INVALID_INPUT")}}(this._key,e)}get public(){return new Zu(this._publicKey)}marshal(){return this._key}get bytes(){return ji.encode({Type:Fi.Secp256k1,Data:this.marshal()}).subarray()}equals(e){return Hr(this.bytes,e.bytes)}hash(){const e=$r.sha256.digest(this.bytes);return Yr(e)?e.then((e=>{let{bytes:t}=e;return t})):e.bytes}async id(){return qi(await this.public.hash(),"base58btc")}async export(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"libp2p-key";if("libp2p-key"===t)return Li(this.bytes,e);throw new wn.sv(`export format '${t}' is not supported`,"ERR_INVALID_EXPORT_FORMAT")}}function qu(e){return new Wu(e)}function Ku(e){return new Zu(e)}async function Yu(){const e=Vu.utils.randomPrivateKey();return new Wu(e)}const Ju={rsa:i,ed25519:o,secp256k1:s};function Xu(e){const t=Object.keys(Ju).join(" / ");return new wn.sv(`invalid or unsupported key type ${e}. Must be ${t}`,"ERR_UNSUPPORTED_KEY_TYPE")}function Qu(e){const t=Ui.decode(e),n=t.Data??new Uint8Array;switch(t.Type){case Fi.RSA:return Ju.rsa.unmarshalRsaPublicKey(n);case Fi.Ed25519:return Ju.ed25519.unmarshalEd25519PublicKey(n);case Fi.Secp256k1:return Ju.secp256k1.unmarshalSecp256k1PublicKey(n);default:throw Xu(t.Type??"unknown")}}var el=n(3613);const tl=["string","number","bigint","symbol"],nl=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function rl(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(tl.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(nl.includes(t))return t;return}(e);return n||"Object"}class ol{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}ol.uint=new ol(0,"uint",!0),ol.negint=new ol(1,"negint",!0),ol.bytes=new ol(2,"bytes",!0),ol.string=new ol(3,"string",!0),ol.array=new ol(4,"array",!1),ol.map=new ol(5,"map",!1),ol.tag=new ol(6,"tag",!1),ol.float=new ol(7,"float",!0),ol.false=new ol(7,"false",!0),ol.true=new ol(7,"true",!0),ol.null=new ol(7,"null",!0),ol.undefined=new ol(7,"undefined",!0),ol.break=new ol(7,"break",!0);class il{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const sl=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,al=new TextDecoder,ul=new TextEncoder;function ll(e){return sl&&globalThis.Buffer.isBuffer(e)}const cl=sl?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):yl(e,t,n):(e,t,n)=>n-t>64?al.decode(e.subarray(t,n)):yl(e,t,n),fl=sl?e=>e.length>64?globalThis.Buffer.from(e):gl(e):e=>e.length>64?ul.encode(e):gl(e),dl=sl?(e,t,n)=>ll(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),hl=sl?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),function(e){return e instanceof Uint8Array?ll(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let o of e)r+o.length>n.length&&(o=o.subarray(0,n.length-r)),n.set(o,r),r+=o.length;return n},pl=sl?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function gl(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}function yl(e,t,n){const r=[];for(;t<n;){const o=e[t];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let n,r,a,u;switch(s){case 1:o<128&&(i=o);break;case 2:n=e[t+1],128===(192&n)&&(u=(31&o)<<6|63&n,u>127&&(i=u));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(u=(15&o)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&o)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),t+=s}return function(e){const t=e.length;if(t<=ml)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=ml));return n}(r)}const ml=4096;const vl="CBOR decode error:",bl="CBOR encode error:",wl=[];function El(e,t,n){if(e.length-t<n)throw new Error(`${vl} not enough data for type`)}wl[23]=1,wl[24]=2,wl[25]=3,wl[26]=5,wl[27]=9;const Al=[24,256,65536,4294967296,BigInt("18446744073709551616")];function Sl(e,t,n){El(e,t,1);const r=e[t];if(!0===n.strict&&r<Al[0])throw new Error(`${vl} integer encoded in more bytes than necessary (strict decode)`);return r}function Cl(e,t,n){El(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<Al[1])throw new Error(`${vl} integer encoded in more bytes than necessary (strict decode)`);return r}function Tl(e,t,n){El(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<Al[2])throw new Error(`${vl} integer encoded in more bytes than necessary (strict decode)`);return r}function kl(e,t,n){El(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(r)<<BigInt(32))+BigInt(o);if(!0===n.strict&&i<Al[3])throw new Error(`${vl} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(!0===n.allowBigInt)return i;throw new Error(`${vl} integers outside of the safe integer range are not supported`)}function xl(e,t){return Il(e,0,t.value)}function Il(e,t,n){if(n<Al[0]){const r=Number(n);e.push([t|r])}else if(n<Al[1]){const r=Number(n);e.push([24|t,r])}else if(n<Al[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<Al[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<Al[4]))throw new Error(`${vl} encountered BigInt larger than allowable range`);{const n=[27|t,0,0,0,0,0,0,0];let o=Number(r&BigInt(4294967295)),i=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&o,o>>=8,n[7]=255&o,o>>=8,n[6]=255&o,o>>=8,n[5]=255&o,n[4]=255&i,i>>=8,n[3]=255&i,i>>=8,n[2]=255&i,i>>=8,n[1]=255&i,e.push(n)}}}xl.encodedSize=function(e){return Il.encodedSize(e.value)},Il.encodedSize=function(e){return e<Al[0]?1:e<Al[1]?2:e<Al[2]?3:e<Al[3]?5:9},xl.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const _l=BigInt(-1),Ol=BigInt(1);function Nl(e,t){const n=t.value,r="bigint"===typeof n?n*_l-Ol:-1*n-1;Il(e,t.type.majorEncoded,r)}function Pl(e,t,n,r){El(e,t,n+r);const o=dl(e,t+n,t+n+r);return new il(ol.bytes,o,n+r)}function Dl(e,t,n,r){return Pl(e,t,1,n)}function Bl(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===ol.string?fl(e.value):e.value),e.encodedBytes}function Rl(e,t){const n=Bl(t);Il(e,t.type.majorEncoded,n.length),e.push(n)}function Ll(e,t,n,r,o){const i=n+r;El(e,t,i);const s=new il(ol.string,cl(e,t+n,t+i),i);return!0===o.retainStringBytes&&(s.byteValue=dl(e,t+n,t+i)),s}function Fl(e,t,n,r){return Ll(e,t,1,n,r)}Nl.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*_l-Ol:-1*t-1;return n<Al[0]?1:n<Al[1]?2:n<Al[2]?3:n<Al[3]?5:9},Nl.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},Rl.encodedSize=function(e){const t=Bl(e);return Il.encodedSize(t.length)+t.length},Rl.compareTokens=function(e,t){return n=Bl(e),r=Bl(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(ll(e)&&ll(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const Ml=Rl;function Ul(e,t,n,r){return new il(ol.array,r,n)}function jl(e,t,n,r){return Ul(0,0,1,n)}function zl(e,t){Il(e,ol.array.majorEncoded,t.value)}function $l(e,t,n,r){return new il(ol.map,r,n)}function Hl(e,t,n,r){return $l(0,0,1,n)}function Vl(e,t){Il(e,ol.map.majorEncoded,t.value)}function Gl(e,t,n,r){return new il(ol.tag,n,1)}function Zl(e,t){Il(e,ol.tag.majorEncoded,t.value)}zl.compareTokens=xl.compareTokens,zl.encodedSize=function(e){return Il.encodedSize(e.value)},Vl.compareTokens=xl.compareTokens,Vl.encodedSize=function(e){return Il.encodedSize(e.value)},Zl.compareTokens=xl.compareTokens,Zl.encodedSize=function(e){return Il.encodedSize(e.value)};const Wl=20,ql=21,Kl=22,Yl=23;function Jl(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error(`${vl} NaN values are not supported`);if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error(`${vl} Infinity values are not supported`)}return new il(ol.float,e,t)}function Xl(e,t,n){const r=t.value;if(!1===r)e.push([ol.float.majorEncoded|Wl]);else if(!0===r)e.push([ol.float.majorEncoded|ql]);else if(null===r)e.push([ol.float.majorEncoded|Kl]);else if(void 0===r)e.push([ol.float.majorEncoded|Yl]);else{let t,i=!1;n&&!0===n.float64||(nc(r),t=rc(tc,1),r===t||Number.isNaN(r)?(tc[0]=249,e.push(tc.slice(0,3)),i=!0):(oc(r),t=ic(tc,1),r===t&&(tc[0]=250,e.push(tc.slice(0,5)),i=!0))),i||(o=r,ec.setFloat64(0,o,!1),t=sc(tc,1),tc[0]=251,e.push(tc.slice(0,9)))}var o}Xl.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){nc(n);let e=rc(tc,1);if(n===e||Number.isNaN(n))return 3;if(oc(n),e=ic(tc,1),n===e)return 5}return 9};const Ql=new ArrayBuffer(9),ec=new DataView(Ql,1),tc=new Uint8Array(Ql,0);function nc(e){if(e===1/0)ec.setUint16(0,31744,!1);else if(e===-1/0)ec.setUint16(0,64512,!1);else if(Number.isNaN(e))ec.setUint16(0,32256,!1);else{ec.setFloat32(0,e);const t=ec.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)ec.setUint16(0,31744,!1);else if(0===n)ec.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?ec.setUint16(0,0):e<-14?ec.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):ec.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function rc(e,t){if(e.length-t<2)throw new Error(`${vl} not enough data for float16`);const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,o=1023&n;let i;return i=0===r?o*2**-24:31!==r?(o+1024)*2**(r-25):0===o?1/0:NaN,32768&n?-i:i}function oc(e){ec.setFloat32(0,e,!1)}function ic(e,t){if(e.length-t<4)throw new Error(`${vl} not enough data for float32`);const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function sc(e,t){if(e.length-t<8)throw new Error(`${vl} not enough data for float64`);const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function ac(e,t,n){throw new Error(`${vl} encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function uc(e){return()=>{throw new Error(`${vl} ${e}`)}}Xl.compareTokens=xl.compareTokens;const lc=[];for(let Dm=0;Dm<=23;Dm++)lc[Dm]=ac;lc[24]=function(e,t,n,r){return new il(ol.uint,Sl(e,t+1,r),2)},lc[25]=function(e,t,n,r){return new il(ol.uint,Cl(e,t+1,r),3)},lc[26]=function(e,t,n,r){return new il(ol.uint,Tl(e,t+1,r),5)},lc[27]=function(e,t,n,r){return new il(ol.uint,kl(e,t+1,r),9)},lc[28]=ac,lc[29]=ac,lc[30]=ac,lc[31]=ac;for(let Dm=32;Dm<=55;Dm++)lc[Dm]=ac;lc[56]=function(e,t,n,r){return new il(ol.negint,-1-Sl(e,t+1,r),2)},lc[57]=function(e,t,n,r){return new il(ol.negint,-1-Cl(e,t+1,r),3)},lc[58]=function(e,t,n,r){return new il(ol.negint,-1-Tl(e,t+1,r),5)},lc[59]=function(e,t,n,r){const o=kl(e,t+1,r);if("bigint"!==typeof o){const e=-1-o;if(e>=Number.MIN_SAFE_INTEGER)return new il(ol.negint,e,9)}if(!0!==r.allowBigInt)throw new Error(`${vl} integers outside of the safe integer range are not supported`);return new il(ol.negint,_l-BigInt(o),9)},lc[60]=ac,lc[61]=ac,lc[62]=ac,lc[63]=ac;for(let Dm=64;Dm<=87;Dm++)lc[Dm]=Dl;lc[88]=function(e,t,n,r){return Pl(e,t,2,Sl(e,t+1,r))},lc[89]=function(e,t,n,r){return Pl(e,t,3,Cl(e,t+1,r))},lc[90]=function(e,t,n,r){return Pl(e,t,5,Tl(e,t+1,r))},lc[91]=function(e,t,n,r){const o=kl(e,t+1,r);if("bigint"===typeof o)throw new Error(`${vl} 64-bit integer bytes lengths not supported`);return Pl(e,t,9,o)},lc[92]=ac,lc[93]=ac,lc[94]=ac,lc[95]=uc("indefinite length bytes/strings are not supported");for(let Dm=96;Dm<=119;Dm++)lc[Dm]=Fl;lc[120]=function(e,t,n,r){return Ll(e,t,2,Sl(e,t+1,r),r)},lc[121]=function(e,t,n,r){return Ll(e,t,3,Cl(e,t+1,r),r)},lc[122]=function(e,t,n,r){return Ll(e,t,5,Tl(e,t+1,r),r)},lc[123]=function(e,t,n,r){const o=kl(e,t+1,r);if("bigint"===typeof o)throw new Error(`${vl} 64-bit integer string lengths not supported`);return Ll(e,t,9,o,r)},lc[124]=ac,lc[125]=ac,lc[126]=ac,lc[127]=uc("indefinite length bytes/strings are not supported");for(let Dm=128;Dm<=151;Dm++)lc[Dm]=jl;lc[152]=function(e,t,n,r){return Ul(0,0,2,Sl(e,t+1,r))},lc[153]=function(e,t,n,r){return Ul(0,0,3,Cl(e,t+1,r))},lc[154]=function(e,t,n,r){return Ul(0,0,5,Tl(e,t+1,r))},lc[155]=function(e,t,n,r){const o=kl(e,t+1,r);if("bigint"===typeof o)throw new Error(`${vl} 64-bit integer array lengths not supported`);return Ul(0,0,9,o)},lc[156]=ac,lc[157]=ac,lc[158]=ac,lc[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${vl} indefinite length items not allowed`);return Ul(0,0,1,1/0)};for(let Dm=160;Dm<=183;Dm++)lc[Dm]=Hl;lc[184]=function(e,t,n,r){return $l(0,0,2,Sl(e,t+1,r))},lc[185]=function(e,t,n,r){return $l(0,0,3,Cl(e,t+1,r))},lc[186]=function(e,t,n,r){return $l(0,0,5,Tl(e,t+1,r))},lc[187]=function(e,t,n,r){const o=kl(e,t+1,r);if("bigint"===typeof o)throw new Error(`${vl} 64-bit integer map lengths not supported`);return $l(0,0,9,o)},lc[188]=ac,lc[189]=ac,lc[190]=ac,lc[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${vl} indefinite length items not allowed`);return $l(0,0,1,1/0)};for(let Dm=192;Dm<=215;Dm++)lc[Dm]=Gl;lc[216]=function(e,t,n,r){return new il(ol.tag,Sl(e,t+1,r),2)},lc[217]=function(e,t,n,r){return new il(ol.tag,Cl(e,t+1,r),3)},lc[218]=function(e,t,n,r){return new il(ol.tag,Tl(e,t+1,r),5)},lc[219]=function(e,t,n,r){return new il(ol.tag,kl(e,t+1,r),9)},lc[220]=ac,lc[221]=ac,lc[222]=ac,lc[223]=ac;for(let Dm=224;Dm<=243;Dm++)lc[Dm]=uc("simple values are not supported");lc[244]=ac,lc[245]=ac,lc[246]=ac,lc[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error(`${vl} undefined values are not supported`);return!0===r.coerceUndefinedToNull?new il(ol.null,null,1):new il(ol.undefined,void 0,1)},lc[248]=uc("simple values are not supported"),lc[249]=function(e,t,n,r){return Jl(rc(e,t+1),3,r)},lc[250]=function(e,t,n,r){return Jl(ic(e,t+1),5,r)},lc[251]=function(e,t,n,r){return Jl(sc(e,t+1),9,r)},lc[252]=ac,lc[253]=ac,lc[254]=ac,lc[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${vl} indefinite length items not allowed`);return new il(ol.break,void 0,1)};const cc=[];for(let Dm=0;Dm<24;Dm++)cc[Dm]=new il(ol.uint,Dm,1);for(let Dm=-1;Dm>=-24;Dm--)cc[31-Dm]=new il(ol.negint,Dm,1);cc[64]=new il(ol.bytes,new Uint8Array(0),1),cc[96]=new il(ol.string,"",1),cc[128]=new il(ol.array,0,1),cc[160]=new il(ol.map,0,1),cc[244]=new il(ol.false,!1,1),cc[245]=new il(ol.true,!0,1),cc[246]=new il(ol.null,null,1);(function(){const e=[];e[ol.uint.major]=xl,e[ol.negint.major]=Nl,e[ol.bytes.major]=Rl,e[ol.string.major]=Ml,e[ol.array.major]=zl,e[ol.map.major]=Vl,e[ol.tag.major]=Zl,e[ol.float.major]=Xl})(),new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256;this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=pl(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(){let e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(1===this.chunks.length){const n=this.chunks[0];t&&this.cursor>n.length/2?(e=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):e=dl(n,0,this.cursor)}else e=hl(this.chunks,this.cursor);return t&&this.reset(),e}};class fc{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${bl} object contains circular references`);return new fc(t,e)}}const dc={null:new il(ol.null,null),undefined:new il(ol.undefined,void 0),true:new il(ol.true,!0),false:new il(ol.false,!1),emptyArray:new il(ol.array,0),emptyMap:new il(ol.map,0)},hc={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new il(e>=0?ol.uint:ol.negint,e):new il(ol.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new il(ol.uint,e):new il(ol.negint,e),Uint8Array:(e,t,n,r)=>new il(ol.bytes,e),string:(e,t,n,r)=>new il(ol.string,e),boolean:(e,t,n,r)=>e?dc.true:dc.false,null:(e,t,n,r)=>dc.null,undefined:(e,t,n,r)=>dc.undefined,ArrayBuffer:(e,t,n,r)=>new il(ol.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new il(ol.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[dc.emptyArray,new il(ol.break)]:dc.emptyArray;r=fc.createCheck(r,e);const o=[];let i=0;for(const s of e)o[i++]=pc(s,n,r);return n.addBreakTokens?[new il(ol.array,e.length),o,new il(ol.break)]:[new il(ol.array,e.length),o]},Object(e,t,n,r){const o="Object"!==t,i=o?e.keys():Object.keys(e),s=o?e.size:i.length;if(!s)return!0===n.addBreakTokens?[dc.emptyMap,new il(ol.break)]:dc.emptyMap;r=fc.createCheck(r,e);const a=[];let u=0;for(const l of i)a[u++]=[pc(l,n,r),pc(o?e.get(l):e[l],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new il(ol.map,s),a,new il(ol.break)]:[new il(ol.map,s),a]}};hc.Map=hc.Object,hc.Buffer=hc.Uint8Array;for(const Dm of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))hc[`${Dm}Array`]=hc.DataView;function pc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=rl(e),o=t&&t.typeEncoders&&t.typeEncoders[r]||hc[r];if("function"===typeof o){const i=o(e,r,t,n);if(null!=i)return i}const i=hc[r];if(!i)throw new Error(`${bl} unsupported type: ${r}`);return i(e,r,t,n)}const gc={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class yc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._pos=0,this.data=e,this.options=t}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){const e=this.data[this._pos];let t=cc[e];if(void 0===t){const n=lc[e];if(!n)throw new Error(`${vl} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const r=31&e;t=n(this.data,this._pos,r,this.options)}return this._pos+=t.encodedLength,t}}const mc=Symbol.for("DONE"),vc=Symbol.for("BREAK");function bc(e,t){if(e.done())return mc;const n=e.next();if(n.type===ol.break)return vc;if(n.type.terminal)return n.value;if(n.type===ol.array)return function(e,t,n){const r=[];for(let o=0;o<e.value;o++){const i=bc(t,n);if(i===vc){if(e.value===1/0)break;throw new Error(`${vl} got unexpected break to lengthed array`)}if(i===mc)throw new Error(`${vl} found array but not enough entries (got ${o}, expected ${e.value})`);r[o]=i}return r}(n,e,t);if(n.type===ol.map)return function(e,t,n){const r=!0===n.useMaps,o=r?void 0:{},i=r?new Map:void 0;for(let s=0;s<e.value;s++){const a=bc(t,n);if(a===vc){if(e.value===1/0)break;throw new Error(`${vl} got unexpected break to lengthed map`)}if(a===mc)throw new Error(`${vl} found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==r&&"string"!==typeof a)throw new Error(`${vl} non-string keys not supported (got ${typeof a})`);if(!0===n.rejectDuplicateMapKeys&&(r&&i.has(a)||!r&&a in o))throw new Error(`${vl} found repeat map key "${a}"`);const u=bc(t,n);if(u===mc)throw new Error(`${vl} found map but not enough entries (got ${s} [no value], expected ${e.value})`);r?i.set(a,u):o[a]=u}return r?i:o}(n,e,t);if(n.type===ol.tag){if(t.tags&&"function"===typeof t.tags[n.value]){const r=bc(e,t);return t.tags[n.value](r)}throw new Error(`${vl} tag not supported (${n.value})`)}throw new Error("unsupported")}function wc(e,t){const[n,r]=function(e,t){if(!(e instanceof Uint8Array))throw new Error(`${vl} data to decode must be a Uint8Array`);const n=(t=Object.assign({},gc,t)).tokenizer||new yc(e,t),r=bc(n,t);if(r===mc)throw new Error(`${vl} did not find any content to decode`);if(r===vc)throw new Error(`${vl} got unexpected break`);return[r,e.subarray(n.pos())]}(e,t);if(r.length>0)throw new Error(`${vl} too many terminals, data makes no sense`);return n}var Ec=n(95114);const Ac="ERR_UNRECOGNIZED_VALIDITY",Sc="ERR_SIGNATURE_VERIFICATION",Cc="ERR_UNDEFINED_PARAMETER";var Tc;!function(e){let t,n,r;!function(e){e.EOL="EOL"}(t=e.ValidityType||(e.ValidityType={})),function(e){e[e.EOL=0]="EOL"}(n||(n={})),function(e){e.codec=()=>en(n)}(t=e.ValidityType||(e.ValidityType={})),e.codec=()=>(null==r&&(r=tn((function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!1!==r.lengthDelimited&&n.fork(),null!=t.value&&(n.uint32(10),n.bytes(t.value)),null!=t.signatureV1&&(n.uint32(18),n.bytes(t.signatureV1)),null!=t.validityType&&(n.uint32(24),e.ValidityType.codec().encode(t.validityType,n)),null!=t.validity&&(n.uint32(34),n.bytes(t.validity)),null!=t.sequence&&(n.uint32(40),n.uint64(t.sequence)),null!=t.ttl&&(n.uint32(48),n.uint64(t.ttl)),null!=t.pubKey&&(n.uint32(58),n.bytes(t.pubKey)),null!=t.signatureV2&&(n.uint32(66),n.bytes(t.signatureV2)),null!=t.data&&(n.uint32(74),n.bytes(t.data)),!1!==r.lengthDelimited&&n.ldelim()}),((t,n)=>{const r={},o=null==n?t.len:t.pos+n;for(;t.pos<o;){const n=t.uint32();switch(n>>>3){case 1:r.value=t.bytes();break;case 2:r.signatureV1=t.bytes();break;case 3:r.validityType=e.ValidityType.codec().decode(t);break;case 4:r.validity=t.bytes();break;case 5:r.sequence=t.uint64();break;case 6:r.ttl=t.uint64();break;case 7:r.pubKey=t.bytes();break;case 8:r.signatureV2=t.bytes();break;case 9:r.data=t.bytes();break;default:t.skipType(7&n)}}return r}))),r),e.encode=t=>qt(t,e.codec()),e.decode=t=>It(t,e.codec())}(Tc||(Tc={}));const kc=(0,Lr.kg)("ipns:utils"),xc=Kr("/ipns/"),Ic=e=>"signatureV1"in e?Tc.encode({value:Kr(e.value),signatureV1:e.signatureV1,validityType:e.validityType,validity:Kr(e.validity),sequence:e.sequence,ttl:e.ttl,pubKey:e.pubKey,signatureV2:e.signatureV2,data:e.data}):Tc.encode({pubKey:e.pubKey,signatureV2:e.signatureV2,data:e.data});function _c(e){const t=Tc.decode(e);if(null!=t.sequence&&(t.sequence=BigInt(t.sequence)),null!=t.ttl&&(t.ttl=BigInt(t.ttl)),null==t.signatureV2||null==t.data)throw ft()(new Error("missing data or signatureV2"),Sc);const n=Oc(t.data),r=Nc(n.Value),o=qi(n.Validity);if(null!=t.value&&null!=t.signatureV1)return Pc(t),{value:r,validityType:Tc.ValidityType.EOL,validity:o,sequence:n.Sequence,ttl:n.TTL,pubKey:t.pubKey,signatureV1:t.signatureV1,signatureV2:t.signatureV2,data:t.data};if(null!=t.signatureV2)return{value:r,validityType:Tc.ValidityType.EOL,validity:o,sequence:n.Sequence,ttl:n.TTL,pubKey:t.pubKey,signatureV2:t.signatureV2,data:t.data};throw new Error("invalid record: does not include signatureV1 or signatureV2")}const Oc=e=>{const t=wc(e);if(0!==t.ValidityType)throw ft()(new Error("Unknown validity type"),Ac);return t.ValidityType=Tc.ValidityType.EOL,Number.isInteger(t.Sequence)&&(t.Sequence=BigInt(t.Sequence)),Number.isInteger(t.TTL)&&(t.TTL=BigInt(t.TTL)),t},Nc=e=>{if(null!=e){if((0,el.I)(e))return`/ipns/${e.toCID().toString(Ec.base36)}`;if(e instanceof Uint8Array){const t=qi(e);t.startsWith("/")&&(e=t)}const t=e.toString().trim();if(t.startsWith("/")&&t.length>1)return t;const n=u.k0.asCID(e);if(null!=n)return 114===n.code?`/ipns/${n.toString(Ec.base36)}`:`/ipfs/${n.toV1().toString()}`;try{return e instanceof Uint8Array?`/ipfs/${u.k0.decode(e).toV1().toString()}`:`/ipfs/${u.k0.parse(t).toV1().toString()}`}catch{}}throw ft()(new Error("Value must be a valid content path starting with /"),"ERR_INVALID_VALUE")},Pc=e=>{if(null==e.data)throw ft()(new Error("Record data is missing"),"ERR_INVALID_RECORD_DATA");const t=Oc(e.data);if(!Hr(t.Value,e.value??new Uint8Array(0)))throw ft()(new Error('Field "value" did not match between protobuf and CBOR'),Sc);if(!Hr(t.Validity,e.validity??new Uint8Array(0)))throw ft()(new Error('Field "validity" did not match between protobuf and CBOR'),Sc);if(t.ValidityType!==e.validityType)throw ft()(new Error('Field "validityType" did not match between protobuf and CBOR'),Sc);if(t.Sequence!==e.sequence)throw ft()(new Error('Field "sequence" did not match between protobuf and CBOR'),Sc);if(t.TTL!==e.ttl)throw ft()(new Error('Field "ttl" did not match between protobuf and CBOR'),Sc)};var Dc=n(92244),Bc=n.n(Dc);const Rc=(0,Lr.kg)("ipns:validator"),Lc=async(e,t)=>{const n=_c(t);let r;try{const t=(o=n.data,Di([Kr("ipns-signature:"),o]));r=await e.verify(t,n.signatureV2)}catch(i){r=!1}var o;if(!r)throw Rc.error("record signature verification failed"),ft()(new Error("record signature verification failed"),Sc);if(n.validityType===Tc.ValidityType.EOL){if(Bc().fromString(n.validity).toDate().getTime()<Date.now())throw Rc.error("record has expired"),ft()(new Error("record has expired"),"ERR_IPNS_EXPIRED_RECORD")}else if(null!=n.validityType)throw Rc.error("unrecognized validity type"),ft()(new Error("unrecognized validity type"),Ac);Rc("ipns record for %s is valid",n.value)};async function Fc(e,t){if(t.byteLength>10240)throw ft()(new Error("record too large"),"ERR_RECORD_TOO_LARGE");const n=(e=>(0,Fr.cv)(e.slice(xc.length)))(e),r=_c(t),o=await(async(e,t)=>{if(null==t||null==e){const e=new Error("one or more of the provided parameters are not defined");throw kc.error(e),ft()(e,Cc)}let n;if(null!=t.pubKey){try{n=Qu(t.pubKey)}catch(r){throw kc.error(r),r}if(!(await(0,Fr.y5)(t.pubKey)).equals(e))throw ft()(new Error("Embedded public key did not match PeerID"),"ERR_INVALID_EMBEDDED_KEY")}else null!=e.publicKey&&(n=Qu(e.publicKey));if(null!=n)return n;throw ft()(new Error("no public key is available"),Cc)})(n,r);await Lc(o,t)}async function*Mc(e){const t=/\r?\n/,n=new TextDecoder("utf8");let r="";for await(let o of e){"string"===typeof o&&(o=(new TextEncoder).encode(o)),r+=n.decode(o,{stream:!0});const e=r.split(t);r=e.pop()??"";for(let t=0;t<e.length;t++)yield JSON.parse(e[t])}r+=n.decode(),""!==r&&(yield JSON.parse(r))}var Uc=n(82395);class jc extends Error{constructor(e){super(e),this.name="TimeoutError"}}class zc extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const $c=e=>void 0===globalThis.DOMException?new zc(e):new DOMException(e),Hc=e=>{const t=void 0===e.reason?$c("This operation was aborted."):e.reason;return t instanceof Error?t:$c(t)};function Vc(e,t){const{milliseconds:n,fallback:r,message:o,customTimers:i={setTimeout:setTimeout,clearTimeout:clearTimeout}}=t;let s;const a=new Promise(((a,u)=>{if("number"!==typeof n||1!==Math.sign(n))throw new TypeError(`Expected \`milliseconds\` to be a positive number, got \`${n}\``);if(t.signal){const{signal:e}=t;e.aborted&&u(Hc(e)),e.addEventListener("abort",(()=>{u(Hc(e))}))}if(n===Number.POSITIVE_INFINITY)return void e.then(a,u);const l=new jc;s=i.setTimeout.call(void 0,(()=>{if(r)try{a(r())}catch(t){u(t)}else"function"===typeof e.cancel&&e.cancel(),!1===o?a():o instanceof Error?u(o):(l.message=o??`Promise timed out after ${n} milliseconds`,u(l))}),n),(async()=>{try{a(await e)}catch(t){u(t)}})()})).finally((()=>{a.clear()}));return a.clear=()=>{i.clearTimeout.call(void 0,s),s=void 0},a}class Gc{#a=[];enqueue(e,t){const n={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&this.#a[this.size-1].priority>=t.priority)return void this.#a.push(n);const r=function(e,t,n){let r=0,o=e.length;for(;o>0;){const i=Math.trunc(o/2);let s=r+i;n(e[s],t)<=0?(r=++s,o-=i+1):o=i}return r}(this.#a,n,((e,t)=>t.priority-e.priority));this.#a.splice(r,0,n)}dequeue(){const e=this.#a.shift();return e?.run}filter(e){return this.#a.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this.#a.length}}class Zc extends Uc.v{#u;#l;#c=0;#f;#d;#h=0;#p;#g;#a;#y;#m=0;#v;#b;#w;timeout;constructor(e){if(super(),!("number"===typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:Gc,...e}).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${e.intervalCap?.toString()??""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${e.interval?.toString()??""}\` (${typeof e.interval})`);this.#u=e.carryoverConcurrencyCount,this.#l=e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,this.#f=e.intervalCap,this.#d=e.interval,this.#a=new e.queueClass,this.#y=e.queueClass,this.concurrency=e.concurrency,this.timeout=e.timeout,this.#w=!0===e.throwOnTimeout,this.#b=!1===e.autoStart}get#E(){return this.#l||this.#c<this.#f}get#A(){return this.#m<this.#v}#S(){this.#m--,this.#C(),this.emit("next")}#T(){this.#k(),this.#x(),this.#g=void 0}get#I(){const e=Date.now();if(void 0===this.#p){const t=this.#h-e;if(!(t<0))return void 0===this.#g&&(this.#g=setTimeout((()=>{this.#T()}),t)),!0;this.#c=this.#u?this.#m:0}return!1}#C(){if(0===this.#a.size)return this.#p&&clearInterval(this.#p),this.#p=void 0,this.emit("empty"),0===this.#m&&this.emit("idle"),!1;if(!this.#b){const e=!this.#I;if(this.#E&&this.#A){const t=this.#a.dequeue();return!!t&&(this.emit("active"),t(),e&&this.#x(),!0)}}return!1}#x(){this.#l||void 0!==this.#p||(this.#p=setInterval((()=>{this.#k()}),this.#d),this.#h=Date.now()+this.#d)}#k(){0===this.#c&&0===this.#m&&this.#p&&(clearInterval(this.#p),this.#p=void 0),this.#c=this.#u?this.#m:0,this.#_()}#_(){for(;this.#C(););}get concurrency(){return this.#v}set concurrency(e){if(!("number"===typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this.#v=e,this.#_()}async#O(e){return new Promise(((t,n)=>{e.addEventListener("abort",(()=>{n(e.reason)}),{once:!0})}))}async add(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t={timeout:this.timeout,throwOnTimeout:this.#w,...t},new Promise(((n,r)=>{this.#a.enqueue((async()=>{this.#m++,this.#c++;try{t.signal?.throwIfAborted();let r=e({signal:t.signal});t.timeout&&(r=Vc(Promise.resolve(r),{milliseconds:t.timeout})),t.signal&&(r=Promise.race([r,this.#O(t.signal)]));const o=await r;n(o),this.emit("completed",o)}catch(o){if(o instanceof jc&&!t.throwOnTimeout)return void n();r(o),this.emit("error",o)}finally{this.#S()}}),t),this.emit("add"),this.#C()}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this.#b?(this.#b=!1,this.#_(),this):this}pause(){this.#b=!0}clear(){this.#a=new this.#y}async onEmpty(){0!==this.#a.size&&await this.#N("empty")}async onSizeLessThan(e){this.#a.size<e||await this.#N("next",(()=>this.#a.size<e))}async onIdle(){0===this.#m&&0===this.#a.size||await this.#N("idle")}async#N(e,t){return new Promise((n=>{const r=()=>{t&&!t()||(this.off(e,r),n())};this.on(e,r)}))}get size(){return this.#a.size}sizeBy(e){return this.#a.filter(e).length}get pending(){return this.#m}get isPaused(){return this.#b}}const Wc=function(e){if(null!=e[Symbol.asyncIterator])return(async()=>{for await(const t of e)return t})();for(const t of e)return t};const qc=function(e){const[t,n]=null!=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],r=[];return{peek:()=>t.next(),push:e=>{r.push(e)},next:()=>r.length>0?{done:!1,value:r.shift()}:t.next(),[n](){return this}}};const Kc=function(e,t){let n=0;if(null!=e[Symbol.asyncIterator])return async function*(){for await(const r of e)yield t(r,n++)}();const r=qc(e),{value:o,done:i}=r.next();if(!0===i)return function*(){}();const s=t(o,n++);if("function"===typeof s.then)return async function*(){yield await s;for await(const e of r)yield t(e,n++)}();const a=t;return function*(){yield s;for(const e of r)yield a(e,n++)}()},Yc=Kr("/ipns/");function Jc(e){return Hr(e.subarray(0,Yc.byteLength),Yc)}const Xc=e=>(0,Fr.cv)(e.slice(Yc.length));class Qc{client;constructor(e){this.client=e}findProviders(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){yield*Kc(t.client.getProviders(e,n),(e=>({id:e.ID,multiaddrs:e.Addrs??[]})))}()}catch(n){return Promise.reject(n)}}async provide(){}async put(e,t,n){if(!Jc(e))return;const r=Xc(e),o=_c(t);await this.client.putIPNS(r,o,n)}async get(e,t){if(!Jc(e))throw new wn.sv("Not found","ERR_NOT_FOUND");const n=Xc(e);try{const e=await this.client.getIPNS(n,t);return Ic(e)}catch(r){if("ERR_BAD_RESPONSE"===r.code)throw new wn.sv("Not found","ERR_NOT_FOUND");throw r}}}class ef{client;constructor(e){this.client=e}async findPeer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await Wc(this.client.getPeers(e,t));if(null!=n)return{id:n.ID,multiaddrs:n.Addrs??[]};throw new wn.sv("Not found","ERR_NOT_FOUND")}getClosestPeers(e){try{return async function*(){}()}catch(t){return Promise.reject(t)}}}const tf=(0,Lr.kg)("delegated-routing-v1-http-api-client"),nf=4,rf=3e4;class of{started;httpQueue;shutDownController;clientUrl;timeout;contentRouting;peerRouting;constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.started=!1,this.shutDownController=new AbortController,mn(1/0,this.shutDownController.signal),this.httpQueue=new Zc({concurrency:t.concurrentRequests??nf}),this.clientUrl=e instanceof URL?e:new URL(e),this.timeout=t.timeout??rf,this.contentRouting=new Qc(this),this.peerRouting=new ef(this)}get[Br](){return this.contentRouting}get[Rr](){return this.peerRouting}isStarted(){return this.started}start(){this.started=!0}stop(){this.httpQueue.clear(),this.shutDownController.abort(),this.started=!1}getProviders(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){tf("getProviders starts: %c",e);const r=AbortSignal.timeout(t.timeout),o=Mr([t.shutDownController.signal,r,n.signal]);mn(1/0,r,o);const i=En(),s=En();t.httpQueue.add((async()=>(i.resolve(),s.promise)));try{await i.promise;const n=`${t.clientUrl}routing/v1/providers/${e.toString()}`,r={headers:{Accept:"application/x-ndjson"},signal:o},s=await fetch(n,r);if(404===s.status)throw new wn.sv("No matching records found.","ERR_NOT_FOUND");if(422===s.status)throw new wn.sv("Request does not conform to schema or semantic constraints.","ERR_INVALID_REQUEST");if(null==s.body)throw new wn.sv("Routing response had no body","ERR_BAD_RESPONSE");if("application/json"===s.headers.get("Content-Type")){const e=await s.json();for(const n of e.Providers){const e=t.#P(n);null!=e&&(yield e)}}else for await(const e of Mc((0,Ur.Z)(s.body))){const n=t.#P(e);null!=n&&(yield n)}}catch(a){tf.error("getProviders errored:",a)}finally{o.clear(),s.resolve(),tf("getProviders finished: %c",e)}}()}catch(n){return Promise.reject(n)}}getPeers(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){tf("getPeers starts: %c",e);const r=AbortSignal.timeout(t.timeout),o=Mr([t.shutDownController.signal,r,n.signal]);mn(1/0,r,o);const i=En(),s=En();t.httpQueue.add((async()=>(i.resolve(),s.promise)));try{await i.promise;const n=`${t.clientUrl}routing/v1/peers/${e.toCID().toString()}`,r={headers:{Accept:"application/x-ndjson"},signal:o},s=await fetch(n,r);if(404===s.status)throw new wn.sv("No matching records found.","ERR_NOT_FOUND");if(422===s.status)throw new wn.sv("Request does not conform to schema or semantic constraints.","ERR_INVALID_REQUEST");if(null==s.body)throw new wn.sv("Routing response had no body","ERR_BAD_RESPONSE");if("application/json"===s.headers.get("Content-Type")){const e=await s.json();for(const n of e.Peers){const e=t.#P(n);null!=e&&(yield e)}}else for await(const e of Mc((0,Ur.Z)(s.body))){const n=t.#P(e);null!=n&&(yield n)}}catch(a){tf.error("getPeers errored:",a)}finally{o.clear(),s.resolve(),tf("getPeers finished: %c",e)}}()}catch(n){return Promise.reject(n)}}async getIPNS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};tf("getIPNS starts: %c",e);const n=AbortSignal.timeout(this.timeout),r=Mr([this.shutDownController.signal,n,t.signal]);mn(1/0,n,r);const o=En(),i=En();this.httpQueue.add((async()=>(o.resolve(),i.promise)));const s=`${this.clientUrl}routing/v1/ipns/${e.toCID().toString()}`;try{await o.promise;const n={headers:{Accept:"application/vnd.ipfs.ipns-record"},signal:r},i=await fetch(s,n);if(tf("getIPNS GET %s %d",s,i.status),404===i.status)throw new wn.sv("No matching records found.","ERR_NOT_FOUND");if(422===i.status)throw new wn.sv("Request does not conform to schema or semantic constraints.","ERR_INVALID_REQUEST");if(null==i.body)throw new wn.sv("GET ipns response had no body","ERR_BAD_RESPONSE");const a=await i.arrayBuffer(),u=new Uint8Array(a,0,a.byteLength);return!1!==t.validate&&await Fc((e=>Di([xc,e.toBytes()]))(e),u),_c(u)}catch(a){throw tf.error("getIPNS GET %s error:",s,a),a}finally{r.clear(),i.resolve(),tf("getIPNS finished: %c",e)}}async putIPNS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};tf("putIPNS starts: %c",e);const r=AbortSignal.timeout(this.timeout),o=Mr([this.shutDownController.signal,r,n.signal]);mn(1/0,r,o);const i=En(),s=En();this.httpQueue.add((async()=>(i.resolve(),s.promise)));const a=`${this.clientUrl}routing/v1/ipns/${e.toCID().toString()}`;try{await i.promise;const e={method:"PUT",headers:{"Content-Type":"application/vnd.ipfs.ipns-record"},body:Ic(t),signal:o},n=await fetch(a,e);if(tf("putIPNS PUT %s %d",a,n.status),200!==n.status)throw new wn.sv("PUT ipns response had status other than 200","ERR_BAD_RESPONSE")}catch(u){throw tf.error("putIPNS PUT %s error:",a,u.stack),u}finally{o.clear(),s.resolve(),tf("putIPNS finished: %c",e)}}#P(e){const t=[],n=e.Addrs?.map(br.HM)??[];return null!=e.Protocols&&t.push(...e.Protocols),null!=e.Protocol&&(t.push(e.Protocol),delete e.Protocol),{...e,Schema:"peer",ID:(0,Fr.jE)(e.ID),Addrs:n,Protocols:t}}}const sf=["string","number","bigint","symbol"],af=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function uf(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(sf.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(af.includes(t))return t;return}(e);return n||"Object"}class lf{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}lf.uint=new lf(0,"uint",!0),lf.negint=new lf(1,"negint",!0),lf.bytes=new lf(2,"bytes",!0),lf.string=new lf(3,"string",!0),lf.array=new lf(4,"array",!1),lf.map=new lf(5,"map",!1),lf.tag=new lf(6,"tag",!1),lf.float=new lf(7,"float",!0),lf.false=new lf(7,"false",!0),lf.true=new lf(7,"true",!0),lf.null=new lf(7,"null",!0),lf.undefined=new lf(7,"undefined",!0),lf.break=new lf(7,"break",!0);class cf{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const ff=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,df=new TextDecoder,hf=new TextEncoder;function pf(e){return ff&&globalThis.Buffer.isBuffer(e)}const gf=ff?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):Ef(e,t,n):(e,t,n)=>n-t>64?df.decode(e.subarray(t,n)):Ef(e,t,n),yf=ff?e=>e.length>64?globalThis.Buffer.from(e):wf(e):e=>e.length>64?hf.encode(e):wf(e),mf=ff?(e,t,n)=>pf(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),vf=ff?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),function(e){return e instanceof Uint8Array?pf(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let o of e)r+o.length>n.length&&(o=o.subarray(0,n.length-r)),n.set(o,r),r+=o.length;return n},bf=ff?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function wf(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}function Ef(e,t,n){const r=[];for(;t<n;){const o=e[t];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let n,r,a,u;switch(s){case 1:o<128&&(i=o);break;case 2:n=e[t+1],128===(192&n)&&(u=(31&o)<<6|63&n,u>127&&(i=u));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(u=(15&o)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&o)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),t+=s}return function(e){const t=e.length;if(t<=Af)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Af));return n}(r)}const Af=4096;const Sf="CBOR decode error:",Cf="CBOR encode error:",Tf=[];function kf(e,t,n){if(e.length-t<n)throw new Error(`${Sf} not enough data for type`)}Tf[23]=1,Tf[24]=2,Tf[25]=3,Tf[26]=5,Tf[27]=9;const xf=[24,256,65536,4294967296,BigInt("18446744073709551616")];function If(e,t,n){kf(e,t,1);const r=e[t];if(!0===n.strict&&r<xf[0])throw new Error(`${Sf} integer encoded in more bytes than necessary (strict decode)`);return r}function _f(e,t,n){kf(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<xf[1])throw new Error(`${Sf} integer encoded in more bytes than necessary (strict decode)`);return r}function Of(e,t,n){kf(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<xf[2])throw new Error(`${Sf} integer encoded in more bytes than necessary (strict decode)`);return r}function Nf(e,t,n){kf(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(r)<<BigInt(32))+BigInt(o);if(!0===n.strict&&i<xf[3])throw new Error(`${Sf} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(!0===n.allowBigInt)return i;throw new Error(`${Sf} integers outside of the safe integer range are not supported`)}function Pf(e,t){return Df(e,0,t.value)}function Df(e,t,n){if(n<xf[0]){const r=Number(n);e.push([t|r])}else if(n<xf[1]){const r=Number(n);e.push([24|t,r])}else if(n<xf[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<xf[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<xf[4]))throw new Error(`${Sf} encountered BigInt larger than allowable range`);{const n=[27|t,0,0,0,0,0,0,0];let o=Number(r&BigInt(4294967295)),i=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&o,o>>=8,n[7]=255&o,o>>=8,n[6]=255&o,o>>=8,n[5]=255&o,n[4]=255&i,i>>=8,n[3]=255&i,i>>=8,n[2]=255&i,i>>=8,n[1]=255&i,e.push(n)}}}Pf.encodedSize=function(e){return Df.encodedSize(e.value)},Df.encodedSize=function(e){return e<xf[0]?1:e<xf[1]?2:e<xf[2]?3:e<xf[3]?5:9},Pf.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const Bf=BigInt(-1),Rf=BigInt(1);function Lf(e,t){const n=t.value,r="bigint"===typeof n?n*Bf-Rf:-1*n-1;Df(e,t.type.majorEncoded,r)}function Ff(e,t,n,r){kf(e,t,n+r);const o=mf(e,t+n,t+n+r);return new cf(lf.bytes,o,n+r)}function Mf(e,t,n,r){return Ff(e,t,1,n)}function Uf(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===lf.string?yf(e.value):e.value),e.encodedBytes}function jf(e,t){const n=Uf(t);Df(e,t.type.majorEncoded,n.length),e.push(n)}function zf(e,t,n,r,o){const i=n+r;kf(e,t,i);const s=new cf(lf.string,gf(e,t+n,t+i),i);return!0===o.retainStringBytes&&(s.byteValue=mf(e,t+n,t+i)),s}function $f(e,t,n,r){return zf(e,t,1,n,r)}Lf.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*Bf-Rf:-1*t-1;return n<xf[0]?1:n<xf[1]?2:n<xf[2]?3:n<xf[3]?5:9},Lf.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},jf.encodedSize=function(e){const t=Uf(e);return Df.encodedSize(t.length)+t.length},jf.compareTokens=function(e,t){return n=Uf(e),r=Uf(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(pf(e)&&pf(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const Hf=jf;function Vf(e,t,n,r){return new cf(lf.array,r,n)}function Gf(e,t,n,r){return Vf(0,0,1,n)}function Zf(e,t){Df(e,lf.array.majorEncoded,t.value)}function Wf(e,t,n,r){return new cf(lf.map,r,n)}function qf(e,t,n,r){return Wf(0,0,1,n)}function Kf(e,t){Df(e,lf.map.majorEncoded,t.value)}function Yf(e,t,n,r){return new cf(lf.tag,n,1)}function Jf(e,t){Df(e,lf.tag.majorEncoded,t.value)}Zf.compareTokens=Pf.compareTokens,Zf.encodedSize=function(e){return Df.encodedSize(e.value)},Kf.compareTokens=Pf.compareTokens,Kf.encodedSize=function(e){return Df.encodedSize(e.value)},Jf.compareTokens=Pf.compareTokens,Jf.encodedSize=function(e){return Df.encodedSize(e.value)};const Xf=20,Qf=21,ed=22,td=23;function nd(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error(`${Sf} NaN values are not supported`);if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error(`${Sf} Infinity values are not supported`)}return new cf(lf.float,e,t)}function rd(e,t,n){const r=t.value;if(!1===r)e.push([lf.float.majorEncoded|Xf]);else if(!0===r)e.push([lf.float.majorEncoded|Qf]);else if(null===r)e.push([lf.float.majorEncoded|ed]);else if(void 0===r)e.push([lf.float.majorEncoded|td]);else{let t,i=!1;n&&!0===n.float64||(ad(r),t=ud(sd,1),r===t||Number.isNaN(r)?(sd[0]=249,e.push(sd.slice(0,3)),i=!0):(ld(r),t=cd(sd,1),r===t&&(sd[0]=250,e.push(sd.slice(0,5)),i=!0))),i||(o=r,id.setFloat64(0,o,!1),t=fd(sd,1),sd[0]=251,e.push(sd.slice(0,9)))}var o}rd.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){ad(n);let e=ud(sd,1);if(n===e||Number.isNaN(n))return 3;if(ld(n),e=cd(sd,1),n===e)return 5}return 9};const od=new ArrayBuffer(9),id=new DataView(od,1),sd=new Uint8Array(od,0);function ad(e){if(e===1/0)id.setUint16(0,31744,!1);else if(e===-1/0)id.setUint16(0,64512,!1);else if(Number.isNaN(e))id.setUint16(0,32256,!1);else{id.setFloat32(0,e);const t=id.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)id.setUint16(0,31744,!1);else if(0===n)id.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?id.setUint16(0,0):e<-14?id.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):id.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function ud(e,t){if(e.length-t<2)throw new Error(`${Sf} not enough data for float16`);const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,o=1023&n;let i;return i=0===r?o*2**-24:31!==r?(o+1024)*2**(r-25):0===o?1/0:NaN,32768&n?-i:i}function ld(e){id.setFloat32(0,e,!1)}function cd(e,t){if(e.length-t<4)throw new Error(`${Sf} not enough data for float32`);const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function fd(e,t){if(e.length-t<8)throw new Error(`${Sf} not enough data for float64`);const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function dd(e,t,n){throw new Error(`${Sf} encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function hd(e){return()=>{throw new Error(`${Sf} ${e}`)}}rd.compareTokens=Pf.compareTokens;const pd=[];for(let Dm=0;Dm<=23;Dm++)pd[Dm]=dd;pd[24]=function(e,t,n,r){return new cf(lf.uint,If(e,t+1,r),2)},pd[25]=function(e,t,n,r){return new cf(lf.uint,_f(e,t+1,r),3)},pd[26]=function(e,t,n,r){return new cf(lf.uint,Of(e,t+1,r),5)},pd[27]=function(e,t,n,r){return new cf(lf.uint,Nf(e,t+1,r),9)},pd[28]=dd,pd[29]=dd,pd[30]=dd,pd[31]=dd;for(let Dm=32;Dm<=55;Dm++)pd[Dm]=dd;pd[56]=function(e,t,n,r){return new cf(lf.negint,-1-If(e,t+1,r),2)},pd[57]=function(e,t,n,r){return new cf(lf.negint,-1-_f(e,t+1,r),3)},pd[58]=function(e,t,n,r){return new cf(lf.negint,-1-Of(e,t+1,r),5)},pd[59]=function(e,t,n,r){const o=Nf(e,t+1,r);if("bigint"!==typeof o){const e=-1-o;if(e>=Number.MIN_SAFE_INTEGER)return new cf(lf.negint,e,9)}if(!0!==r.allowBigInt)throw new Error(`${Sf} integers outside of the safe integer range are not supported`);return new cf(lf.negint,Bf-BigInt(o),9)},pd[60]=dd,pd[61]=dd,pd[62]=dd,pd[63]=dd;for(let Dm=64;Dm<=87;Dm++)pd[Dm]=Mf;pd[88]=function(e,t,n,r){return Ff(e,t,2,If(e,t+1,r))},pd[89]=function(e,t,n,r){return Ff(e,t,3,_f(e,t+1,r))},pd[90]=function(e,t,n,r){return Ff(e,t,5,Of(e,t+1,r))},pd[91]=function(e,t,n,r){const o=Nf(e,t+1,r);if("bigint"===typeof o)throw new Error(`${Sf} 64-bit integer bytes lengths not supported`);return Ff(e,t,9,o)},pd[92]=dd,pd[93]=dd,pd[94]=dd,pd[95]=hd("indefinite length bytes/strings are not supported");for(let Dm=96;Dm<=119;Dm++)pd[Dm]=$f;pd[120]=function(e,t,n,r){return zf(e,t,2,If(e,t+1,r),r)},pd[121]=function(e,t,n,r){return zf(e,t,3,_f(e,t+1,r),r)},pd[122]=function(e,t,n,r){return zf(e,t,5,Of(e,t+1,r),r)},pd[123]=function(e,t,n,r){const o=Nf(e,t+1,r);if("bigint"===typeof o)throw new Error(`${Sf} 64-bit integer string lengths not supported`);return zf(e,t,9,o,r)},pd[124]=dd,pd[125]=dd,pd[126]=dd,pd[127]=hd("indefinite length bytes/strings are not supported");for(let Dm=128;Dm<=151;Dm++)pd[Dm]=Gf;pd[152]=function(e,t,n,r){return Vf(0,0,2,If(e,t+1,r))},pd[153]=function(e,t,n,r){return Vf(0,0,3,_f(e,t+1,r))},pd[154]=function(e,t,n,r){return Vf(0,0,5,Of(e,t+1,r))},pd[155]=function(e,t,n,r){const o=Nf(e,t+1,r);if("bigint"===typeof o)throw new Error(`${Sf} 64-bit integer array lengths not supported`);return Vf(0,0,9,o)},pd[156]=dd,pd[157]=dd,pd[158]=dd,pd[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${Sf} indefinite length items not allowed`);return Vf(0,0,1,1/0)};for(let Dm=160;Dm<=183;Dm++)pd[Dm]=qf;pd[184]=function(e,t,n,r){return Wf(0,0,2,If(e,t+1,r))},pd[185]=function(e,t,n,r){return Wf(0,0,3,_f(e,t+1,r))},pd[186]=function(e,t,n,r){return Wf(0,0,5,Of(e,t+1,r))},pd[187]=function(e,t,n,r){const o=Nf(e,t+1,r);if("bigint"===typeof o)throw new Error(`${Sf} 64-bit integer map lengths not supported`);return Wf(0,0,9,o)},pd[188]=dd,pd[189]=dd,pd[190]=dd,pd[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${Sf} indefinite length items not allowed`);return Wf(0,0,1,1/0)};for(let Dm=192;Dm<=215;Dm++)pd[Dm]=Yf;pd[216]=function(e,t,n,r){return new cf(lf.tag,If(e,t+1,r),2)},pd[217]=function(e,t,n,r){return new cf(lf.tag,_f(e,t+1,r),3)},pd[218]=function(e,t,n,r){return new cf(lf.tag,Of(e,t+1,r),5)},pd[219]=function(e,t,n,r){return new cf(lf.tag,Nf(e,t+1,r),9)},pd[220]=dd,pd[221]=dd,pd[222]=dd,pd[223]=dd;for(let Dm=224;Dm<=243;Dm++)pd[Dm]=hd("simple values are not supported");pd[244]=dd,pd[245]=dd,pd[246]=dd,pd[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error(`${Sf} undefined values are not supported`);return!0===r.coerceUndefinedToNull?new cf(lf.null,null,1):new cf(lf.undefined,void 0,1)},pd[248]=hd("simple values are not supported"),pd[249]=function(e,t,n,r){return nd(ud(e,t+1),3,r)},pd[250]=function(e,t,n,r){return nd(cd(e,t+1),5,r)},pd[251]=function(e,t,n,r){return nd(fd(e,t+1),9,r)},pd[252]=dd,pd[253]=dd,pd[254]=dd,pd[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${Sf} indefinite length items not allowed`);return new cf(lf.break,void 0,1)};const gd=[];for(let Dm=0;Dm<24;Dm++)gd[Dm]=new cf(lf.uint,Dm,1);for(let Dm=-1;Dm>=-24;Dm--)gd[31-Dm]=new cf(lf.negint,Dm,1);gd[64]=new cf(lf.bytes,new Uint8Array(0),1),gd[96]=new cf(lf.string,"",1),gd[128]=new cf(lf.array,0,1),gd[160]=new cf(lf.map,0,1),gd[244]=new cf(lf.false,!1,1),gd[245]=new cf(lf.true,!0,1),gd[246]=new cf(lf.null,null,1);(function(){const e=[];e[lf.uint.major]=Pf,e[lf.negint.major]=Lf,e[lf.bytes.major]=jf,e[lf.string.major]=Hf,e[lf.array.major]=Zf,e[lf.map.major]=Kf,e[lf.tag.major]=Jf,e[lf.float.major]=rd})(),new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256;this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=bf(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(){let e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(1===this.chunks.length){const n=this.chunks[0];t&&this.cursor>n.length/2?(e=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):e=mf(n,0,this.cursor)}else e=vf(this.chunks,this.cursor);return t&&this.reset(),e}};class yd{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${Cf} object contains circular references`);return new yd(t,e)}}const md={null:new cf(lf.null,null),undefined:new cf(lf.undefined,void 0),true:new cf(lf.true,!0),false:new cf(lf.false,!1),emptyArray:new cf(lf.array,0),emptyMap:new cf(lf.map,0)},vd={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new cf(e>=0?lf.uint:lf.negint,e):new cf(lf.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new cf(lf.uint,e):new cf(lf.negint,e),Uint8Array:(e,t,n,r)=>new cf(lf.bytes,e),string:(e,t,n,r)=>new cf(lf.string,e),boolean:(e,t,n,r)=>e?md.true:md.false,null:(e,t,n,r)=>md.null,undefined:(e,t,n,r)=>md.undefined,ArrayBuffer:(e,t,n,r)=>new cf(lf.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new cf(lf.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[md.emptyArray,new cf(lf.break)]:md.emptyArray;r=yd.createCheck(r,e);const o=[];let i=0;for(const s of e)o[i++]=bd(s,n,r);return n.addBreakTokens?[new cf(lf.array,e.length),o,new cf(lf.break)]:[new cf(lf.array,e.length),o]},Object(e,t,n,r){const o="Object"!==t,i=o?e.keys():Object.keys(e),s=o?e.size:i.length;if(!s)return!0===n.addBreakTokens?[md.emptyMap,new cf(lf.break)]:md.emptyMap;r=yd.createCheck(r,e);const a=[];let u=0;for(const l of i)a[u++]=[bd(l,n,r),bd(o?e.get(l):e[l],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new cf(lf.map,s),a,new cf(lf.break)]:[new cf(lf.map,s),a]}};vd.Map=vd.Object,vd.Buffer=vd.Uint8Array;for(const Dm of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))vd[`${Dm}Array`]=vd.DataView;function bd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=uf(e),o=t&&t.typeEncoders&&t.typeEncoders[r]||vd[r];if("function"===typeof o){const i=o(e,r,t,n);if(null!=i)return i}const i=vd[r];if(!i)throw new Error(`${Cf} unsupported type: ${r}`);return i(e,r,t,n)}const wd={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Ed{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._pos=0,this.data=e,this.options=t}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){const e=this.data[this._pos];let t=gd[e];if(void 0===t){const n=pd[e];if(!n)throw new Error(`${Sf} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const r=31&e;t=n(this.data,this._pos,r,this.options)}return this._pos+=t.encodedLength,t}}const Ad=Symbol.for("DONE"),Sd=Symbol.for("BREAK");function Cd(e,t){if(e.done())return Ad;const n=e.next();if(n.type===lf.break)return Sd;if(n.type.terminal)return n.value;if(n.type===lf.array)return function(e,t,n){const r=[];for(let o=0;o<e.value;o++){const i=Cd(t,n);if(i===Sd){if(e.value===1/0)break;throw new Error(`${Sf} got unexpected break to lengthed array`)}if(i===Ad)throw new Error(`${Sf} found array but not enough entries (got ${o}, expected ${e.value})`);r[o]=i}return r}(n,e,t);if(n.type===lf.map)return function(e,t,n){const r=!0===n.useMaps,o=r?void 0:{},i=r?new Map:void 0;for(let s=0;s<e.value;s++){const a=Cd(t,n);if(a===Sd){if(e.value===1/0)break;throw new Error(`${Sf} got unexpected break to lengthed map`)}if(a===Ad)throw new Error(`${Sf} found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==r&&"string"!==typeof a)throw new Error(`${Sf} non-string keys not supported (got ${typeof a})`);if(!0===n.rejectDuplicateMapKeys&&(r&&i.has(a)||!r&&a in o))throw new Error(`${Sf} found repeat map key "${a}"`);const u=Cd(t,n);if(u===Ad)throw new Error(`${Sf} found map but not enough entries (got ${s} [no value], expected ${e.value})`);r?i.set(a,u):o[a]=u}return r?i:o}(n,e,t);if(n.type===lf.tag){if(t.tags&&"function"===typeof t.tags[n.value]){const r=Cd(e,t);return t.tags[n.value](r)}throw new Error(`${Sf} tag not supported (${n.value})`)}throw new Error("unsupported")}function Td(e,t){const[n,r]=function(e,t){if(!(e instanceof Uint8Array))throw new Error(`${Sf} data to decode must be a Uint8Array`);const n=(t=Object.assign({},wd,t)).tokenizer||new Ed(e,t),r=Cd(n,t);if(r===Ad)throw new Error(`${Sf} did not find any content to decode`);if(r===Sd)throw new Error(`${Sf} got unexpected break`);return[r,e.subarray(n.pos())]}(e,t);if(r.length>0)throw new Error(`${Sf} too many terminals, data makes no sense`);return n}function kd(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function xd(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Id=xd("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),_d=xd("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{const t=function(e=0){return new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),Od={utf8:Id,"utf-8":Id,hex:Ot.gh.base16,latin1:_d,ascii:_d,binary:_d,...Ot.gh};function Nd(e,t="utf8"){const n=Od[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${e}`)}function Pd(e,t="utf8"){const n=Od[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)}const Dd="ERR_SIGNATURE_VERIFICATION";var Bd;!function(e){let t,n,r;!function(e){e.EOL="EOL"}(t=e.ValidityType||(e.ValidityType={})),function(e){e[e.EOL=0]="EOL"}(n||(n={})),function(e){e.codec=()=>en(n)}(t=e.ValidityType||(e.ValidityType={})),e.codec=()=>(null==r&&(r=tn((function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!1!==r.lengthDelimited&&n.fork(),null!=t.value&&(n.uint32(10),n.bytes(t.value)),null!=t.signatureV1&&(n.uint32(18),n.bytes(t.signatureV1)),null!=t.validityType&&(n.uint32(24),e.ValidityType.codec().encode(t.validityType,n)),null!=t.validity&&(n.uint32(34),n.bytes(t.validity)),null!=t.sequence&&(n.uint32(40),n.uint64(t.sequence)),null!=t.ttl&&(n.uint32(48),n.uint64(t.ttl)),null!=t.pubKey&&(n.uint32(58),n.bytes(t.pubKey)),null!=t.signatureV2&&(n.uint32(66),n.bytes(t.signatureV2)),null!=t.data&&(n.uint32(74),n.bytes(t.data)),!1!==r.lengthDelimited&&n.ldelim()}),((t,n)=>{const r={},o=null==n?t.len:t.pos+n;for(;t.pos<o;){const n=t.uint32();switch(n>>>3){case 1:r.value=t.bytes();break;case 2:r.signatureV1=t.bytes();break;case 3:r.validityType=e.ValidityType.codec().decode(t);break;case 4:r.validity=t.bytes();break;case 5:r.sequence=t.uint64();break;case 6:r.ttl=t.uint64();break;case 7:r.pubKey=t.bytes();break;case 8:r.signatureV2=t.bytes();break;case 9:r.data=t.bytes();break;default:t.skipType(7&n)}}return r}))),r),e.encode=t=>qt(t,e.codec()),e.decode=t=>It(t,e.codec())}(Bd||(Bd={}));(0,Lr.kg)("ipns:utils");const Rd=Nd("/ipns/");const Ld=e=>(0,Fr.cv)(e.slice(Rd.length)),Fd=e=>{const t=Td(e);if(0!==t.ValidityType)throw ft()(new Error("Unknown validity type"),"ERR_UNRECOGNIZED_VALIDITY");return t.ValidityType=Bd.ValidityType.EOL,Number.isInteger(t.Sequence)&&(t.Sequence=BigInt(t.Sequence)),Number.isInteger(t.TTL)&&(t.TTL=BigInt(t.TTL)),t},Md=e=>{if(null!=e){if((0,el.I)(e))return`/ipns/${e.toCID().toString(Ec.base36)}`;if(e instanceof Uint8Array){const t=Pd(e);t.startsWith("/")&&(e=t)}const t=e.toString().trim();if(t.startsWith("/")&&t.length>1)return t;const n=u.k0.asCID(e);if(null!=n)return 114===n.code?`/ipns/${n.toString(Ec.base36)}`:`/ipfs/${n.toV1().toString()}`;try{return e instanceof Uint8Array?`/ipfs/${u.k0.decode(e).toV1().toString()}`:`/ipfs/${u.k0.parse(t).toV1().toString()}`}catch{}}throw ft()(new Error("Value must be a valid content path starting with /"),"ERR_INVALID_VALUE")},Ud=e=>{if(null==e.data)throw ft()(new Error("Record data is missing"),"ERR_INVALID_RECORD_DATA");const t=Fd(e.data);if(!kd(t.Value,e.value??new Uint8Array(0)))throw ft()(new Error('Field "value" did not match between protobuf and CBOR'),Dd);if(!kd(t.Validity,e.validity??new Uint8Array(0)))throw ft()(new Error('Field "validity" did not match between protobuf and CBOR'),Dd);if(t.ValidityType!==e.validityType)throw ft()(new Error('Field "validityType" did not match between protobuf and CBOR'),Dd);if(t.Sequence!==e.sequence)throw ft()(new Error('Field "sequence" did not match between protobuf and CBOR'),Dd);if(t.TTL!==e.ttl)throw ft()(new Error('Field "ttl" did not match between protobuf and CBOR'),Dd)};const jd=function(e){if(null!=e[Symbol.asyncIterator])return(async()=>{for await(const t of e)return t})();for(const t of e)return t};const zd=function(e){const[t,n]=null!=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],r=[];return{peek:()=>t.next(),push:e=>{r.push(e)},next:()=>r.length>0?{done:!1,value:r.shift()}:t.next(),[n](){return this}}};const $d=function(e,t){let n=0;if(null!=e[Symbol.asyncIterator])return async function*(){for await(const r of e)yield t(r,n++)}();const r=zd(e),{value:o,done:i}=r.next();if(!0===i)return function*(){}();const s=t(o,n++);if("function"===typeof s.then)return async function*(){yield await s;for await(const e of r)yield t(e,n++)}();const a=t;return function*(){yield s;for(const e of r)yield a(e,n++)}()},Hd=Nd("/ipns/");function Vd(e){return kd(e.subarray(0,Hd.byteLength),Hd)}class Gd{client;constructor(e){this.client=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new of(new URL(e),t)}(e)}async provide(e,t){}async*findProviders(e,t){yield*$d(this.client.getProviders(e,t),(e=>({id:e.ID,multiaddrs:e.Addrs,protocols:e.Protocols})))}async put(e,t,n){if(!Vd(e))return;const r=Ld(e),o=function(e){const t=Bd.decode(e);if(null!=t.sequence&&(t.sequence=BigInt(t.sequence)),null!=t.ttl&&(t.ttl=BigInt(t.ttl)),null==t.signatureV2||null==t.data)throw ft()(new Error("missing data or signatureV2"),Dd);const n=Fd(t.data),r=Md(n.Value),o=Pd(n.Validity);if(null!=t.value&&null!=t.signatureV1)return Ud(t),{value:r,validityType:Bd.ValidityType.EOL,validity:o,sequence:n.Sequence,ttl:n.TTL,pubKey:t.pubKey,signatureV1:t.signatureV1,signatureV2:t.signatureV2,data:t.data};if(null!=t.signatureV2)return{value:r,validityType:Bd.ValidityType.EOL,validity:o,sequence:n.Sequence,ttl:n.TTL,pubKey:t.pubKey,signatureV2:t.signatureV2,data:t.data};throw new Error("invalid record: does not include signatureV1 or signatureV2")}(t);await this.client.putIPNS(r,o,n)}async get(e,t){if(!Vd(e))throw new wn.sv("Not found","ERR_NOT_FOUND");const n=Ld(e);try{const e=await this.client.getIPNS(n,t);return"signatureV1"in(r=e)?Bd.encode({value:Nd(r.value),signatureV1:r.signatureV1,validityType:r.validityType,validity:Nd(r.validity),sequence:r.sequence,ttl:r.ttl,pubKey:r.pubKey,signatureV2:r.signatureV2,data:r.data}):Bd.encode({pubKey:r.pubKey,signatureV2:r.signatureV2,data:r.data})}catch(o){if("ERR_BAD_RESPONSE"===o.code)throw new wn.sv("Not found","ERR_NOT_FOUND");throw o}var r}async findPeer(e,t){const n=await jd(this.client.getPeers(e,t));if(null!=n)return{id:n.ID,multiaddrs:n.Addrs??[]};throw new wn.sv("Not found","ERR_NOT_FOUND")}async*getClosestPeers(e,t){}}function Zd(e){return new Gd(new URL(e))}const Wd="[a-fA-F\\d:]",qd=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${Wd})|(?<=${Wd})(?=\\s|$))`:"",Kd="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",Yd="[a-fA-F\\d]{1,4}",Jd=`\n(?:\n(?:${Yd}:){7}(?:${Yd}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${Yd}:){6}(?:${Kd}|:${Yd}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${Yd}:){5}(?::${Kd}|(?::${Yd}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${Yd}:){4}(?:(?::${Yd}){0,1}:${Kd}|(?::${Yd}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${Yd}:){3}(?:(?::${Yd}){0,2}:${Kd}|(?::${Yd}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${Yd}:){2}(?:(?::${Yd}){0,3}:${Kd}|(?::${Yd}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${Yd}:){1}(?:(?::${Yd}){0,4}:${Kd}|(?::${Yd}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${Yd}){0,5}:${Kd}|(?::${Yd}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),Xd=new RegExp(`(?:^${Kd}$)|(?:^${Jd}$)`),Qd=new RegExp(`^${Kd}$`),eh=new RegExp(`^${Jd}$`),th=e=>e&&e.exact?Xd:new RegExp(`(?:${qd(e)}${Kd}${qd(e)})|(?:${qd(e)}${Jd}${qd(e)})`,"g");th.v4=e=>e&&e.exact?Qd:new RegExp(`${qd(e)}${Kd}${qd(e)}`,"g"),th.v6=e=>e&&e.exact?eh:new RegExp(`${qd(e)}${Jd}${qd(e)}`,"g");const nh=th;const{toString:rh}=Object.prototype;const oh={global:"g",ignoreCase:"i",multiline:"m",dotAll:"s",sticky:"y",unicode:"u"};function ih(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n=e,"[object RegExp]"!==rh.call(n))throw new TypeError("Expected a RegExp instance");var n;const r=Object.keys(oh).map((n=>("boolean"===typeof t[n]?t[n]:e[n])?oh[n]:"")).join(""),o=new RegExp(t.source||e.source,r);return o.lastIndex="number"===typeof t.lastIndex?t.lastIndex:e.lastIndex,o}function sh(e,t){let{timeout:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return function(e){const t=function(){return e(...arguments)};return Object.defineProperty(t,"name",{value:`functionTimeout(${e.name||"<anonymous>"})`,configurable:!0}),t}((()=>ih(e).test(t)))()}catch(r){throw r}}const ah=15,uh=45,lh={timeout:400};function ch(e){return!(e.length>uh)&&sh(nh.v6({exact:!0}),e,lh)}function fh(e){return!(e.length>ah)&&sh(nh.v4({exact:!0}),e,lh)}const dh={http:"80",https:"443",ws:"80",wss:"443"},hh=["http","https","ws","wss"];function ph(e,t){const n=(t=t??{}).defaultDnsType??"dns4",{scheme:r,hostname:o,port:i}=function(e){const[t]=e.split(":");hh.includes(t)||(e="http"+e.substring(t.length));let{protocol:n,hostname:r,port:o}=new URL(e);if(null==o||""===o){const e=function(e){if(null==e||""===e||null==dh[e])return;return dh[e]}(t);null!=e&&(o=e),null==e&&"http:"===n&&(o="80")}return{scheme:t,hostname:r,port:o}}(e),s="/"+[gh(o,n),yh(i,r),mh(r)].filter((e=>Boolean(e))).reduce(((e,t)=>e.concat(t)),[]).join("/");return(0,br.HM)(s)}function gh(e,t){if(null!=e&&""!==e){if(fh(e))return["ip4",e];if(ch(e))return["ip6",e];if("["===e[0]){const t=e.substring(1,e.length-1);if(ch(t))return["ip6",t]}return[t,e]}}function yh(e,t){if(null!=e&&""!==e)return"udp"===t?["udp",e]:["tcp",e]}function mh(e){if(null==e.match(/^tcp$|^udp$/))return[e]}const vh=["https://trustless-gateway.link","https://4everland.io"],bh=Symbol.for("nodejs.util.inspect.custom");class wh{type="url";multihash;privateKey;publicKey;url;constructor(e){this.url=e.toString(),this.multihash=zr.identity.digest(Nd(this.url))}[bh](){return`PeerId(${this.url})`}[el.C]=!0;toString(){return this.toCID().toString()}toCID(){return u.k0.createV1(2336,this.multihash)}toBytes(){return this.toCID().bytes}equals(e){return null!=e&&(e instanceof Uint8Array&&(e=Pd(e)),e.toString()===this.toString())}}class Eh{gateways;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.gateways=(e.gateways??vh).map((e=>function(e){return e=e.toString(),{id:new wh(new URL(e)),multiaddrs:[ph(e)]}}(e)))}async*findProviders(e,t){yield*this.gateways.toSorted((()=>Math.random()>.5?1:-1)).map((e=>({...e,protocols:["transport-ipfs-gateway-http"]})))}}function Ah(){return new Eh(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function Sh(e){return null!=e&&"function"===typeof e.start&&"function"===typeof e.stop}async function Ch(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)Sh(o)&&e.push(o);await Promise.all(e.map((async e=>{null!=e.beforeStart&&await e.beforeStart()}))),await Promise.all(e.map((async e=>{await e.start()}))),await Promise.all(e.map((async e=>{null!=e.afterStart&&await e.afterStart()})))}async function Th(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const o of n)Sh(o)&&e.push(o);await Promise.all(e.map((async e=>{null!=e.beforeStop&&await e.beforeStop()}))),await Promise.all(e.map((async e=>{await e.stop()}))),await Promise.all(e.map((async e=>{null!=e.afterStop&&await e.afterStop()})))}class kh extends Event{type;detail;constructor(e,t){super(e),this.type=e,this.detail=t}}class xh{#a=[];enqueue(e,t){const n={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&this.#a[this.size-1].priority>=t.priority)return void this.#a.push(n);const r=function(e,t,n){let r=0,o=e.length;for(;o>0;){const i=Math.trunc(o/2);let s=r+i;n(e[s],t)<=0?(r=++s,o-=i+1):o=i}return r}(this.#a,n,((e,t)=>t.priority-e.priority));this.#a.splice(r,0,n)}dequeue(){const e=this.#a.shift();return e?.run}filter(e){return this.#a.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this.#a.length}}class Ih extends Uc.v{#u;#l;#c=0;#f;#d;#h=0;#p;#g;#a;#y;#m=0;#v;#b;#w;timeout;constructor(e){if(super(),!("number"===typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:xh,...e}).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${e.intervalCap?.toString()??""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${e.interval?.toString()??""}\` (${typeof e.interval})`);this.#u=e.carryoverConcurrencyCount,this.#l=e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,this.#f=e.intervalCap,this.#d=e.interval,this.#a=new e.queueClass,this.#y=e.queueClass,this.concurrency=e.concurrency,this.timeout=e.timeout,this.#w=!0===e.throwOnTimeout,this.#b=!1===e.autoStart}get#E(){return this.#l||this.#c<this.#f}get#A(){return this.#m<this.#v}#S(){this.#m--,this.#C(),this.emit("next")}#T(){this.#k(),this.#x(),this.#g=void 0}get#I(){const e=Date.now();if(void 0===this.#p){const t=this.#h-e;if(!(t<0))return void 0===this.#g&&(this.#g=setTimeout((()=>{this.#T()}),t)),!0;this.#c=this.#u?this.#m:0}return!1}#C(){if(0===this.#a.size)return this.#p&&clearInterval(this.#p),this.#p=void 0,this.emit("empty"),0===this.#m&&this.emit("idle"),!1;if(!this.#b){const e=!this.#I;if(this.#E&&this.#A){const t=this.#a.dequeue();return!!t&&(this.emit("active"),t(),e&&this.#x(),!0)}}return!1}#x(){this.#l||void 0!==this.#p||(this.#p=setInterval((()=>{this.#k()}),this.#d),this.#h=Date.now()+this.#d)}#k(){0===this.#c&&0===this.#m&&this.#p&&(clearInterval(this.#p),this.#p=void 0),this.#c=this.#u?this.#m:0,this.#_()}#_(){for(;this.#C(););}get concurrency(){return this.#v}set concurrency(e){if(!("number"===typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this.#v=e,this.#_()}async#O(e){return new Promise(((t,n)=>{e.addEventListener("abort",(()=>{n(e.reason)}),{once:!0})}))}async add(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t={timeout:this.timeout,throwOnTimeout:this.#w,...t},new Promise(((n,r)=>{this.#a.enqueue((async()=>{this.#m++,this.#c++;try{t.signal?.throwIfAborted();let r=e({signal:t.signal});t.timeout&&(r=Vc(Promise.resolve(r),{milliseconds:t.timeout})),t.signal&&(r=Promise.race([r,this.#O(t.signal)]));const o=await r;n(o),this.emit("completed",o)}catch(o){if(o instanceof jc&&!t.throwOnTimeout)return void n();r(o),this.emit("error",o)}finally{this.#S()}}),t),this.emit("add"),this.#C()}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this.#b?(this.#b=!1,this.#_(),this):this}pause(){this.#b=!0}clear(){this.#a=new this.#y}async onEmpty(){0!==this.#a.size&&await this.#N("empty")}async onSizeLessThan(e){this.#a.size<e||await this.#N("next",(()=>this.#a.size<e))}async onIdle(){0===this.#m&&0===this.#a.size||await this.#N("idle")}async#N(e,t){return new Promise((n=>{const r=()=>{t&&!t()||(this.off(e,r),n())};this.on(e,r)}))}get size(){return this.#a.size}sizeBy(e){return this.#a.filter(e).length}get pending(){return this.#m}get isPaused(){return this.#b}}function _h(e){const t=[Hh.A];return null==e?t:Array.isArray(e)?0===e.length?t:e:[e]}function Oh(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Nh=Oh("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Ph=Oh("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{const t=function(e=0){return new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),Dh={utf8:Nh,"utf-8":Nh,hex:Ot.gh.base16,latin1:Ph,ascii:Ph,binary:Ph,...Ot.gh};function Bh(e,t="utf8"){const n=Dh[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)}const Rh=60;function Lh(e){return{Status:e.Status??0,TC:e.TC??e.flag_tc??!1,RD:e.RD??e.flag_rd??!1,RA:e.RA??e.flag_ra??!1,AD:e.AD??e.flag_ad??!1,CD:e.CD??e.flag_cd??!1,Question:(e.Question??e.questions??[]).map((e=>({name:e.name,type:Hh[e.type]}))),Answer:(e.Answer??e.answers??[]).map((e=>({name:e.name,type:Hh[e.type],TTL:e.TTL??e.ttl??Rh,data:e.data instanceof Uint8Array?Bh(e.data):e.data})))}}const Fh=4;function Mh(e){const t=new Ih({concurrency:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).queryConcurrency??Fh});return async function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=new URLSearchParams;o.set("name",n),_h(r.types).forEach((e=>{o.append("type",Hh[e])})),r.onProgress?.(new kh("dns:query",{detail:n}));const i=await t.add((async()=>{const t=await fetch(`${e}?${o}`,{headers:{accept:"application/dns-json"},signal:r?.signal});if(200!==t.status)throw new Error(`Unexpected HTTP status: ${t.status} - ${t.statusText}`);const n=Lh(await t.json());return r.onProgress?.(new kh("dns:response",{detail:n})),n}),{signal:r.signal});if(null==i)throw new Error("No DNS response received");return i}}var Uh=n(34737),jh=n.n(Uh);class zh{lru;constructor(e){this.lru=jh()(e)}get(e,t){let n=!0;const r=[];for(const o of t){const t=this.getAnswers(e,o);if(0===t.length){n=!1;break}r.push(...t)}if(n)return Lh({answers:r})}getAnswers(e,t){const n=`${e.toLowerCase()}-${t}`,r=this.lru.get(n);if(null!=r){const e=r.filter((e=>e.expires>Date.now())).map((e=>{let{expires:t,value:n}=e;return{...n,TTL:Math.round((t-Date.now())/1e3),type:Hh[n.type]}}));return 0===e.length&&this.lru.remove(n),e}return[]}add(e,t){const n=`${e.toLowerCase()}-${t.type}`,r=this.lru.get(n)??[];r.push({expires:Date.now()+1e3*(t.TTL??Rh),value:t}),this.lru.set(n,r)}remove(e,t){const n=`${e.toLowerCase()}-${t}`;this.lru.remove(n)}clear(){this.lru.clear()}}class $h{resolvers;cache;constructor(e){var t;this.resolvers={},this.cache=(t=e.cacheSize??1e3,new zh(t)),Object.entries(e.resolvers??{}).forEach((e=>{let[t,n]=e;Array.isArray(n)||(n=[n]),t.endsWith(".")||(t=`${t}.`),this.resolvers[t]=n})),null==this.resolvers["."]&&(this.resolvers["."]=[Mh("https://cloudflare-dns.com/dns-query"),Mh("https://dns.google/resolve")])}async query(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=_h(t.types),r=!1!==t.cached?this.cache.get(e,n):void 0;if(null!=r)return t.onProgress?.(new kh("dns:cache",{detail:r})),r;const o=`${e.split(".").pop()}.`,i=(this.resolvers[o]??this.resolvers["."]).sort((()=>Math.random()>.5?-1:1)),s=[];for(const u of i){if(!0===t.signal?.aborted)break;try{const r=await u(e,{...t,types:n});for(const t of r.Answer)this.cache.add(e,t);return r}catch(a){s.push(a),t.onProgress?.(new kh("dns:error",{detail:a}))}}if(1===s.length)throw s[0];throw new AggregateError(s,`DNS lookup of ${e} ${n} failed`)}}var Hh;!function(e){e[e.A=1]="A",e[e.CNAME=5]="CNAME",e[e.TXT=16]="TXT",e[e.AAAA=28]="AAAA"}(Hh||(Hh={}));const Vh=function(e){if(null!=e[Symbol.asyncIterator])return(async()=>{for await(const t of e);})();for(const t of e);},Gh=["string","number","bigint","symbol"],Zh=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function Wh(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(Gh.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const n=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(Zh.includes(t))return t;return}(e);return n||"Object"}class qh{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}qh.uint=new qh(0,"uint",!0),qh.negint=new qh(1,"negint",!0),qh.bytes=new qh(2,"bytes",!0),qh.string=new qh(3,"string",!0),qh.array=new qh(4,"array",!1),qh.map=new qh(5,"map",!1),qh.tag=new qh(6,"tag",!1),qh.float=new qh(7,"float",!0),qh.false=new qh(7,"false",!0),qh.true=new qh(7,"true",!0),qh.null=new qh(7,"null",!0),qh.undefined=new qh(7,"undefined",!0),qh.break=new qh(7,"break",!0);class Kh{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const Yh=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,Jh=new TextDecoder,Xh=new TextEncoder;function Qh(e){return Yh&&globalThis.Buffer.isBuffer(e)}function ep(e){return e instanceof Uint8Array?Qh(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const tp=Yh?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):up(e,t,n):(e,t,n)=>n-t>64?Jh.decode(e.subarray(t,n)):up(e,t,n),np=Yh?e=>e.length>64?globalThis.Buffer.from(e):ap(e):e=>e.length>64?Xh.encode(e):ap(e),rp=e=>Uint8Array.from(e),op=Yh?(e,t,n)=>Qh(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),ip=Yh?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),ep(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let o of e)r+o.length>n.length&&(o=o.subarray(0,n.length-r)),n.set(o,r),r+=o.length;return n},sp=Yh?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function ap(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}function up(e,t,n){const r=[];for(;t<n;){const o=e[t];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let n,r,a,u;switch(s){case 1:o<128&&(i=o);break;case 2:n=e[t+1],128===(192&n)&&(u=(31&o)<<6|63&n,u>127&&(i=u));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(u=(15&o)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(i=u));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(u=(15&o)<<18|(63&n)<<12|(63&r)<<6|63&a,u>65535&&u<1114112&&(i=u))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),t+=s}return cp(r)}const lp=4096;function cp(e){const t=e.length;if(t<=lp)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=lp));return n}class fp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256;this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const n=t.length-(this.maxCursor-this.cursor)-1;t.set(e,n)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=sp(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(){let e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(1===this.chunks.length){const n=this.chunks[0];t&&this.cursor>n.length/2?(e=this.cursor===n.length?n:n.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):e=op(n,0,this.cursor)}else e=ip(this.chunks,this.cursor);return t&&this.reset(),e}}const dp="CBOR decode error:",hp="CBOR encode error:",pp=[];function gp(e,t,n){if(e.length-t<n)throw new Error(`${dp} not enough data for type`)}pp[23]=1,pp[24]=2,pp[25]=3,pp[26]=5,pp[27]=9;const yp=[24,256,65536,4294967296,BigInt("18446744073709551616")];function mp(e,t,n){gp(e,t,1);const r=e[t];if(!0===n.strict&&r<yp[0])throw new Error(`${dp} integer encoded in more bytes than necessary (strict decode)`);return r}function vp(e,t,n){gp(e,t,2);const r=e[t]<<8|e[t+1];if(!0===n.strict&&r<yp[1])throw new Error(`${dp} integer encoded in more bytes than necessary (strict decode)`);return r}function bp(e,t,n){gp(e,t,4);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===n.strict&&r<yp[2])throw new Error(`${dp} integer encoded in more bytes than necessary (strict decode)`);return r}function wp(e,t,n){gp(e,t,8);const r=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],o=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],i=(BigInt(r)<<BigInt(32))+BigInt(o);if(!0===n.strict&&i<yp[3])throw new Error(`${dp} integer encoded in more bytes than necessary (strict decode)`);if(i<=Number.MAX_SAFE_INTEGER)return Number(i);if(!0===n.allowBigInt)return i;throw new Error(`${dp} integers outside of the safe integer range are not supported`)}function Ep(e,t){return Ap(e,0,t.value)}function Ap(e,t,n){if(n<yp[0]){const r=Number(n);e.push([t|r])}else if(n<yp[1]){const r=Number(n);e.push([24|t,r])}else if(n<yp[2]){const r=Number(n);e.push([25|t,r>>>8,255&r])}else if(n<yp[3]){const r=Number(n);e.push([26|t,r>>>24&255,r>>>16&255,r>>>8&255,255&r])}else{const r=BigInt(n);if(!(r<yp[4]))throw new Error(`${dp} encountered BigInt larger than allowable range`);{const n=[27|t,0,0,0,0,0,0,0];let o=Number(r&BigInt(4294967295)),i=Number(r>>BigInt(32)&BigInt(4294967295));n[8]=255&o,o>>=8,n[7]=255&o,o>>=8,n[6]=255&o,o>>=8,n[5]=255&o,n[4]=255&i,i>>=8,n[3]=255&i,i>>=8,n[2]=255&i,i>>=8,n[1]=255&i,e.push(n)}}}Ep.encodedSize=function(e){return Ap.encodedSize(e.value)},Ap.encodedSize=function(e){return e<yp[0]?1:e<yp[1]?2:e<yp[2]?3:e<yp[3]?5:9},Ep.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const Sp=BigInt(-1),Cp=BigInt(1);function Tp(e,t){const n=t.value,r="bigint"===typeof n?n*Sp-Cp:-1*n-1;Ap(e,t.type.majorEncoded,r)}function kp(e,t,n,r){gp(e,t,n+r);const o=op(e,t+n,t+n+r);return new Kh(qh.bytes,o,n+r)}function xp(e,t,n,r){return kp(e,t,1,n)}function Ip(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===qh.string?np(e.value):e.value),e.encodedBytes}function _p(e,t){const n=Ip(t);Ap(e,t.type.majorEncoded,n.length),e.push(n)}function Op(e,t,n,r,o){const i=n+r;gp(e,t,i);const s=new Kh(qh.string,tp(e,t+n,t+i),i);return!0===o.retainStringBytes&&(s.byteValue=op(e,t+n,t+i)),s}function Np(e,t,n,r){return Op(e,t,1,n,r)}Tp.encodedSize=function(e){const t=e.value,n="bigint"===typeof t?t*Sp-Cp:-1*t-1;return n<yp[0]?1:n<yp[1]?2:n<yp[2]?3:n<yp[3]?5:9},Tp.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},_p.encodedSize=function(e){const t=Ip(e);return Ap.encodedSize(t.length)+t.length},_p.compareTokens=function(e,t){return n=Ip(e),r=Ip(t),n.length<r.length?-1:n.length>r.length?1:function(e,t){if(Qh(e)&&Qh(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}(n,r);var n,r};const Pp=_p;function Dp(e,t,n,r){return new Kh(qh.array,r,n)}function Bp(e,t,n,r){return Dp(0,0,1,n)}function Rp(e,t){Ap(e,qh.array.majorEncoded,t.value)}function Lp(e,t,n,r){return new Kh(qh.map,r,n)}function Fp(e,t,n,r){return Lp(0,0,1,n)}function Mp(e,t){Ap(e,qh.map.majorEncoded,t.value)}function Up(e,t,n,r){return new Kh(qh.tag,n,1)}function jp(e,t){Ap(e,qh.tag.majorEncoded,t.value)}Rp.compareTokens=Ep.compareTokens,Rp.encodedSize=function(e){return Ap.encodedSize(e.value)},Mp.compareTokens=Ep.compareTokens,Mp.encodedSize=function(e){return Ap.encodedSize(e.value)},jp.compareTokens=Ep.compareTokens,jp.encodedSize=function(e){return Ap.encodedSize(e.value)};const zp=20,$p=21,Hp=22,Vp=23;function Gp(e,t,n){if(n){if(!1===n.allowNaN&&Number.isNaN(e))throw new Error(`${dp} NaN values are not supported`);if(!1===n.allowInfinity&&(e===1/0||e===-1/0))throw new Error(`${dp} Infinity values are not supported`)}return new Kh(qh.float,e,t)}function Zp(e,t,n){const r=t.value;if(!1===r)e.push([qh.float.majorEncoded|zp]);else if(!0===r)e.push([qh.float.majorEncoded|$p]);else if(null===r)e.push([qh.float.majorEncoded|Hp]);else if(void 0===r)e.push([qh.float.majorEncoded|Vp]);else{let t,i=!1;n&&!0===n.float64||(Yp(r),t=Jp(Kp,1),r===t||Number.isNaN(r)?(Kp[0]=249,e.push(Kp.slice(0,3)),i=!0):(Xp(r),t=Qp(Kp,1),r===t&&(Kp[0]=250,e.push(Kp.slice(0,5)),i=!0))),i||(o=r,qp.setFloat64(0,o,!1),t=eg(Kp,1),Kp[0]=251,e.push(Kp.slice(0,9)))}var o}Zp.encodedSize=function(e,t){const n=e.value;if(!1===n||!0===n||null===n||void 0===n)return 1;if(!t||!0!==t.float64){Yp(n);let e=Jp(Kp,1);if(n===e||Number.isNaN(n))return 3;if(Xp(n),e=Qp(Kp,1),n===e)return 5}return 9};const Wp=new ArrayBuffer(9),qp=new DataView(Wp,1),Kp=new Uint8Array(Wp,0);function Yp(e){if(e===1/0)qp.setUint16(0,31744,!1);else if(e===-1/0)qp.setUint16(0,64512,!1);else if(Number.isNaN(e))qp.setUint16(0,32256,!1);else{qp.setFloat32(0,e);const t=qp.getUint32(0),n=(2139095040&t)>>23,r=8388607&t;if(255===n)qp.setUint16(0,31744,!1);else if(0===n)qp.setUint16(0,(2147483648&e)>>16|r>>13,!1);else{const e=n-127;e<-24?qp.setUint16(0,0):e<-14?qp.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):qp.setUint16(0,(2147483648&t)>>16|e+15<<10|r>>13,!1)}}}function Jp(e,t){if(e.length-t<2)throw new Error(`${dp} not enough data for float16`);const n=(e[t]<<8)+e[t+1];if(31744===n)return 1/0;if(64512===n)return-1/0;if(32256===n)return NaN;const r=n>>10&31,o=1023&n;let i;return i=0===r?o*2**-24:31!==r?(o+1024)*2**(r-25):0===o?1/0:NaN,32768&n?-i:i}function Xp(e){qp.setFloat32(0,e,!1)}function Qp(e,t){if(e.length-t<4)throw new Error(`${dp} not enough data for float32`);const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,4).getFloat32(0,!1)}function eg(e,t){if(e.length-t<8)throw new Error(`${dp} not enough data for float64`);const n=(e.byteOffset||0)+t;return new DataView(e.buffer,n,8).getFloat64(0,!1)}function tg(e,t,n){throw new Error(`${dp} encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function ng(e){return()=>{throw new Error(`${dp} ${e}`)}}Zp.compareTokens=Ep.compareTokens;const rg=[];for(let Dm=0;Dm<=23;Dm++)rg[Dm]=tg;rg[24]=function(e,t,n,r){return new Kh(qh.uint,mp(e,t+1,r),2)},rg[25]=function(e,t,n,r){return new Kh(qh.uint,vp(e,t+1,r),3)},rg[26]=function(e,t,n,r){return new Kh(qh.uint,bp(e,t+1,r),5)},rg[27]=function(e,t,n,r){return new Kh(qh.uint,wp(e,t+1,r),9)},rg[28]=tg,rg[29]=tg,rg[30]=tg,rg[31]=tg;for(let Dm=32;Dm<=55;Dm++)rg[Dm]=tg;rg[56]=function(e,t,n,r){return new Kh(qh.negint,-1-mp(e,t+1,r),2)},rg[57]=function(e,t,n,r){return new Kh(qh.negint,-1-vp(e,t+1,r),3)},rg[58]=function(e,t,n,r){return new Kh(qh.negint,-1-bp(e,t+1,r),5)},rg[59]=function(e,t,n,r){const o=wp(e,t+1,r);if("bigint"!==typeof o){const e=-1-o;if(e>=Number.MIN_SAFE_INTEGER)return new Kh(qh.negint,e,9)}if(!0!==r.allowBigInt)throw new Error(`${dp} integers outside of the safe integer range are not supported`);return new Kh(qh.negint,Sp-BigInt(o),9)},rg[60]=tg,rg[61]=tg,rg[62]=tg,rg[63]=tg;for(let Dm=64;Dm<=87;Dm++)rg[Dm]=xp;rg[88]=function(e,t,n,r){return kp(e,t,2,mp(e,t+1,r))},rg[89]=function(e,t,n,r){return kp(e,t,3,vp(e,t+1,r))},rg[90]=function(e,t,n,r){return kp(e,t,5,bp(e,t+1,r))},rg[91]=function(e,t,n,r){const o=wp(e,t+1,r);if("bigint"===typeof o)throw new Error(`${dp} 64-bit integer bytes lengths not supported`);return kp(e,t,9,o)},rg[92]=tg,rg[93]=tg,rg[94]=tg,rg[95]=ng("indefinite length bytes/strings are not supported");for(let Dm=96;Dm<=119;Dm++)rg[Dm]=Np;rg[120]=function(e,t,n,r){return Op(e,t,2,mp(e,t+1,r),r)},rg[121]=function(e,t,n,r){return Op(e,t,3,vp(e,t+1,r),r)},rg[122]=function(e,t,n,r){return Op(e,t,5,bp(e,t+1,r),r)},rg[123]=function(e,t,n,r){const o=wp(e,t+1,r);if("bigint"===typeof o)throw new Error(`${dp} 64-bit integer string lengths not supported`);return Op(e,t,9,o,r)},rg[124]=tg,rg[125]=tg,rg[126]=tg,rg[127]=ng("indefinite length bytes/strings are not supported");for(let Dm=128;Dm<=151;Dm++)rg[Dm]=Bp;rg[152]=function(e,t,n,r){return Dp(0,0,2,mp(e,t+1,r))},rg[153]=function(e,t,n,r){return Dp(0,0,3,vp(e,t+1,r))},rg[154]=function(e,t,n,r){return Dp(0,0,5,bp(e,t+1,r))},rg[155]=function(e,t,n,r){const o=wp(e,t+1,r);if("bigint"===typeof o)throw new Error(`${dp} 64-bit integer array lengths not supported`);return Dp(0,0,9,o)},rg[156]=tg,rg[157]=tg,rg[158]=tg,rg[159]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${dp} indefinite length items not allowed`);return Dp(0,0,1,1/0)};for(let Dm=160;Dm<=183;Dm++)rg[Dm]=Fp;rg[184]=function(e,t,n,r){return Lp(0,0,2,mp(e,t+1,r))},rg[185]=function(e,t,n,r){return Lp(0,0,3,vp(e,t+1,r))},rg[186]=function(e,t,n,r){return Lp(0,0,5,bp(e,t+1,r))},rg[187]=function(e,t,n,r){const o=wp(e,t+1,r);if("bigint"===typeof o)throw new Error(`${dp} 64-bit integer map lengths not supported`);return Lp(0,0,9,o)},rg[188]=tg,rg[189]=tg,rg[190]=tg,rg[191]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${dp} indefinite length items not allowed`);return Lp(0,0,1,1/0)};for(let Dm=192;Dm<=215;Dm++)rg[Dm]=Up;rg[216]=function(e,t,n,r){return new Kh(qh.tag,mp(e,t+1,r),2)},rg[217]=function(e,t,n,r){return new Kh(qh.tag,vp(e,t+1,r),3)},rg[218]=function(e,t,n,r){return new Kh(qh.tag,bp(e,t+1,r),5)},rg[219]=function(e,t,n,r){return new Kh(qh.tag,wp(e,t+1,r),9)},rg[220]=tg,rg[221]=tg,rg[222]=tg,rg[223]=tg;for(let Dm=224;Dm<=243;Dm++)rg[Dm]=ng("simple values are not supported");rg[244]=tg,rg[245]=tg,rg[246]=tg,rg[247]=function(e,t,n,r){if(!1===r.allowUndefined)throw new Error(`${dp} undefined values are not supported`);return!0===r.coerceUndefinedToNull?new Kh(qh.null,null,1):new Kh(qh.undefined,void 0,1)},rg[248]=ng("simple values are not supported"),rg[249]=function(e,t,n,r){return Gp(Jp(e,t+1),3,r)},rg[250]=function(e,t,n,r){return Gp(Qp(e,t+1),5,r)},rg[251]=function(e,t,n,r){return Gp(eg(e,t+1),9,r)},rg[252]=tg,rg[253]=tg,rg[254]=tg,rg[255]=function(e,t,n,r){if(!1===r.allowIndefinite)throw new Error(`${dp} indefinite length items not allowed`);return new Kh(qh.break,void 0,1)};const og=[];for(let Dm=0;Dm<24;Dm++)og[Dm]=new Kh(qh.uint,Dm,1);for(let Dm=-1;Dm>=-24;Dm--)og[31-Dm]=new Kh(qh.negint,Dm,1);og[64]=new Kh(qh.bytes,new Uint8Array(0),1),og[96]=new Kh(qh.string,"",1),og[128]=new Kh(qh.array,0,1),og[160]=new Kh(qh.map,0,1),og[244]=new Kh(qh.false,!1,1),og[245]=new Kh(qh.true,!0,1),og[246]=new Kh(qh.null,null,1);const ig={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const o=n.type.major,i=sg[o].compareTokens(n,r);0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return i},quickEncodeToken:function(e){switch(e.type){case qh.false:return rp([244]);case qh.true:return rp([245]);case qh.null:return rp([246]);case qh.bytes:return e.value.length?void 0:rp([64]);case qh.string:return""===e.value?rp([96]):void 0;case qh.array:return 0===e.value?rp([128]):void 0;case qh.map:return 0===e.value?rp([160]):void 0;case qh.uint:return e.value<24?rp([Number(e.value)]):void 0;case qh.negint:if(e.value>=-24)return rp([31-Number(e.value)])}}};const sg=function(){const e=[];return e[qh.uint.major]=Ep,e[qh.negint.major]=Tp,e[qh.bytes.major]=_p,e[qh.string.major]=Pp,e[qh.array.major]=Rp,e[qh.map.major]=Mp,e[qh.tag.major]=jp,e[qh.float.major]=Zp,e}(),ag=new fp;class ug{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${hp} object contains circular references`);return new ug(t,e)}}const lg={null:new Kh(qh.null,null),undefined:new Kh(qh.undefined,void 0),true:new Kh(qh.true,!0),false:new Kh(qh.false,!1),emptyArray:new Kh(qh.array,0),emptyMap:new Kh(qh.map,0)},cg={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new Kh(e>=0?qh.uint:qh.negint,e):new Kh(qh.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new Kh(qh.uint,e):new Kh(qh.negint,e),Uint8Array:(e,t,n,r)=>new Kh(qh.bytes,e),string:(e,t,n,r)=>new Kh(qh.string,e),boolean:(e,t,n,r)=>e?lg.true:lg.false,null:(e,t,n,r)=>lg.null,undefined:(e,t,n,r)=>lg.undefined,ArrayBuffer:(e,t,n,r)=>new Kh(qh.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new Kh(qh.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[lg.emptyArray,new Kh(qh.break)]:lg.emptyArray;r=ug.createCheck(r,e);const o=[];let i=0;for(const s of e)o[i++]=fg(s,n,r);return n.addBreakTokens?[new Kh(qh.array,e.length),o,new Kh(qh.break)]:[new Kh(qh.array,e.length),o]},Object(e,t,n,r){const o="Object"!==t,i=o?e.keys():Object.keys(e),s=o?e.size:i.length;if(!s)return!0===n.addBreakTokens?[lg.emptyMap,new Kh(qh.break)]:lg.emptyMap;r=ug.createCheck(r,e);const a=[];let u=0;for(const l of i)a[u++]=[fg(l,n,r),fg(o?e.get(l):e[l],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(a,n),n.addBreakTokens?[new Kh(qh.map,s),a,new Kh(qh.break)]:[new Kh(qh.map,s),a]}};cg.Map=cg.Object,cg.Buffer=cg.Uint8Array;for(const Dm of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))cg[`${Dm}Array`]=cg.DataView;function fg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=Wh(e),o=t&&t.typeEncoders&&t.typeEncoders[r]||cg[r];if("function"===typeof o){const i=o(e,r,t,n);if(null!=i)return i}const i=cg[r];if(!i)throw new Error(`${hp} unsupported type: ${r}`);return i(e,r,t,n)}function dg(e,t,n,r){if(Array.isArray(t))for(const o of t)dg(e,o,n,r);else n[t.type.major](e,t,r)}function hg(e,t,n){const r=fg(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const o=t[r.type.major];if(o.encodedSize){const e=o.encodedSize(r,n),t=new fp(e);if(o(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return ep(t.chunks[0])}}return ag.reset(),dg(ag,r,t,n),ag.toBytes(!0)}function pg(e,t){return t=Object.assign({},ig,t),hg(e,sg,t)}const gg={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class yg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._pos=0,this.data=e,this.options=t}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){const e=this.data[this._pos];let t=og[e];if(void 0===t){const n=rg[e];if(!n)throw new Error(`${dp} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const r=31&e;t=n(this.data,this._pos,r,this.options)}return this._pos+=t.encodedLength,t}}const mg=Symbol.for("DONE"),vg=Symbol.for("BREAK");function bg(e,t){if(e.done())return mg;const n=e.next();if(n.type===qh.break)return vg;if(n.type.terminal)return n.value;if(n.type===qh.array)return function(e,t,n){const r=[];for(let o=0;o<e.value;o++){const i=bg(t,n);if(i===vg){if(e.value===1/0)break;throw new Error(`${dp} got unexpected break to lengthed array`)}if(i===mg)throw new Error(`${dp} found array but not enough entries (got ${o}, expected ${e.value})`);r[o]=i}return r}(n,e,t);if(n.type===qh.map)return function(e,t,n){const r=!0===n.useMaps,o=r?void 0:{},i=r?new Map:void 0;for(let s=0;s<e.value;s++){const a=bg(t,n);if(a===vg){if(e.value===1/0)break;throw new Error(`${dp} got unexpected break to lengthed map`)}if(a===mg)throw new Error(`${dp} found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==r&&"string"!==typeof a)throw new Error(`${dp} non-string keys not supported (got ${typeof a})`);if(!0===n.rejectDuplicateMapKeys&&(r&&i.has(a)||!r&&a in o))throw new Error(`${dp} found repeat map key "${a}"`);const u=bg(t,n);if(u===mg)throw new Error(`${dp} found map but not enough entries (got ${s} [no value], expected ${e.value})`);r?i.set(a,u):o[a]=u}return r?i:o}(n,e,t);if(n.type===qh.tag){if(t.tags&&"function"===typeof t.tags[n.value]){const r=bg(e,t);return t.tags[n.value](r)}throw new Error(`${dp} tag not supported (${n.value})`)}throw new Error("unsupported")}function wg(e,t){const[n,r]=function(e,t){if(!(e instanceof Uint8Array))throw new Error(`${dp} data to decode must be a Uint8Array`);const n=(t=Object.assign({},gg,t)).tokenizer||new yg(e,t),r=bg(n,t);if(r===mg)throw new Error(`${dp} did not find any content to decode`);if(r===vg)throw new Error(`${dp} got unexpected break`);return[r,e.subarray(n.pos())]}(e,t);if(r.length>0)throw new Error(`${dp} too many terminals, data makes no sense`);return n}function Eg(e,t="utf8"){const n=ur[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)}const Ag="/",Sg=(new TextEncoder).encode(Ag),Cg=Sg[0];class Tg{_buf;constructor(e,t){if("string"===typeof e)this._buf=lr(e);else{if(!(e instanceof Uint8Array))throw new Error("Invalid key, should be String of Uint8Array");this._buf=e}if(null==t&&(t=!0),t&&this.clean(),0===this._buf.byteLength||this._buf[0]!==Cg)throw new Error("Invalid key")}toString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf8";return Eg(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new Tg(e.join(Ag))}static random(){return new Tg(Math.random().toString().substring(2))}static asKey(e){return e instanceof Uint8Array||"string"===typeof e?new Tg(e):"function"===typeof e.uint8Array?new Tg(e.uint8Array()):null}clean(){if(null!=this._buf&&0!==this._buf.byteLength||(this._buf=Sg),this._buf[0]!==Cg){const e=new Uint8Array(this._buf.byteLength+1);e.fill(Cg,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===Cg;)this._buf=this._buf.subarray(0,-1)}less(e){const t=this.list(),n=e.list();for(let r=0;r<t.length;r++){if(n.length<r+1)return!1;const e=t[r],o=n[r];if(e<o)return!0;if(e>o)return!1}return t.length<n.length}reverse(){return Tg.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(Ag).slice(1)}type(){return function(e){const t=e.split(":");if(t.length<2)return"";return t.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(e){const t=e.split(":");return t[t.length-1]}(this.baseNamespace())}instance(e){return new Tg(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(Ag)||(e+=Ag),e+=this.type(),new Tg(e)}parent(){const e=this.list();return 1===e.length?new Tg(Ag):new Tg(e.slice(0,-1).join(Ag))}child(e){return this.toString()===Ag?e:e.toString()===Ag?this:new Tg(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()!==this.toString()&&e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()!==this.toString()&&this.toString().startsWith(e.toString())}isTopLevel(){return 1===this.list().length}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Tg.withNamespaces([...this.namespaces(),...(r=t.map((e=>e.namespaces())),[].concat(...r))]);var r}}function kg(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}const xg="/pin/",Ig="/pinned-block/",_g=Ec.base36;function Og(e){return 0===e.version&&(e=e.toV1()),new Tg(`${xg}${e.toString(_g)}`)}class Ng{datastore;blockstore;dagWalkers;constructor(e,t,n){this.datastore=e,this.blockstore=t,this.dagWalkers=n}add(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const r=Og(e);if(await t.datastore.has(r))throw new Error("Already pinned");const o=Math.round(n.depth??1/0);if(o<0)throw new Error("Depth must be greater than or equal to 0");const i=new Nn({concurrency:1});for await(const a of t.#D(e,i,{...n,depth:o}))await t.#B(a,(t=>null==t.pinnedBy.find((t=>kg(t,e.bytes)))&&(t.pinCount++,t.pinnedBy.push(e.bytes),!0)),n),yield a;const s={depth:o,metadata:n.metadata??{}};await t.datastore.put(r,pg(s),n)}()}catch(n){return Promise.reject(n)}}async*#D(e,t,n){if(-1===n.depth)return;const r=this.dagWalkers[e.code];if(null==r)throw new Error(`No dag walker found for cid codec ${e.code}`);const o=await this.blockstore.get(e,n);yield e;for await(const i of r.walk(o))yield*await t.add((async()=>this.#D(i,t,{...n,depth:n.depth-1})))}async#B(e,t,n){const r=new Tg(`${Ig}${_g.encode(e.multihash.bytes)}`);let o={pinCount:0,pinnedBy:[]};try{o=wg(await this.datastore.get(r,n))}catch(i){if("ERR_NOT_FOUND"!==i.code)throw i}t(o)&&(0===o.pinCount&&await this.datastore.has(r)?await this.datastore.delete(r):(await this.datastore.put(r,pg(o),n),n.onProgress?.(new kh("helia:pin:add",e))))}rm(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const r=Og(e),o=wg(await t.datastore.get(r,n));await t.datastore.delete(r,n);const i=new Nn({concurrency:1});for await(const s of t.#D(e,i,{...n,depth:o.depth}))await t.#B(s,(t=>(t.pinCount--,t.pinnedBy=t.pinnedBy.filter((t=>kg(t,e.bytes))),!0)),{...n,depth:o.depth}),yield s}()}catch(n){return Promise.reject(n)}}ls(){try{var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){for await(const{key:n,value:r}of e.datastore.query({prefix:xg+(null!=t.cid?`${t.cid.toString(Ec.base36)}`:"")},t)){const e=u.k0.parse(n.toString().substring(5),Ec.base36),t=wg(r);yield{cid:e,...t}}}()}catch(t){return Promise.reject(t)}}async isPinned(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new Tg(`${Ig}${_g.encode(e.multihash.bytes)}`);return this.datastore.has(n,t)}}class Pg extends Nn{has(e){return null!=this.find(e)}find(e){return this.queue.find((t=>e.equals(t.options.peerId)))}}class Dg{buffer;mask;top;btm;next;constructor(e){if(!(e>0)||0!==(e-1&e))throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return void 0===this.buffer[this.btm]}}class Bg{size;hwm;head;tail;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.hwm=e.splitLimit??16,this.head=new Dg(this.hwm),this.tail=this.head,this.size=0}calculateSize(e){return null!=e?.byteLength?e.byteLength:1}push(e){if(null!=e?.value&&(this.size+=this.calculateSize(e.value)),!this.head.push(e)){const t=this.head;this.head=t.next=new Dg(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(void 0===e&&null!=this.tail.next){const t=this.tail.next;this.tail.next=null,this.tail=t,e=this.tail.shift()}return null!=e?.value&&(this.size-=this.calculateSize(e.value)),e}isEmpty(){return this.head.isEmpty()}}class Rg extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}function Lg(e,t){let n,r,o,i=(t=t??{}).onEnd,s=new Bg,a=En();const u=e=>null!=r?r(e):(s.push(e),n),l=e=>{if(o)return n;if(!0!==t?.objectMode&&null==e?.byteLength)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return u({done:!1,value:e})},c=e=>o?n:(o=!0,null!=e?(e=>(s=new Bg,null!=r?r({error:e}):(s.push({error:e}),n)))(e):u({done:!0}));if(n={[Symbol.asyncIterator](){return this},next:async()=>{try{return s.isEmpty()?o?{done:!0}:await new Promise(((t,o)=>{r=i=>{r=null,s.push(i);try{t(e(s))}catch(a){o(a)}return n}})):e(s)}finally{s.isEmpty()&&queueMicrotask((()=>{a.resolve(),a=En()}))}},return:()=>(s=new Bg,c(),{done:!0}),throw:e=>(c(e),{done:!0}),push:l,end:c,get readableLength(){return s.size},onEmpty:async e=>{const t=e?.signal;if(t?.throwIfAborted(),s.isEmpty())return;let n,r;null!=t&&(n=new Promise(((e,n)=>{r=()=>{n(new Rg)},t.addEventListener("abort",r)})));try{await Promise.race([a.promise,n])}finally{null!=r&&null!=t&&t?.removeEventListener("abort",r)}}},null==i)return n;const f=n;return n={[Symbol.asyncIterator](){return this},next:()=>f.next(),throw:e=>(f.throw(e),null!=i&&(i(e),i=void 0),{done:!0}),return:()=>(f.return(),null!=i&&(i(),i=void 0),{done:!0}),push:l,end:e=>(f.end(e),null!=i&&(i(e),i=void 0),n),get readableLength(){return f.readableLength},onEmpty:e=>f.onEmpty(e)},n}const Fg=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=[];for(const o of t)null==o[Symbol.asyncIterator]&&r.push(o);return r.length===t.length?function*(){for(const e of r)yield*e}():async function*(){const e=function(){return Lg((e=>{const t=e.shift();if(null==t)return{done:!0};if(null!=t.error)throw t.error;return{done:!0===t.done,value:t.value}}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}({objectMode:!0});Promise.resolve().then((async()=>{try{await Promise.all(t.map((async t=>{for await(const n of t)e.push(n)}))),e.end()}catch(n){e.end(n)}})),yield*e}()};class Mg{log;routers;providerLookupConcurrency;constructor(e,t){this.log=e.logger.forComponent("helia:routing"),this.routers=t.routers??[],this.providerLookupConcurrency=t.providerLookupConcurrency??5}async start(){await Ch(...this.routers)}async stop(){await Th(...this.routers)}findProviders(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){if(0===t.routers.length)throw new wn.sv("No content routers available","ERR_NO_ROUTERS_AVAILABLE");const r=new Pg({concurrency:t.providerLookupConcurrency});r.addEventListener("error",(()=>{}));for await(const o of Fg(r.toGenerator(),...Ug(t.routers,"findProviders").map((t=>t.findProviders(e,n)))))if(null!=o){if(0===o.multiaddrs.length){if(null!=r.find(o.id))continue;r.add((async()=>{try{const e=await t.findPeer(o.id,n);return 0===e.multiaddrs.length?null:e}catch(e){return t.log.error("could not load multiaddrs for peer %p",o.id,e),null}}),{peerId:o.id,signal:n.signal}).catch((e=>{t.log.error("could not load multiaddrs for peer %p",o.id,e)}))}yield o}}()}catch(n){return Promise.reject(n)}}async provide(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.routers.length)throw new wn.sv("No content routers available","ERR_NO_ROUTERS_AVAILABLE");await Promise.all(Ug(this.routers,"provide").map((async n=>{await n.provide(e,t)})))}async put(e,t,n){await Promise.all(Ug(this.routers,"put").map((async r=>{await r.put(e,t,n)})))}async get(e,t){return Promise.any(Ug(this.routers,"get").map((async n=>n.get(e,t))))}async findPeer(e,t){if(0===this.routers.length)throw new wn.sv("No peer routers available","ERR_NO_ROUTERS_AVAILABLE");const n=this,r=Fg(...Ug(this.routers,"findPeer").map((r=>async function*(){try{yield await r.findPeer(e,t)}catch(o){n.log.error(o)}}())));for await(const o of r)if(null!=o)return o;throw new wn.sv("Could not find peer in routing","ERR_NOT_FOUND")}getClosestPeers(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){if(0===t.routers.length)throw new wn.sv("No peer routers available","ERR_NO_ROUTERS_AVAILABLE");for await(const r of Fg(...Ug(t.routers,"getClosestPeers").map((t=>t.getClosestPeers(e,n)))))null!=r&&(yield r)}()}catch(n){return Promise.reject(n)}}}function Ug(e,t){return e.filter((e=>null!=e[t]))}class jg{#a=[];enqueue(e,t){const n={priority:(t={priority:0,...t}).priority,run:e};if(this.size&&this.#a[this.size-1].priority>=t.priority)return void this.#a.push(n);const r=function(e,t,n){let r=0,o=e.length;for(;o>0;){const i=Math.trunc(o/2);let s=r+i;n(e[s],t)<=0?(r=++s,o-=i+1):o=i}return r}(this.#a,n,((e,t)=>t.priority-e.priority));this.#a.splice(r,0,n)}dequeue(){const e=this.#a.shift();return e?.run}filter(e){return this.#a.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this.#a.length}}class zg extends Uc.v{#u;#l;#c=0;#f;#d;#h=0;#p;#g;#a;#y;#m=0;#v;#b;#w;timeout;constructor(e){if(super(),!("number"===typeof(e={carryoverConcurrencyCount:!1,intervalCap:Number.POSITIVE_INFINITY,interval:0,concurrency:Number.POSITIVE_INFINITY,autoStart:!0,queueClass:jg,...e}).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${e.intervalCap?.toString()??""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${e.interval?.toString()??""}\` (${typeof e.interval})`);this.#u=e.carryoverConcurrencyCount,this.#l=e.intervalCap===Number.POSITIVE_INFINITY||0===e.interval,this.#f=e.intervalCap,this.#d=e.interval,this.#a=new e.queueClass,this.#y=e.queueClass,this.concurrency=e.concurrency,this.timeout=e.timeout,this.#w=!0===e.throwOnTimeout,this.#b=!1===e.autoStart}get#E(){return this.#l||this.#c<this.#f}get#A(){return this.#m<this.#v}#S(){this.#m--,this.#C(),this.emit("next")}#T(){this.#k(),this.#x(),this.#g=void 0}get#I(){const e=Date.now();if(void 0===this.#p){const t=this.#h-e;if(!(t<0))return void 0===this.#g&&(this.#g=setTimeout((()=>{this.#T()}),t)),!0;this.#c=this.#u?this.#m:0}return!1}#C(){if(0===this.#a.size)return this.#p&&clearInterval(this.#p),this.#p=void 0,this.emit("empty"),0===this.#m&&this.emit("idle"),!1;if(!this.#b){const e=!this.#I;if(this.#E&&this.#A){const t=this.#a.dequeue();return!!t&&(this.emit("active"),t(),e&&this.#x(),!0)}}return!1}#x(){this.#l||void 0!==this.#p||(this.#p=setInterval((()=>{this.#k()}),this.#d),this.#h=Date.now()+this.#d)}#k(){0===this.#c&&0===this.#m&&this.#p&&(clearInterval(this.#p),this.#p=void 0),this.#c=this.#u?this.#m:0,this.#_()}#_(){for(;this.#C(););}get concurrency(){return this.#v}set concurrency(e){if(!("number"===typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this.#v=e,this.#_()}async#O(e){return new Promise(((t,n)=>{e.addEventListener("abort",(()=>{n(e.reason)}),{once:!0})}))}async add(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t={timeout:this.timeout,throwOnTimeout:this.#w,...t},new Promise(((n,r)=>{this.#a.enqueue((async()=>{this.#m++,this.#c++;try{t.signal?.throwIfAborted();let r=e({signal:t.signal});t.timeout&&(r=Vc(Promise.resolve(r),{milliseconds:t.timeout})),t.signal&&(r=Promise.race([r,this.#O(t.signal)]));const o=await r;n(o),this.emit("completed",o)}catch(o){if(o instanceof jc&&!t.throwOnTimeout)return void n();r(o),this.emit("error",o)}finally{this.#S()}}),t),this.emit("add"),this.#C()}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this.#b?(this.#b=!1,this.#_(),this):this}pause(){this.#b=!0}clear(){this.#a=new this.#y}async onEmpty(){0!==this.#a.size&&await this.#N("empty")}async onSizeLessThan(e){this.#a.size<e||await this.#N("next",(()=>this.#a.size<e))}async onIdle(){0===this.#m&&0===this.#a.size||await this.#N("idle")}async#N(e,t){return new Promise((n=>{const r=()=>{t&&!t()||(this.off(e,r),n())};this.on(e,r)}))}get size(){return this.#a.size}sizeBy(e){return this.#a.filter(e).length}get pending(){return this.#m}get isPaused(){return this.#b}}const $g={},Hg=e=>{e.addEventListener("message",(t=>{Hg.dispatchEvent("message",e,t)})),null!=e.port&&e.port.addEventListener("message",(t=>{Hg.dispatchEvent("message",e,t)}))};Hg.addEventListener=(e,t)=>{null==$g[e]&&($g[e]=[]),$g[e].push(t)},Hg.removeEventListener=(e,t)=>{null!=$g[e]&&($g[e]=$g[e].filter((e=>e===t)))},Hg.dispatchEvent=function(e,t,n){null!=$g[e]&&$g[e].forEach((e=>e(t,n)))};const Vg=Hg,Gg="lock:worker:request-read",Zg="lock:worker:release-read",Wg="lock:master:grant-read",qg="lock:worker:request-write",Kg="lock:worker:release-write",Yg="lock:master:grant-write",Jg=(e,t,n,r,o)=>(i,s)=>{if(s.data.type!==n)return;const a={type:s.data.type,name:s.data.name,identifier:s.data.identifier};e.dispatchEvent(new MessageEvent(t,{data:{name:a.name,handler:async()=>{i.postMessage({type:o,name:a.name,identifier:a.identifier}),await new Promise((e=>{const t=n=>{if(null==n||null==n.data)return;const o=n.data.type,s=(n.data.name,n.data.identifier);o===r&&s===a.identifier&&(i.removeEventListener("message",t),e())};i.addEventListener("message",t)}))}}}))},Xg=(e,t,n,r)=>async()=>{const o=Math.random().toString().substring(2);return globalThis.postMessage({type:t,identifier:o,name:e}),new Promise((t=>{const i=s=>{if(null==s||null==s.data)return;const a=s.data.type,u=s.data.identifier;a===n&&u===o&&(globalThis.removeEventListener("message",i),t((()=>{globalThis.postMessage({type:r,identifier:o,name:e})})))};globalThis.addEventListener("message",i)}))},Qg={singleProcess:!1},ey={};let ty;async function ny(e,t){let n;const r=new Promise((e=>{n=e}));return e.add((async()=>Vc((async()=>{await new Promise((e=>{n((()=>{e()}))}))})(),{milliseconds:t.timeout}))),r}const ry={name:"lock",concurrency:1/0,timeout:846e5,singleProcess:!1};function oy(e){const t=Object.assign({},ry,e);return null==ty&&(ty=(e=>{if(e=Object.assign({},Qg,e),Boolean(globalThis.document)||e.singleProcess){const e=new EventTarget;return Vg.addEventListener("message",Jg(e,"requestReadLock",Gg,Zg,Wg)),Vg.addEventListener("message",Jg(e,"requestWriteLock",qg,Kg,Yg)),e}return{isWorker:!0,readLock:e=>Xg(e,Gg,Wg,Zg),writeLock:e=>Xg(e,qg,Yg,Kg)}})(t),!0!==ty.isWorker&&(ty.addEventListener("requestReadLock",(e=>{null!=ey[e.data.name]&&ey[e.data.name].readLock().then((async t=>e.data.handler().finally((()=>{t()}))))})),ty.addEventListener("requestWriteLock",(async e=>{null!=ey[e.data.name]&&ey[e.data.name].writeLock().then((async t=>e.data.handler().finally((()=>{t()}))))})))),null==ey[t.name]&&(ey[t.name]=((e,t)=>{if(!0===ty.isWorker)return{readLock:ty.readLock(e,t),writeLock:ty.writeLock(e,t)};const n=new zg({concurrency:1});let r;return{async readLock(){if(null!=r)return ny(r,t);r=new zg({concurrency:t.concurrency,autoStart:!1});const e=r,o=ny(r,t);return n.add((async()=>{e.start(),await e.onIdle().then((()=>{r===e&&(r=null)}))})),o},writeLock:async()=>(r=null,ny(n,t))}})(t.name,t)),ey[t.name]}class iy{lock;child;pins;started;constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.child=e,this.pins=t,this.lock=oy({singleProcess:n.holdGcLock}),this.started=!1}isStarted(){return this.started}async start(){await Ch(this.child),this.started=!0}async stop(){await Th(this.child),this.started=!1}unwrap(){return this.child}async put(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n?.signal?.throwIfAborted();const r=await this.lock.readLock();try{return await this.child.put(e,t,n)}finally{r()}}putMany(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){n?.signal?.throwIfAborted();const r=await t.lock.readLock();try{yield*t.child.putMany(e,n)}finally{r()}}()}catch(n){return Promise.reject(n)}}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?.signal?.throwIfAborted();const n=await this.lock.readLock();try{return await this.child.get(e,t)}finally{n()}}getMany(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){n?.signal?.throwIfAborted();const r=await t.lock.readLock();try{yield*t.child.getMany(e,n)}finally{r()}}()}catch(n){return Promise.reject(n)}}async delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?.signal?.throwIfAborted();const n=await this.lock.writeLock();try{if(await this.pins.isPinned(e))throw new Error("CID was pinned");await this.child.delete(e,t)}finally{n()}}deleteMany(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){n?.signal?.throwIfAborted();const r=await t.lock.writeLock();try{const r=t;yield*t.child.deleteMany(async function*(){for await(const t of e){if(await r.pins.isPinned(t))throw new Error("CID was pinned");yield t}}(),n)}finally{r()}}()}catch(n){return Promise.reject(n)}}async has(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?.signal?.throwIfAborted();const n=await this.lock.readLock();try{return await this.child.has(e,t)}finally{n()}}getAll(){try{var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){t?.signal?.throwIfAborted();const n=await e.lock.readLock();try{yield*e.child.getAll(t)}finally{n()}}()}catch(t){return Promise.reject(t)}}createSession(e,t){return t?.signal?.throwIfAborted(),this.child.createSession(e,t)}}var sy=n(56161);qh.uint.major,qh.negint.major,qh.bytes.major,qh.string.major,qh.array.major,qh.map.major,qh.tag.major,qh.float.major;class ay{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._pos=0,this.data=e,this.options=t,this.modeStack=["value"],this.lastToken=""}pos(){return this._pos}done(){return this._pos>=this.data.length}ch(){return this.data[this._pos]}currentMode(){return this.modeStack[this.modeStack.length-1]}skipWhitespace(){let e=this.ch();for(;32===e||9===e||13===e||10===e;)e=this.data[++this._pos]}expect(e){if(this.data.length-this._pos<e.length)throw new Error(`${dp} unexpected end of input at position ${this._pos}`);for(let t=0;t<e.length;t++)if(this.data[this._pos++]!==e[t])throw new Error(`${dp} unexpected token at position ${this._pos}, expected to find '${String.fromCharCode(...e)}'`)}parseNumber(){const e=this._pos;let t=!1,n=!1;const r=e=>{for(;!this.done();){const t=this.ch();if(!e.includes(t))break;this._pos++}};if(45===this.ch()&&(t=!0,this._pos++),48===this.ch()){if(this._pos++,46!==this.ch())return new Kh(qh.uint,0,this._pos-e);this._pos++,n=!0}if(r([48,49,50,51,52,53,54,55,56,57]),t&&this._pos===e+1)throw new Error(`${dp} unexpected token at position ${this._pos}`);if(!this.done()&&46===this.ch()){if(n)throw new Error(`${dp} unexpected token at position ${this._pos}`);n=!0,this._pos++,r([48,49,50,51,52,53,54,55,56,57])}this.done()||101!==this.ch()&&69!==this.ch()||(n=!0,this._pos++,this.done()||43!==this.ch()&&45!==this.ch()||this._pos++,r([48,49,50,51,52,53,54,55,56,57]));const o=String.fromCharCode.apply(null,this.data.subarray(e,this._pos)),i=parseFloat(o);return n?new Kh(qh.float,i,this._pos-e):!0!==this.options.allowBigInt||Number.isSafeInteger(i)?new Kh(i>=0?qh.uint:qh.negint,i,this._pos-e):new Kh(i>=0?qh.uint:qh.negint,BigInt(o),this._pos-e)}parseString(){if(34!==this.ch())throw new Error(`${dp} unexpected character at position ${this._pos}; this shouldn't happen`);this._pos++;for(let o=this._pos,i=0;o<this.data.length&&i<65536;o++,i++){const e=this.data[o];if(92===e||e<32||e>=128)break;if(34===e){const e=String.fromCharCode.apply(null,this.data.subarray(this._pos,o));return this._pos=o+1,new Kh(qh.string,e,i)}}const e=this._pos,t=[],n=()=>{if(this._pos+4>=this.data.length)throw new Error(`${dp} unexpected end of unicode escape sequence at position ${this._pos}`);let e=0;for(let t=0;t<4;t++){let t=this.ch();if(t>=48&&t<=57)t-=48;else if(t>=97&&t<=102)t=t-97+10;else{if(!(t>=65&&t<=70))throw new Error(`${dp} unexpected unicode escape character at position ${this._pos}`);t=t-65+10}e=16*e+t,this._pos++}return e},r=()=>{const e=this.ch();let n,r,o,i,s=null,a=e>239?4:e>223?3:e>191?2:1;if(this._pos+a>this.data.length)throw new Error(`${dp} unexpected unicode sequence at position ${this._pos}`);switch(a){case 1:e<128&&(s=e);break;case 2:n=this.data[this._pos+1],128===(192&n)&&(i=(31&e)<<6|63&n,i>127&&(s=i));break;case 3:n=this.data[this._pos+1],r=this.data[this._pos+2],128===(192&n)&&128===(192&r)&&(i=(15&e)<<12|(63&n)<<6|63&r,i>2047&&(i<55296||i>57343)&&(s=i));break;case 4:n=this.data[this._pos+1],r=this.data[this._pos+2],o=this.data[this._pos+3],128===(192&n)&&128===(192&r)&&128===(192&o)&&(i=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&o,i>65535&&i<1114112&&(s=i))}null===s?(s=65533,a=1):s>65535&&(s-=65536,t.push(s>>>10&1023|55296),s=56320|1023&s),t.push(s),this._pos+=a};for(;!this.done();){const o=this.ch();let i;switch(o){case 92:if(this._pos++,this.done())throw new Error(`${dp} unexpected string termination at position ${this._pos}`);switch(i=this.ch(),this._pos++,i){case 34:case 39:case 92:case 47:t.push(i);break;case 98:t.push(8);break;case 116:t.push(9);break;case 110:t.push(10);break;case 102:t.push(12);break;case 114:t.push(13);break;case 117:t.push(n());break;default:throw new Error(`${dp} unexpected string escape character at position ${this._pos}`)}break;case 34:return this._pos++,new Kh(qh.string,cp(t),this._pos-e);default:if(o<32)throw new Error(`${dp} invalid control character at position ${this._pos}`);o<128?(t.push(o),this._pos++):r()}}throw new Error(`${dp} unexpected end of string at position ${this._pos}`)}parseValue(){switch(this.ch()){case 123:return this.modeStack.push("obj-start"),this._pos++,new Kh(qh.map,1/0,1);case 91:return this.modeStack.push("array-start"),this._pos++,new Kh(qh.array,1/0,1);case 34:return this.parseString();case 110:return this.expect([110,117,108,108]),new Kh(qh.null,null,4);case 102:return this.expect([102,97,108,115,101]),new Kh(qh.false,!1,5);case 116:return this.expect([116,114,117,101]),new Kh(qh.true,!0,4);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.parseNumber();default:throw new Error(`${dp} unexpected character at position ${this._pos}`)}}next(){switch(this.skipWhitespace(),this.currentMode()){case"value":return this.modeStack.pop(),this.parseValue();case"array-value":if(this.modeStack.pop(),93===this.ch())return this._pos++,this.skipWhitespace(),new Kh(qh.break,void 0,1);if(44!==this.ch())throw new Error(`${dp} unexpected character at position ${this._pos}, was expecting array delimiter but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue();case"array-start":return this.modeStack.pop(),93===this.ch()?(this._pos++,this.skipWhitespace(),new Kh(qh.break,void 0,1)):(this.modeStack.push("array-value"),this.skipWhitespace(),this.parseValue());case"obj-key":if(125===this.ch())return this.modeStack.pop(),this._pos++,this.skipWhitespace(),new Kh(qh.break,void 0,1);if(44!==this.ch())throw new Error(`${dp} unexpected character at position ${this._pos}, was expecting object delimiter but found '${String.fromCharCode(this.ch())}'`);this._pos++,this.skipWhitespace();case"obj-start":{if(this.modeStack.pop(),125===this.ch())return this._pos++,this.skipWhitespace(),new Kh(qh.break,void 0,1);const e=this.parseString();if(this.skipWhitespace(),58!==this.ch())throw new Error(`${dp} unexpected character at position ${this._pos}, was expecting key/value delimiter ':' but found '${String.fromCharCode(this.ch())}'`);return this._pos++,this.modeStack.push("obj-value"),e}case"obj-value":return this.modeStack.pop(),this.modeStack.push("obj-key"),this.skipWhitespace(),this.parseValue();default:throw new Error(`${dp} unexpected parse state at position ${this._pos}; this shouldn't happen`)}}}var uy=n(38792),ly=n(6985);const cy={codec:lt.code,*walk(e){const t=lt.decode(e);yield*t.Links.map((e=>e.Hash))}},fy={codec:ly.code,*walk(){}},dy={codec:y.code,*walk(e){const t=[],n=[];n[42]=e=>{if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");const n=c.k0.decode(e.subarray(1));return t.push(n),n},wg(e,{tags:n}),yield*t}};class hy extends ay{tokenBuffer;constructor(e,t){super(e,t),this.tokenBuffer=[]}done(){return 0===this.tokenBuffer.length&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const e=this._next();if(e.type===qh.map){const e=this._next();if(e.type===qh.string&&"/"===e.value){const e=this._next();if(e.type===qh.string){if(this._next().type!==qh.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(e),new Kh(qh.tag,42,0)}if(e.type===qh.map){const e=this._next();if(e.type===qh.string&&"bytes"===e.value){const e=this._next();if(e.type===qh.string){for(let e=0;e<2;e++){if(this._next().type!==qh.break)throw new Error("Invalid encoded Bytes form")}const t=Pn.base64.decode(`m${e.value}`);return new Kh(qh.bytes,t,e.value.length)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}return e}}const py={codec:sy.code,*walk(e){const t=[],n=[];n[42]=e=>{const n=c.k0.parse(e);return t.push(n),n},function(e,t){wg(e,t=Object.assign({tokenizer:new ay(e,t)},t))}(e,{tags:n,tokenizer:new hy(e,{tags:n,allowIndefinite:!0,allowUndefined:!0,allowNaN:!0,allowInfinity:!0,allowBigInt:!0,strict:!1,rejectDuplicateMapKeys:!1})}),yield*t}},gy={codec:uy.code,*walk(){}};const yy=new Tg("/version");function my(e){const t=new globalThis.AbortController;function n(){t.abort();for(const t of e)null!=t?.removeEventListener&&t.removeEventListener("abort",n)}for(const o of e){if(!0===o?.aborted){n();break}null!=o?.addEventListener&&o.addEventListener("abort",n)}const r=t.signal;return r.clear=function(){for(const t of e)null!=t?.removeEventListener&&t.removeEventListener("abort",n)},r}class vy{has(e,t){return Promise.reject(new Error(".has is not implemented"))}put(e,t,n){return Promise.reject(new Error(".put is not implemented"))}async*putMany(e,t){for await(const{cid:n,block:r}of e)await this.put(n,r,t),yield n}get(e,t){return Promise.reject(new Error(".get is not implemented"))}async*getMany(e,t){for await(const n of e)yield{cid:n,block:await this.get(n,t)}}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*deleteMany(e,t){for await(const n of e)await this.delete(n,t),yield n}async*getAll(e){throw new Error(".getAll is not implemented")}}function by(e){return e=e??new Error("Open failed"),ft()(e,"ERR_OPEN_FAILED")}function wy(e){return e=e??new Error("Close failed"),ft()(e,"ERR_CLOSE_FAILED")}function Ey(e){return e=e??new Error("Put failed"),ft()(e,"ERR_PUT_FAILED")}function Ay(e){return e=e??new Error("Get failed"),ft()(e,"ERR_GET_FAILED")}function Sy(e){return e=e??new Error("Delete failed"),ft()(e,"ERR_DELETE_FAILED")}function Cy(e){return e=e??new Error("Has failed"),ft()(e,"ERR_HAS_FAILED")}function Ty(e){return e=e??new Error("Not Found"),ft()(e,"ERR_NOT_FOUND")}function ky(e){return e=e??new Error("Aborted"),ft()(e,"ERR_ABORTED")}var xy=n(3886);class Iy extends vy{data;constructor(){super(),this.data=new Map}put(e,t){return this.data.set(xy.base32.encode(e.multihash.bytes),t),e}get(e){const t=this.data.get(xy.base32.encode(e.multihash.bytes));if(null==t)throw Ty();return t}has(e){return this.data.has(xy.base32.encode(e.multihash.bytes))}async delete(e){this.data.delete(xy.base32.encode(e.multihash.bytes))}async*getAll(){for(const[e,t]of this.data.entries())yield{cid:u.k0.createV1(ly.code,m.Jx(xy.base32.decode(e))),block:t}}}(0,Lr.kg)("blockstore:core:tiered");const _y={...a};class Oy extends vy{child;constructor(e){super(),this.child=e}put(e,t){return 0===e.multihash.code||null==this.child?e:this.child.put(e,t)}get(e){if(0===e.multihash.code)return e.multihash.digest;if(null==this.child)throw _y.notFoundError();return this.child.get(e)}has(e){return 0===e.multihash.code||null!=this.child&&this.child.has(e)}delete(e){if(0!==e.code)return null!=this.child?this.child.delete(e):void 0}getAll(e){return null!=this.child?this.child.getAll(e):[]}}const Ny=function(e){const[t,n]=null!=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],r=[];return{peek:()=>t.next(),push:e=>{r.push(e)},next:()=>r.length>0?{done:!1,value:r.shift()}:t.next(),[n](){return this}}};const Py=function(e,t){let n=0;if(null!=e[Symbol.asyncIterator])return async function*(){for await(const r of e)await t(r,n++)&&(yield r)}();const r=Ny(e),{value:o,done:i}=r.next();if(!0===i)return function*(){}();const s=t(o,n++);if("function"===typeof s.then)return async function*(){await s&&(yield o);for await(const e of r)await t(e,n++)&&(yield e)}();const a=t;return function*(){!0===s&&(yield o);for(const e of r)a(e,n++)&&(yield e)}()};const Dy=function(e){const[t,n]=null!=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],r=[];return{peek:()=>t.next(),push:e=>{r.push(e)},next:()=>r.length>0?{done:!1,value:r.shift()}:t.next(),[n](){return this}}};function By(e){return null!=e?.then}const Ry=function(e,t){let n=0;if(null!=e[Symbol.asyncIterator])return async function*(){for await(const r of e){const e=t(r,n++);By(e)&&await e,yield r}}();const r=Dy(e),{value:o,done:i}=r.next();if(!0===i)return function*(){}();const s=t(o,n++);if("function"===typeof s?.then)return async function*(){yield o;for await(const e of r){const r=t(e,n++);By(r)&&await r,yield e}}();const a=t;return function*(){yield o;for(const e of r)a(e,n++),yield e}()};class Ly{child;hashers;log;logger;components;constructor(e){this.log=e.logger.forComponent("helia:networked-storage"),this.logger=e.logger,this.components=e,this.child=new Oy(e.blockstore),this.hashers=e.hashers??{}}async put(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return await this.child.has(e,n)?(n.onProgress?.(new kh("blocks:put:duplicate",e)),e):(n.onProgress?.(new kh("blocks:put:providers:notify",e)),await Promise.all(this.components.blockBrokers.map((async r=>r.announce?.(e,t,n)))),n.onProgress?.(new kh("blocks:put:blockstore:put",e)),this.child.put(e,t,n))}putMany(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const r=Py(e,(async e=>{let{cid:r}=e;const o=await t.child.has(r,n);return o&&n.onProgress?.(new kh("blocks:put-many:duplicate",r)),!o})),o=Ry(r,(async e=>{let{cid:r,block:o}=e;n.onProgress?.(new kh("blocks:put-many:providers:notify",r)),await Promise.all(t.components.blockBrokers.map((async e=>e.announce?.(r,o,n))))}));n.onProgress?.(new kh("blocks:put-many:blockstore:put-many")),yield*t.child.putMany(o,n)}()}catch(n){return Promise.reject(n)}}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!0!==t.offline&&!await this.child.has(e,t)){t.onProgress?.(new kh("blocks:get:providers:get",e));const n=await zy(e,this.components.blockBrokers,this.hashers[e.multihash.code],{...t,log:this.log});return t.onProgress?.(new kh("blocks:get:blockstore:put",e)),await this.child.put(e,n,t),t.onProgress?.(new kh("blocks:get:providers:notify",e)),await Promise.all(this.components.blockBrokers.map((async r=>r.announce?.(e,n,t)))),n}return t.onProgress?.(new kh("blocks:get:blockstore:get",e)),this.child.get(e,t)}getMany(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){n.onProgress?.(new kh("blocks:get-many:blockstore:get-many")),yield*t.child.getMany(Ry(e,(async e=>{if(!0!==n.offline&&!await t.child.has(e,n)){n.onProgress?.(new kh("blocks:get-many:providers:get",e));const r=await zy(e,t.components.blockBrokers,t.hashers[e.multihash.code],{...n,log:t.log});n.onProgress?.(new kh("blocks:get-many:blockstore:put",e)),await t.child.put(e,r,n),n.onProgress?.(new kh("blocks:get-many:providers:notify",e)),await Promise.all(t.components.blockBrokers.map((async t=>t.announce?.(e,r,n))))}})))}()}catch(n){return Promise.reject(n)}}async delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.onProgress?.(new kh("blocks:delete:blockstore:delete",e)),await this.child.delete(e,t)}deleteMany(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){n.onProgress?.(new kh("blocks:delete-many:blockstore:delete-many")),yield*t.child.deleteMany(async function*(){for await(const t of e)yield t}(),n)}()}catch(n){return Promise.reject(n)}}async has(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.child.has(e,t)}getAll(){try{var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){t.onProgress?.(new kh("blocks:get-all:blockstore:get-many")),yield*e.child.getAll(t)}()}catch(t){return Promise.reject(t)}}}class Fy extends Ly{started;constructor(e){super(e),this.started=!1}isStarted(){return this.started}async start(){await Ch(this.child,...this.components.blockBrokers),this.started=!0}async stop(){await Th(this.child,...this.components.blockBrokers),this.started=!1}unwrap(){return this.child}createSession(e,t){const n=this.components.blockBrokers.map((e=>null==e.createSession?e:e.createSession(t)));return new My({blockstore:this.child,blockBrokers:n,hashers:this.hashers,logger:this.logger},{root:e})}}class My extends Ly{closeController;constructor(e,t){super(e),this.closeController=new AbortController,mn(1/0,this.closeController.signal),this.log=e.logger.forComponent(`helia:session-storage:${t.root}`)}close(){this.closeController.abort()}async put(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=my([this.closeController.signal,n.signal]);mn(1/0,r);try{return await super.put(e,t,{...n,signal:r})}finally{r.clear()}}putMany(e){try{var t=()=>super.putMany,n=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const o=my([n.closeController.signal,r.signal]);mn(1/0,o);try{yield*t().call(n,e,{...r,signal:o})}finally{o.clear()}}()}catch(r){return Promise.reject(r)}}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=my([this.closeController.signal,t.signal]);mn(1/0,n);try{return await super.get(e,{...t,signal:n})}finally{n.clear()}}getMany(e){try{var t=()=>super.getMany,n=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const o=my([n.closeController.signal,r.signal]);mn(1/0,o);try{yield*t().call(n,e,{...r,signal:o})}finally{o.clear()}}()}catch(r){return Promise.reject(r)}}async delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=my([this.closeController.signal,t.signal]);mn(1/0,n);try{await super.delete(e,{...t,signal:n})}finally{n.clear()}}deleteMany(e){try{var t=()=>super.deleteMany,n=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){const o=my([n.closeController.signal,r.signal]);mn(1/0,o);try{yield*t().call(n,e,{...r,signal:o})}finally{o.clear()}}()}catch(r){return Promise.reject(r)}}async has(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=my([this.closeController.signal,t.signal]);mn(1/0,n);try{return await super.has(e,{...t,signal:n})}finally{n.clear()}}getAll(){try{var e=()=>super.getAll,t=this;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return async function*(){const r=my([t.closeController.signal,n.signal]);mn(1/0,r);try{yield*e().call(t,{...n,signal:r})}finally{r.clear()}}()}catch(n){return Promise.reject(n)}}}function Uy(e){return"function"===typeof e.retrieve}const jy=(e,t)=>{if(null==t)throw new wn.sv(`No hasher configured for multihash code 0x${e.multihash.code.toString(16)}, please configure one. You can look up which hash this is at https://github.com/multiformats/multicodec/blob/master/table.csv`,"ERR_UNKNOWN_HASH_ALG");return async n=>{if(!kg((await t.digest(n)).digest,e.multihash.digest))throw new wn.sv("Hash of downloaded block did not match multihash from passed CID","ERR_HASH_MISMATCH")}};async function zy(e,t,n,r){const o=jy(e,n),i=new AbortController,s=my([i.signal,r.signal]);mn(1/0,i.signal,s);const a=[];for(const u of t)Uy(u)&&a.push(u);try{return await Promise.any(a.map((async t=>{try{let n=!1;const i=await t.retrieve(e,{...r,signal:s,validateFn:async e=>{await o(e),n=!0}});return n||await o(i),i}catch(n){throw r.log.error("could not retrieve verified block for %c",e,n),n}})))}finally{i.abort(),s.clear()}}class $y{blockstore;datastore;pins;logger;routing;dagWalkers;hashers;dns;metrics;log;constructor(e){this.logger=e.logger??(0,Lr._z)(),this.log=this.logger.forComponent("helia"),this.hashers=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t={};return[$r.sha256,$r.sha512,zr.identity,...e].forEach((e=>{t[e.code]=e})),t}(e.hashers),this.dagWalkers=function(){const e={};return[cy,fy,dy,py,gy,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]].forEach((t=>{e[t.codec]=t})),e}(e.dagWalkers),this.dns=e.dns??function(){return new $h(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}(),this.metrics=e.metrics;const t={blockstore:e.blockstore,datastore:e.datastore,hashers:this.hashers,dagWalkers:this.dagWalkers,logger:this.logger,blockBrokers:[],dns:this.dns,metrics:this.metrics,...e.components??{}};this.routing=t.routing=new Mg(t,{routers:(e.routers??[]).flatMap((e=>{const t=[e];return null!=e[Br]&&t.push(e[Br]),null!=e[Rr]&&t.push(e[Rr]),t})),providerLookupConcurrency:e.providerLookupConcurrency});const n=new Fy(t);this.pins=new Ng(e.datastore,n,this.dagWalkers),this.blockstore=new iy(n,this.pins,{holdGcLock:e.holdGcLock??!0}),this.datastore=e.datastore,t.blockBrokers=e.blockBrokers.map((e=>e(t)))}async start(){await async function(e){if(!await e.has(yy))return void await e.put(yy,lr("1"));const t=Eg(await e.get(yy));if(1!==parseInt(t,10))throw new Error("Unknown datastore version, a datastore migration may be required")}(this.datastore),await Ch(this.blockstore,this.datastore,this.routing)}async stop(){await Th(this.blockstore,this.datastore,this.routing)}async gc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=await this.blockstore.lock.writeLock();try{const t=this,n=this.blockstore.unwrap();this.log("gc start"),await Vh(n.deleteMany(async function*(){for await(const{cid:o}of n.getAll())try{if(await t.pins.isPinned(o,e))continue;yield o,e.onProgress?.(new kh("helia:gc:deleted",o))}catch(r){t.log.error("Error during gc",r),e.onProgress?.(new kh("helia:gc:error",r))}}()))}finally{t()}this.log("gc finished")}}function Hy(e,t,n,r){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:n},decoder:{decode:r}}}const Vy=Hy("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Gy=Hy("ascii","a",(e=>{let t="a";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}),(e=>{const t=function(e=0){return new Uint8Array(e)}((e=e.substring(1)).length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t})),Zy={utf8:Vy,"utf-8":Vy,hex:Ot.gh.base16,latin1:Gy,ascii:Gy,binary:Gy,...Ot.gh};const Wy="/",qy=(new TextEncoder).encode(Wy),Ky=qy[0];class Yy{_buf;constructor(e,t){if("string"===typeof e)this._buf=function(e,t="utf8"){const n=Zy[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${e}`)}(e);else{if(!(e instanceof Uint8Array))throw new Error("Invalid key, should be String of Uint8Array");this._buf=e}if(null==t&&(t=!0),t&&this.clean(),0===this._buf.byteLength||this._buf[0]!==Ky)throw new Error("Invalid key")}toString(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"utf8";return function(e,t="utf8"){const n=Zy[t];if(null==n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)}(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new Yy(e.join(Wy))}static random(){return new Yy(Math.random().toString().substring(2))}static asKey(e){return e instanceof Uint8Array||"string"===typeof e?new Yy(e):"function"===typeof e.uint8Array?new Yy(e.uint8Array()):null}clean(){if(null!=this._buf&&0!==this._buf.byteLength||(this._buf=qy),this._buf[0]!==Ky){const e=new Uint8Array(this._buf.byteLength+1);e.fill(Ky,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===Ky;)this._buf=this._buf.subarray(0,-1)}less(e){const t=this.list(),n=e.list();for(let r=0;r<t.length;r++){if(n.length<r+1)return!1;const e=t[r],o=n[r];if(e<o)return!0;if(e>o)return!1}return t.length<n.length}reverse(){return Yy.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(Wy).slice(1)}type(){return function(e){const t=e.split(":");if(t.length<2)return"";return t.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(e){const t=e.split(":");return t[t.length-1]}(this.baseNamespace())}instance(e){return new Yy(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(Wy)||(e+=Wy),e+=this.type(),new Yy(e)}parent(){const e=this.list();return 1===e.length?new Yy(Wy):new Yy(e.slice(0,-1).join(Wy))}child(e){return this.toString()===Wy?e:e.toString()===Wy?this:new Yy(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()!==this.toString()&&e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()!==this.toString()&&this.toString().startsWith(e.toString())}isTopLevel(){return 1===this.list().length}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Yy.withNamespaces([...this.namespaces(),...(r=t.map((e=>e.namespaces())),[].concat(...r))]);var r}}const Jy="SHARDING";const Xy=function(e){if(null!=e[Symbol.asyncIterator])return(async()=>{for await(const t of e);})();for(const t of e);};const Qy=function(e){const[t,n]=null!=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],r=[];return{peek:()=>t.next(),push:e=>{r.push(e)},next:()=>r.length>0?{done:!1,value:r.shift()}:t.next(),[n](){return this}}};const em=function(e,t){let n=0;if(null!=e[Symbol.asyncIterator])return async function*(){for await(const r of e)await t(r,n++)&&(yield r)}();const r=Qy(e),{value:o,done:i}=r.next();if(!0===i)return function*(){}();const s=t(o,n++);if("function"===typeof s.then)return async function*(){await s&&(yield o);for await(const e of r)await t(e,n++)&&(yield e)}();const a=t;return function*(){!0===s&&(yield o);for(const e of r)a(e,n++)&&(yield e)}()};const tm=function(e){if(null!=e[Symbol.asyncIterator])return(async()=>{const t=[];for await(const n of e)t.push(n);return t})();const t=[];for(const n of e)t.push(n);return t};const nm=function(e,t){return null!=e[Symbol.asyncIterator]?async function*(){const n=await tm(e);yield*n.sort(t)}():function*(){const n=tm(e);yield*n.sort(t)}()};const rm=function(e,t){return null!=e[Symbol.asyncIterator]?async function*(){let n=0;if(!(t<1))for await(const r of e)if(yield r,n++,n===t)return}():function*(){let n=0;if(!(t<1))for(const r of e)if(yield r,n++,n===t)return}()};class om{put(e,t,n){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}putMany(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){for await(const{key:r,value:o}of e)await t.put(r,o,n),yield r}()}catch(n){return Promise.reject(n)}}getMany(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){for await(const r of e)yield{key:r,value:await t.get(r,n)}}()}catch(n){return Promise.reject(n)}}deleteMany(e){try{var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return async function*(){for await(const r of e)await t.delete(r,n),yield r}()}catch(n){return Promise.reject(n)}}batch(){let e=[],t=[];return{put(t,n){e.push({key:t,value:n})},delete(e){t.push(e)},commit:async n=>{await Xy(this.putMany(e,n)),e=[],await Xy(this.deleteMany(t,n)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}async*_allKeys(e,t){throw new Error("._allKeys is not implemented")}query(e,t){let n=this._all(e,t);if(null!=e.prefix){const t=e.prefix;n=em(n,(e=>e.key.toString().startsWith(t)))}if(Array.isArray(e.filters)&&(n=e.filters.reduce(((e,t)=>em(e,t)),n)),Array.isArray(e.orders)&&(n=e.orders.reduce(((e,t)=>nm(e,t)),n)),null!=e.offset){let t=0;const r=e.offset;n=em(n,(()=>t++>=r))}return null!=e.limit&&(n=rm(n,e.limit)),n}queryKeys(e,t){let n=this._allKeys(e,t);if(null!=e.prefix){const t=e.prefix;n=em(n,(e=>e.toString().startsWith(t)))}if(Array.isArray(e.filters)&&(n=e.filters.reduce(((e,t)=>em(e,t)),n)),Array.isArray(e.orders)&&(n=e.orders.reduce(((e,t)=>nm(e,t)),n)),null!=e.offset){const t=e.offset;let r=0;n=em(n,(()=>r++>=t))}return null!=e.limit&&(n=rm(n,e.limit)),n}}class im extends om{data;constructor(){super(),this.data=new Map}put(e,t){return this.data.set(e.toString(),t),e}get(e){const t=this.data.get(e.toString());if(null==t)throw n=n??new Error("Not Found"),ft()(n,"ERR_NOT_FOUND");var n;return t}has(e){return this.data.has(e.toString())}delete(e){this.data.delete(e.toString())}*_all(){for(const[e,t]of this.data.entries())yield{key:new Yy(e),value:t}}*_allKeys(){for(const e of this.data.keys())yield new Yy(e)}}new Yy(Jy);(0,Lr.kg)("datastore:core:tiered");async function sm(e){const t=[Ah({gateways:[`${e.protocol??"http"}://${e.host}:${e.port}`]})];(function(){const e="explore.ipld.gatewayEnabled";console.info(`\ud83c\udf9b\ufe0f Customise whether ipld-explorer-components fetches content from gateways by setting an '${e}' value to true/false in localStorage. e.g. localStorage.setItem('explore.ipld.gatewayEnabled', false) -- NOTE: defaults to true`);const t=localStorage.getItem(e);return null==t||JSON.parse(t)})()&&(console.log("remote gateways and delegated routing are enabled"),t.push(Zd("https://delegated-ipfs.dev")),t.push(Ah()));const n=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.datastore??new im,n=e.blockstore??new Iy,r=new $y({...e,datastore:t,blockstore:n,blockBrokers:e.blockBrokers??[Dr()],routers:e.routers??[Zd("https://delegated-ipfs.dev"),Ah()]});return!1!==e.start&&await r.start(),r}({blockBrokers:[Dr(e.trustlessBlockBrokerConfig?.init)],routers:t,hashers:await(0,h.i)(17,18,19,20,27,30,45600,45632)});return await Promise.allSettled([g(n,"dag-json",{hello:"world"}),g(n,"dag-cbor",{hello:"world"},27),g(n,"json",{hello:"world"},20),g(n,"json",{hello:"world"},30),g(n,"raw",(new TextEncoder).encode("hello"),30),g(n,"dag-pb",{Data:(new TextEncoder).encode("hello"),Links:[]},45600),g(n,"dag-pb",{Data:(new TextEncoder).encode("hello"),Links:[]},45632)]),n}const am={kuboGatewayOptions:{host:"127.0.0.1",port:"8080",protocol:"http",trustlessBlockBrokerConfig:{init:{allowLocal:!0}}},error:null};let um=null;const lm={name:"helia",reducer(e,t){let{type:n,payload:r,error:o}=t;return e=e??am,"HELIA_INIT_FINISHED"===n?Object.assign({},e,{kuboGatewayOptions:r.kuboGatewayOptions??e.kuboGatewayOptions,error:null}):"HELIA_INIT_FAILED"===n?Object.assign({},e,{error:o}):e},selectHelia:()=>um,selectHeliaReady:()=>null!==um,selectHeliaIdentity:()=>"@helia/http@^1.0.1",doInitHelia:()=>async e=>{let{dispatch:t,getState:n}=e;t({type:"HELIA_INIT_STARTED"});const r=Object.assign({},n().helia.kuboGatewayOptions,function(e){let t={};if(null!=globalThis.localStorage)try{const n=globalThis.localStorage.getItem(e)??"{}";t=JSON.parse(n)}catch(n){console.error(`Error reading '${e}' value from localStorage`,n)}return t}("kuboGateway"));try{return console.info("\ud83c\udf9b\ufe0f Customise your Kubo gateway opts by setting a `kuboGateway` value in localStorage. e.g. localStorage.setItem('kuboGateway', JSON.stringify({ port: '8080', trustlessBlockBrokerConfig: { init: { allowLocal: true, allowInsecure: true }}}))"),console.time("HELIA_INIT"),um=await sm(r),console.timeEnd("HELIA_INIT"),t({type:"HELIA_INIT_FINISHED",payload:{kuboGatewayOptions:r,provider:"helia"}})}catch(o){return t({type:"HELIA_INIT_FAILED",error:o})}}};var cm=n(5803),fm=n(72791),dm=n(51483);const hm=(0,cm.ZP)((()=>n.e(480).then(n.bind(n,90480))),{fallback:fm.createElement(dm.Z,null)});var pm=n(18970),gm=n(87945),ym=n(14964);const mm=[{name:"Project Apollo Archives",cid:"QmSnuWmxptJZdLJpKRarxBMS2Ju2oANVrgbr2xWbie9b2D",type:"dag-pb"},{name:"XKCD Archives",cid:"QmdmQXB2mzChmMeKY47C43LxUdg1NDJ5MWcKMKxDu7RgQm",type:"dag-pb"},{name:"HAMT-sharded Wikipedia mirror (>20M files)",cid:"bafybeiaysi4s6lnjev27ln5icwm6tueaw2vdykrtjkwiphwekaywqhcjze",type:"hamt-sharded-directory"},{name:"B-tree search index from ipfs-geoip",cid:"bafyreif3tfdpr5n4jdrbielmcapwvbpcthepfkwq2vwonmlhirbjmotedi",type:"dag-cbor"},{name:"DAG-CBOR Block",cid:"bafyreicnokmhmrnlp2wjhyk2haep4tqxiptwfrp2rrs7rzq7uk766chqvq",type:"dag-cbor"},{name:"dag-cbor hello world (keccak-256)",cid:"bafyrwigbexamue2ba3hmtai7hwlcmd6ekiqsduyf5avv7oz6ln3radvjde",type:"dag-cbor"},{name:"Ceramic LogEntry for sgb.chat Ambassador proposal",cid:"bagcqcerarvdwmhvk73mze3e2n6yvpt5h7fh3eae7n6y3hizsflz5grpyeczq",type:"dag-jose"},{name:"hello world (blake3)",cid:"bagaaihraf4oq2kddg6o5ewlu6aol6xab75xkwbgzx2dlot7cdun7iirve23a",type:"dag-json"},{name:"hello world",cid:"baguqeerasords4njcts6vs7qvdjfcvgnume4hqohf65zsfguprqphs3icwea",type:"dag-json"},{name:"hello world (sha3-512)",cid:"bagaaifcavabu6fzheerrmtxbbwv7jjhc3kaldmm7lbnvfopyrthcvod4m6ygpj3unrcggkzhvcwv5wnhc5ufkgzlsji7agnmofovc2g4a3ui7ja",type:"json"},{name:'Raw Block for "hello"',cid:"bafkreibm6jg3ux5qumhcn2b3flc3tyu6dmlb4xa7u5bf44yegnrjhc4yeq",type:"raw"},{name:'Raw Block for "hello" (blake3)',cid:"bafkr4ihkr4ld3m4gqkjf4reryxsy2s5tkbxprqkow6fin2iiyvreuzzab4",type:"raw"}];var vm=n(29405),bm=n(59714);const wm=n.p+"static/media/ipld.c2e6094fbcd21952d9a1019f204a629e.svg",Em=(0,gm.Zh)("explore")((e=>{let{t:t}=e;return fm.createElement(bm.Z,{className:"tl dib pa4 avenir measure-wide-l lh-copy dark-gray ba-l b--black-10"},fm.createElement("div",{className:"tc"},fm.createElement("a",{className:"link",href:"https://ipld.io"},fm.createElement("img",{src:wm,alt:"IPLD",style:{height:60}}))),fm.createElement(gm.cC,{i18nKey:"AboutIpld.paragraph1",t:t},fm.createElement("p",null,"IPLD is ",fm.createElement("strong",null,"the data model of the content-addressable web.")," It allows us to treat all hash-linked data structures as subsets of a unified information space, unifying all data models that link data with hashes as instances of IPLD.")),fm.createElement(gm.cC,{i18nKey:"AboutIpld.paragraph2",t:t},fm.createElement("p",null,"Content addressing through hashes has become a widely-used means of connecting data in distributed systems, from the blockchains that run your favorite cryptocurrencies, to the commits that back your code, to the web\u2019s content at large. Yet, whilst all of these tools rely on some common primitives, their specific underlying data structures are not interoperable.")),fm.createElement(gm.cC,{i18nKey:"AboutIpld.paragraph3",t:t},fm.createElement("p",null,"Enter IPLD: a single namespace for all hash-inspired protocols. Through IPLD, links can be traversed across protocols, allowing you to explore data regardless of the underlying protocol.")))}));var Am=n(218);function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sm.apply(null,arguments)}const Cm=e=>fm.createElement("svg",Sm({viewBox:"0 0 100 100"},e),fm.createElement("path",{d:"M87.714 44.764c0-1.157-.45-2.245-1.269-3.062a4.304 4.304 0 0 0-3.063-1.269 4.304 4.304 0 0 0-3.062 1.269 4.337 4.337 0 0 0 0 6.125c.602.602 1.351 1 2.164 1.172v2.442l-14.686 9.276v-19.79l4.498-2.842v-3.717a4.27 4.27 0 0 0 1.827-1.067 4.337 4.337 0 0 0 0-6.125 4.337 4.337 0 0 0-6.126 0 4.304 4.304 0 0 0-1.269 3.063c0 1.157.45 2.245 1.269 3.062a4.282 4.282 0 0 0 1.963 1.107v2.391L51.236 48.627v-8.901l9.304-5.877v-7.051a4.282 4.282 0 0 0 1.986-1.114 4.336 4.336 0 0 0-.001-6.125 4.337 4.337 0 0 0-6.125 0h-.001a4.337 4.337 0 0 0 0 6.125c.52.519 1.145.859 1.804 1.059v5.818l-6.967 4.401V15.561a4.283 4.283 0 0 0 2.008-1.12 4.337 4.337 0 0 0-.001-6.126 4.337 4.337 0 0 0-6.125 0h-.001a4.337 4.337 0 0 0 .001 6.126 4.273 4.273 0 0 0 1.782 1.053v15.881l-7.229-4.566v-3.436a4.292 4.292 0 0 0 2.008-1.12 4.337 4.337 0 0 0 0-6.125 4.337 4.337 0 0 0-6.126 0 4.304 4.304 0 0 0-1.269 3.063c0 1.157.45 2.245 1.269 3.062a4.276 4.276 0 0 0 1.781 1.053v4.79l9.565 6.042v21.108l-7.708-4.226v-7.809a4.275 4.275 0 0 0 2.034-1.128 4.337 4.337 0 0 0 0-6.125 4.337 4.337 0 0 0-6.126 0 4.304 4.304 0 0 0-1.269 3.063c0 1.157.45 2.245 1.269 3.062a4.284 4.284 0 0 0 1.756 1.046v6.61L27.15 43.322v-6.217a4.28 4.28 0 0 0 1.984-1.117 4.3 4.3 0 0 0 1.27-3.063c0-1.157-.45-2.245-1.269-3.062a4.336 4.336 0 0 0-6.126 0 4.337 4.337 0 0 0 0 6.125c.51.51 1.132.858 1.804 1.062v7.621l3.646 2.004v13.632l-10.582-5.77v-2.418a4.29 4.29 0 0 0 2.051-1.133 4.337 4.337 0 0 0 0-6.125 4.304 4.304 0 0 0-3.062-1.269 4.304 4.304 0 0 0-3.063 1.269 4.337 4.337 0 0 0 0 6.125 4.285 4.285 0 0 0 1.738 1.041v3.812L48.9 74.108v11.397a4.277 4.277 0 0 0-1.783 1.053 4.337 4.337 0 0 0 0 6.125 4.32 4.32 0 0 0 3.063 1.266 4.316 4.316 0 0 0 3.063-1.267 4.337 4.337 0 0 0 0-6.125 4.29 4.29 0 0 0-2.008-1.119V73.943L84.82 52.727v-3.892a4.29 4.29 0 0 0 1.625-1.008 4.3 4.3 0 0 0 1.269-3.063zM30.586 61.468V47.844L48.9 57.91v13.542l-18.314-9.984zm34.876-19.065v19.79l-14.227 8.986v-19.79l14.227-8.986zm3.067-12.164c0-.676.264-1.312.742-1.79a2.525 2.525 0 0 1 1.79-.74c.647 0 1.296.247 1.789.74a2.536 2.536 0 0 1 0 3.581 2.535 2.535 0 0 1-3.579 0 2.516 2.516 0 0 1-.742-1.791zm-10.857-9.407a2.534 2.534 0 0 1 3.58 0 2.534 2.534 0 0 1 0 3.58 2.534 2.534 0 0 1-3.58 0 2.534 2.534 0 0 1 0-3.58zM48.389 9.589a2.536 2.536 0 0 1 3.581 0c.987.987.987 2.593.001 3.58a2.536 2.536 0 0 1-3.581 0 2.535 2.535 0 0 1-.001-3.58zM38.084 19.19c0-.676.264-1.312.742-1.79a2.525 2.525 0 0 1 1.79-.74c.647 0 1.296.247 1.789.74a2.536 2.536 0 0 1 0 3.581 2.535 2.535 0 0 1-3.579 0 2.52 2.52 0 0 1-.742-1.791zm-.453 19.832c0-.676.264-1.312.742-1.79a2.525 2.525 0 0 1 1.79-.74c.647 0 1.296.247 1.789.74a2.536 2.536 0 0 1 0 3.581 2.535 2.535 0 0 1-3.58 0 2.525 2.525 0 0 1-.741-1.791zm-13.348-7.887a2.524 2.524 0 0 1 1.789-.74 2.526 2.526 0 0 1 2.532 2.531c0 .677-.264 1.312-.742 1.79-.422.422-.984.647-1.562.696h-.456c-.577-.049-1.139-.274-1.561-.696a2.534 2.534 0 0 1 0-3.581zm-9.207 14.999a2.514 2.514 0 0 1 1.79-.742 2.534 2.534 0 0 1 1.789 4.322 2.533 2.533 0 0 1-3.579 0 2.533 2.533 0 0 1 0-3.58zM51.97 91.411a2.534 2.534 0 0 1-3.58 0 2.534 2.534 0 0 1 0-3.58 2.536 2.536 0 0 1 3.58 0 2.534 2.534 0 0 1 0 3.58zm33.202-44.857c-.955.955-2.624.957-3.579 0a2.534 2.534 0 0 1 1.789-4.322c.677 0 1.312.264 1.791.742.478.478.741 1.113.741 1.79s-.263 1.311-.742 1.79z"}));class Tm extends fm.Component{constructor(e){super(e),this.state={path:"",showEmptyError:!1},this.handleOnChange=this.handleOnChange.bind(this),this.handleOnSubmit=this.handleOnSubmit.bind(this)}handleOnSubmit(e){e.preventDefault(),0!==this.state.path.trim().length?this.props.doExploreUserProvidedPath(this.state.path):this.setState((e=>({...e,showEmptyError:!0})))}handleOnChange(e){const t=e.target.value;let n=this.state.showEmptyError;n&&t.length>0&&(n=!1),this.setState({path:t,showEmptyError:n})}render(){const{t:e}=this.props,t=this.state.showEmptyError?"2px solid red":"",n=this.state.showEmptyError?"QmHash can not be empty":"QmHash";return fm.createElement("form",{"data-id":"IpldExploreForm",className:"sans-serif black-80 flex",onSubmit:this.handleOnSubmit},fm.createElement("div",{className:"flex-auto"},fm.createElement("div",{className:"relative"},fm.createElement("input",{id:"ipfs-path",className:"input-reset bn pa2 mb2 db w-100 f6 br-0 placeholder-light focus-outline",style:{borderRadius:"3px 0 0 3px",outline:t},type:"text",placeholder:n,"aria-describedby":"name-desc",onChange:this.handleOnChange,value:this.state.path}),fm.createElement("small",{id:"ipfs-path-desc",className:"o-0 absolute f6 black-60 db mb2"},"Paste in a CID or IPFS path"))),fm.createElement("div",{className:"flex-none"},fm.createElement("button",{type:"submit",className:"button-reset dib lh-copy pv1 pl2 pr3 ba f7 fw4 focus-outline white bg-aqua bn cursor-pointer",style:{borderRadius:"0 3px 3px 0"}},fm.createElement(Cm,{style:{height:24},className:"dib fill-current-color v-mid navy 0-100"}),fm.createElement("span",{className:"ml2 navy 0-100"},e("IpldExploreForm.explore")))))}}const km=(0,Am.$)("doExploreUserProvidedPath",(0,gm.Zh)("explore")(Tm));var xm=n(4901);const Im=e=>{let{cid:t,name:n,type:r}=e;return fm.createElement("a",{className:"flex items-center lh-copy pl3 pl0-l pv3 bb b--black-10 link focus-outline",href:`#/explore/${t}`},fm.createElement("span",{className:"flex items-center justify-center w3 h3 w3-m h3-m w3-l h3-l flex-none br-100 tc",style:{background:(0,xm.$j)(r)}},fm.createElement("span",{className:"montserrat fw3 f6 snow",title:(0,xm.RB)(r)},(0,xm.Yn)(r))),fm.createElement("span",{className:"pl3 truncate"},fm.createElement("h2",{className:"ma0 fw4 f5 db black montserrat"},n),fm.createElement("span",{className:"f7 db blue truncate monospace"},t)))},_m=(0,gm.Zh)("explore")((e=>{let{t:t,embed:n,runTour:r=!1,joyrideCallback:o,links:i}=e;return fm.createElement("div",{className:"mw9 center explore-sug-2"},fm.createElement(pm.ql,null,fm.createElement("title",null,t("StartExploringPage.title"))),fm.createElement("div",{className:"flex-l"},fm.createElement("div",{className:"flex-auto-l mr3-l"},fm.createElement("div",{className:"pl3 pl0-l pt4 pt2-l"},fm.createElement("h1",{className:"f3 f2-l ma0 fw4 montserrat charcoal"},t("StartExploringPage.header")),fm.createElement("p",{className:"lh-copy f5 avenir charcoal-muted"},t("StartExploringPage.leadParagraph"))),n?fm.createElement(km,null):null,fm.createElement("ul",{className:"list pl0 ma0 mt4 mt0-l bt bn-l b--black-10"},(i??mm).map((e=>fm.createElement("li",{key:e.cid},fm.createElement(Im,{name:e.name,cid:e.cid,type:e.type})))))),fm.createElement("div",{className:"pt2-l"},fm.createElement(Em,null))),fm.createElement(ym.ZP,{run:r,steps:vm.V.getSteps({t:t}),styles:vm.V.styles,callback:o,scrollToFirstStep:!0}))}));n(24461);const Om=n.p+"static/media/spinner.2b9ba5ad729c470bcc2f15327fe033d5.svg";const Nm=n.p+"static/media/upload.62e1d0494e4ab941631324eac71c71a4.svg";class Pm extends fm.Component{constructor(e){super(e),this.state={file:{}},this.handleOnChange=this.handleOnChange.bind(this),this.handleOnSubmit=this.handleOnSubmit.bind(this)}handleOnSubmit(e){e.preventDefault()}handleOnChange(){document.getElementById("car-loader-image").src=Om;const e=document.getElementById("car-file").files[0];this.props.doUploadUserProvidedCar(e,Nm)}render(){const{t:e}=this.props;return fm.createElement("form",{"data-id":"IpldCarExploreForm",className:"sans-serif black-80 flex",onSubmit:this.handleOnSubmit,encType:"multipart/form-data"},fm.createElement("div",{className:"flex-auto"},fm.createElement("div",{className:"relative"},fm.createElement("input",{id:"car-file",type:"file",accept:".car",className:"input-reset bn pa2 mb2 db w-100 f6 br-0 placeholder-light focus-outline",style:{borderRadius:"3px 0 0 3px",backgroundColor:"white",padding:"5px 0px 5px 5px",width:"99%"},"aria-describedby":"name-desc",onChange:this.handleOnChange}),fm.createElement("small",{id:"car-file-desc",className:"o-0 absolute f6 black-60 db mb2"},e("IpldCarExploreForm.uploadCarFile")),fm.createElement("img",{id:"car-loader-image",alt:"placeholder for upload and loader",src:Nm,className:"absolute",style:{top:"0px",right:"0px",height:"30px",width:"30px",paddingRight:"10px"}}))))}}(0,Am.$)("doUploadUserProvidedCar",(0,gm.Zh)("explore")(Pm));n(39278)},59536:(e,t,n)=>{"use strict";n.d(t,{A$:()=>c,NZ:()=>u,SD:()=>a,uU:()=>l});var r=n(5025),o=n(56161),i=n(20099),s=n(47652);function a(e,t){if(!e)return null;try{return s.k0.asCID(e)||s.k0.parse(e,t)}catch(n){return null}}function u(e){const t=a(e);if(null==t)return null;switch(t.code){case r.code:return r.name;case o.code:return o.name;case i.code:return i.name;default:return null}}function l(e){const t=a(e);return t?t.code:null}function c(e){const t=a(e);return t?t.toString():null}},48236:(e,t,n)=>{"use strict";function r(e){switch(e){case 113:return"dag-cbor";case 112:return"dag-pb";case 120:return"git-raw";case 85:return"raw";case 512:return"json";case 297:return"dag-json";case 133:return"dag-jose";default:return`codec code ${e}=unknown`}}n.d(t,{Z:()=>r})},19178:(e,t,n)=>{"use strict";n.d(t,{C:()=>d,i:()=>c});var r=n(27898),o=n.n(r),i=n(96166);function s(e){return t=>new Uint8Array(e.array(t))}(0,i.D)({code:23,name:"sha3-224",encode:s(o().sha3_224)}),(0,i.D)({code:22,name:"sha3-256",encode:s(o().sha3_256)}),(0,i.D)({code:21,name:"sha3-384",encode:s(o().sha3_384)});const a=(0,i.D)({code:20,name:"sha3-512",encode:s(o().sha3_512)}),u=((0,i.D)({code:24,name:"shake-128",encode:e=>new Uint8Array(o().shake128.array(e,256))}),(0,i.D)({code:25,name:"shake-256",encode:e=>new Uint8Array(o().shake256.array(e,512))}),(0,i.D)({code:26,name:"keccak-224",encode:s(o().keccak224)}),(0,i.D)({code:27,name:"keccak-256",encode:s(o().keccak256)}));(0,i.D)({code:28,name:"keccak-384",encode:s(o().keccak384)}),(0,i.D)({code:29,name:"keccak-512",encode:s(o().keccak512)});var l=n(53054);async function c(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)try{e.push(await d(i))}catch(o){console.error(`Failed to get hasher for code ${i}: ${o}`)}return e}function f(e){return{...e,encode:e.encode.bind(e),digest:e.digest.bind(e)}}async function d(e){switch(e){case l.sha256.code:return f(l.sha256);case l.sha512.code:return f(l.sha512);case 17:return f((0,i.D)({name:"sha1",code:e,encode:async e=>{const t=globalThis.crypto??(await Promise.all([n.e(433),n.e(3)]).then(n.t.bind(n,86433,19))).webcrypto,r=await t.subtle.digest("SHA-1",e);return new Uint8Array(r)}}));case a.code:return f(a);case u.code:return f(u);case 30:return f((0,i.D)({name:"blake3",code:e,encode:async e=>{const{createBLAKE3:t}=await n.e(109).then(n.bind(n,18109)),r=await t();return r.init(),r.update(e),r.digest("binary")}}));case 45600:return f((0,i.D)({name:"blake2b-256",code:e,encode:async e=>{const{createBLAKE2b:t}=await n.e(109).then(n.bind(n,18109)),r=await t(256);return r.init(),r.update(e),r.digest("binary")}}));case 45632:return f((0,i.D)({name:"blake2b-512",code:e,encode:async e=>{const{createBLAKE2b:t}=await n.e(109).then(n.bind(n,18109)),r=await t(512);return r.init(),r.update(e),r.digest("binary")}}));default:throw new Error(`unknown multihasher code '${e}'`)}}},29405:(e,t,n)=>{"use strict";n.d(t,{V:()=>o,_:()=>i});var r=n(72791);const o={getSteps:e=>{let{t:t}=e;return[{content:r.createElement("div",{className:"montserrat charcoal"},r.createElement("h2",{className:"f3 fw4"},t("tour.projects.title")),r.createElement("p",{className:"tl f6"},t("tour.projects.paragraph1"))),placement:"center",target:"body"}]},styles:{options:{width:"500px",primaryColor:"#69c4cd",textColor:"#34373f",zIndex:999}}},i={getSteps:e=>{let{t:t}=e;return[{content:r.createElement("div",{className:"montserrat charcoal"},r.createElement("h2",{className:"f3 fw4"},t("tour.explorer.step1.title")),r.createElement("p",{className:"tl f6"},t("tour.explorer.step1.paragraph1"))),placement:"center",target:"body"},{content:r.createElement("div",{className:"montserrat charcoal"},r.createElement("h2",{className:"f3 fw4"},t("tour.explorer.step2.title")),r.createElement("p",{className:"tl f6"},t("tour.explorer.step2.paragraph1")),r.createElement("p",{className:"tl f6"},t("tour.explorer.step2.paragraph2"))),placement:"bottom",target:".joyride-explorer-crumbs"},{content:r.createElement("div",{className:"montserrat charcoal"},r.createElement("h2",{className:"f3 fw4"},t("tour.explorer.step3.title")),r.createElement("p",{className:"tl f6"},t("tour.explorer.step3.paragraph1"))),placement:"right",target:".joyride-explorer-node"},{content:r.createElement("div",{className:"montserrat charcoal"},r.createElement("h2",{className:"f3 fw4"},t("tour.explorer.step4.title")),r.createElement("p",{className:"tl f6"},t("tour.explorer.step4.paragraph1"))),placement:"left",target:".joyride-explorer-cid"},{content:r.createElement("div",{className:"montserrat charcoal"},r.createElement("h2",{className:"f3 fw4"},t("tour.explorer.step5.title")),r.createElement("p",{className:"tl f6"},t("tour.explorer.step5.paragraph1"))),locale:{last:"Finish"},placement:"left",target:".joyride-explorer-graph"}]},styles:{options:{width:"500px",primaryColor:"#69c4cd",textColor:"#34373f",zIndex:999}}}},7341:(e,t,n)=>{"use strict";n.d(t,{rb:()=>Te,ml:()=>Ne,ET:()=>Oe});const r=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,u=e.charAt(0),l=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===u;)r++,t++;for(var i=(e.length-t)*l+1>>>0,s=new Uint8Array(i);e[t];){var c=n[e.charCodeAt(t)];if(255===c)return;for(var f=0,d=i-1;(0!==c||f<o)&&-1!==d;d--,f++)c+=a*s[d]>>>0,s[d]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),g=r;h!==i;)p[g++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*c+1>>>0,l=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*l[h]>>>0,l[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===l[p];)p++;for(var g=u.repeat(n);p<s;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}},o=(new Uint8Array(0),e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")});class i{constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class s{constructor(e,t,n){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return u(this,e)}}class a{constructor(e){this.decoders=e}or(e){return u(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const u=(e,t)=>new a({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class l{constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new i(e,t,n),this.decoder=new s(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const c=e=>{let{name:t,prefix:n,encode:r,decode:o}=e;return new l(t,n,r,o)},f=e=>{let{prefix:t,name:n,alphabet:i}=e;const{encode:s,decode:a}=r(i,n);return c({prefix:t,name:n,encode:s,decode:e=>o(a(e))})},d=e=>{let{name:t,prefix:n,bitsPerChar:r,alphabet:o}=e;return c({prefix:n,name:t,encode:e=>((e,t,n)=>{const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(s&&(i+=t[o&a<<n-s]),r)for(;i.length*n&7;)i+="=";return i})(e,o,r),decode:e=>((e,t,n,r)=>{const o={};for(let c=0;c<t.length;++c)o[t[c]]=c;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,u=0,l=0;for(let c=0;c<i;++c){const t=o[e[c]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);u=u<<n|t,a+=n,a>=8&&(a-=8,s[l++]=255&u>>a)}if(a>=n||255&u<<8-a)throw new SyntaxError("Unexpected end of data");return s})(e,o,r,t)})},h=f({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),p=(f({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),d({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}));d({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),d({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),d({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),d({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),d({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),d({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),d({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var g=function e(t,n,r){n=n||[];var o=r=r||0;for(;t>=v;)n[r++]=255&t|y,t/=128;for(;t&m;)n[r++]=255&t|y,t>>>=7;return n[r]=0|t,e.bytes=r-o+1,n},y=128,m=-128,v=Math.pow(2,31);var b=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(r&E)<<i:(r&E)*Math.pow(2,i),i+=7}while(r>=w);return e.bytes=s-n,o},w=128,E=127;var A=Math.pow(2,7),S=Math.pow(2,14),C=Math.pow(2,21),T=Math.pow(2,28),k=Math.pow(2,35),x=Math.pow(2,42),I=Math.pow(2,49),_=Math.pow(2,56),O=Math.pow(2,63);const N={encode:g,decode:b,encodingLength:function(e){return e<A?1:e<S?2:e<C?3:e<T?4:e<k?5:e<x?6:e<I?7:e<_?8:e<O?9:10}},P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[N.decode(e,t),N.decode.bytes]},D=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return N.encode(e,t,n),t},B=e=>N.encodingLength(e);class R{constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}var L=n(73345);const F=ue("dns4"),M=ue("dns6"),U=ue("dnsaddr"),j=ae(ue("dns"),U,F,M),z=ae(ue("ip4"),ue("ip6")),$=ae(se(z,ue("tcp")),se(j,ue("tcp"))),H=se(z,ue("udp")),V=se(H,ue("utp")),G=se(H,ue("quic")),Z=ae(se($,ue("ws")),se(j,ue("ws"))),W=ae(se($,ue("wss")),se(j,ue("wss")),se($,ue("tls"),ue("ws")),se(j,ue("tls"),ue("ws"))),q=ae(se($,ue("http")),se(z,ue("http")),se(j,ue("http"))),K=ae(se($,ue("https")),se(z,ue("https")),se(j,ue("https"))),Y=se(H,ue("webrtc"),ue("certhash")),J=ae(se(Y,ue("p2p")),Y),X=ae(se(Z,ue("p2p-webrtc-star"),ue("p2p")),se(W,ue("p2p-webrtc-star"),ue("p2p")),se(Z,ue("p2p-webrtc-star")),se(W,ue("p2p-webrtc-star"))),Q=(ae(se(Z,ue("p2p-websocket-star"),ue("p2p")),se(W,ue("p2p-websocket-star"),ue("p2p")),se(Z,ue("p2p-websocket-star")),se(W,ue("p2p-websocket-star"))),ae(se(q,ue("p2p-webrtc-direct"),ue("p2p")),se(K,ue("p2p-webrtc-direct"),ue("p2p")),se(q,ue("p2p-webrtc-direct")),se(K,ue("p2p-webrtc-direct")))),ee=ae(Z,W,q,K,X,Q,$,V,G,j,J),te=(ae(se(ee,ue("p2p-stardust"),ue("p2p")),se(ee,ue("p2p-stardust"))),ae(se(ee,ue("p2p")),X,Q,J,ue("p2p"))),ne=ae(se(te,ue("p2p-circuit"),te),se(te,ue("p2p-circuit")),se(ue("p2p-circuit"),te),se(ee,ue("p2p-circuit")),se(ue("p2p-circuit"),ee),ue("p2p-circuit")),re=()=>ae(se(ne,re),ne),oe=re();ae(se(oe,te,oe),se(te,oe),se(oe,te),oe,te);function ie(e){return function(t){let n;try{n=(0,L.HM)(t)}catch(o){return!1}const r=e(n.protoNames());return null!==r&&(!0===r||!1===r?r:0===r.length)}}function se(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(e){if(e.length<t.length)return null;let n=e;return t.some((t=>(n="function"===typeof t?t().partialMatch(e):t.partialMatch(e),Array.isArray(n)&&(e=n),null===n))),n}return{toString:function(){return"{ "+t.join(" ")+" }"},input:t,matches:ie(r),partialMatch:r}}function ae(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(e){let n=null;return t.some((t=>{const r="function"===typeof t?t().partialMatch(e):t.partialMatch(e);return null!=r&&(n=r,!0)})),n}return{toString:function(){return"{ "+t.join(" ")+" }"},input:t,matches:ie(r),partialMatch:r}}function ue(e){const t=e;return{toString:function(){return t},matches:function(e){let n;try{n=(0,L.HM)(e)}catch(o){return!1}const r=n.protoNames();return 1===r.length&&r[0]===t},partialMatch:function(e){return 0===e.length?null:e[0]===t?e.slice(1):null}}}const le=(e,t)=>{const{bytes:n,version:r}=e;return 0===r?pe(n,fe(e),t||h.encoder):ge(n,fe(e),t||p.encoder)},ce=new WeakMap,fe=e=>{const t=ce.get(e);if(null==t){const t=new Map;return ce.set(e,t),t}return t};class de{constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this["/"]=r}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==ye)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==me)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return de.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=((e,t)=>{const n=t.byteLength,r=B(e),o=r+B(n),i=new Uint8Array(o+n);return D(e,i,0),D(n,i,r),i.set(t,o),new R(e,n,t,i)})(e,t);return de.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return de.equals(this,e)}static equals(e,t){const n=t;return n&&e.code===n.code&&e.version===n.version&&((e,t)=>{if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&((e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0})(e.bytes,n.bytes)}})(e.multihash,n.multihash)}toString(e){return le(this,e)}toJSON(){return{"/":le(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof de)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:n,multihash:r,bytes:o}=t;return new de(e,n,r,o||ve(e,n,r.bytes))}if(!0===t[be]){const{version:e,multihash:n,code:r}=t,i=(e=>{const t=o(e),[n,r]=P(t),[i,s]=P(t.subarray(r)),a=t.subarray(r+s);if(a.byteLength!==i)throw new Error("Incorrect length");return new R(n,i,a,t)})(n);return de.create(e,r,i)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==ye)throw new Error(`Version 0 CID must use dag-pb (code: ${ye}) block encoding`);return new de(e,t,n,n.bytes);case 1:{const r=ve(e,t,n.bytes);return new de(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return de.create(0,ye,e)}static createV1(e,t){return de.create(1,e,t)}static decode(e){const[t,n]=de.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=de.inspectBytes(e),n=t.size-t.multihashSize,r=o(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=r.subarray(t.multihashSize-t.digestSize),s=new R(t.multihashCode,t.digestSize,i,r);return[0===t.version?de.createV0(s):de.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=P(e.subarray(t));return t+=r,n};let r=n(),o=ye;if(18===r?(r=0,t=0):o=n(),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),a=n(),u=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:u-i,size:u}}static parse(e,t){const[n,r]=he(e,t),o=de.decode(r);if(0===o.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return fe(o).set(n,e),o}}const he=(e,t)=>{switch(e[0]){case"Q":{const n=t||h;return[h.prefix,n.decode(`${h.prefix}${e}`)]}case h.prefix:{const n=t||h;return[h.prefix,n.decode(e)]}case p.prefix:{const n=t||p;return[p.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},pe=(e,t,n)=>{const{prefix:r}=n;if(r!==h.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o},ge=(e,t,n)=>{const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o},ye=112,me=18,ve=(e,t,n)=>{const r=B(e),o=r+B(t),i=new Uint8Array(o+n.byteLength);return D(e,i,0),D(t,i,r),i.set(n,o),i},be=Symbol.for("@ipld/js-cid/CID");var we=n(16791),Ee=n(18601);const Ae=/^\/(ip[fn]s)\/([^/?#]+)/,Se=/^https?:\/\/([^/]+)\.(ip[fn]s)\.[^/?]+/,Ce=/^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\.)+([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$/;function Te(e){try{return Ie(e)?Boolean(de.parse(e)):e instanceof Uint8Array?Boolean(de.decode(e)):Boolean(de.asCID(e))}catch{return!1}}function ke(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;const o=_e(e);if(!1===o)return!1;const i=o.match(t);if(null==i)return!1;if("ipfs"!==i[n])return!1;let s=i[r];return null!=s&&t===Se&&(s=s.toLowerCase()),Te(s)}function xe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;const o=_e(e);if(!1===o)return!1;const i=o.match(t);if(null==i)return!1;if("ipns"!==i[n])return!1;let s=i[r];if(null!=s&&t===Se){if(s=s.toLowerCase(),Te(s))return!0;try{!s.includes(".")&&s.includes("-")&&(s=s.replace(/--/g,"@").replace(/-/g,".").replace(/@/g,"-"));const{hostname:e}=new we.URL(`http://${s}`);return Ce.test(e)}catch(a){return!1}}return!0}function Ie(e){return"string"===typeof e}function _e(e){return e instanceof Uint8Array?(0,Ee.B)(e,"base58btc"):!!Ie(e)&&e}const Oe=e=>ke(e,Ae)||xe(e,Ae),Ne=e=>ke(e,Ae)},14456:(e,t,n)=>{var r=n(60463);e.exports=function(e,t){return r(e,t)===e}},50887:e=>{"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},49355:(e,t,n)=>{var r=n(98059);e.exports=function(e,t){return r(e,t)===e}},16791:(e,t,n)=>{"use strict";const{URLWithLegacySupport:r,format:o,URLSearchParams:i,defaultBase:s}=n(85732),a=n(89640);e.exports={URL:r,URLSearchParams:i,format:o,relative:a,defaultBase:s}},89640:(e,t,n)=>{"use strict";const{URLWithLegacySupport:r,format:o}=n(85732);e.exports=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0,a=n.protocol?n.protocol.replace(":",""):"http";a=(i[a]||s||a)+":";try{t=new r(e)}catch(l){t={}}const u=Object.assign({},n,{protocol:a||t.protocol,host:n.host||t.host});return new r(e,o(u)).toString()}},85732:e=>{"use strict";const t="undefined"!==typeof navigator&&"ReactNative"===navigator.product;const n=self.URL,r=t?"http://localhost":self.location?self.location.protocol+"//"+self.location.host:"";e.exports={URLWithLegacySupport:class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;this.super=new n(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set username(e){this.super.username=e}static createObjectURL(e){return n.createObjectURL(e)}static revokeObjectURL(e){n.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}},URLSearchParams:self.URLSearchParams,defaultBase:r,format:function(e){if("string"===typeof e){return new n(e).toString()}if(!(e instanceof n)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",n=e.auth?e.auth+"@":"",r=e.port?":"+e.port:"",o=e.protocol?e.protocol+"//":"",i=e.host||"",s=e.hostname||"",a=e.search||(e.query?"?"+e.query:""),u=e.hash||"",l=e.pathname||"";return`${o}${t||n}${i||s+r}${e.path||l+a}${u}`}}}},50464:e=>{"use strict";e.exports=async e=>{const t=[];for await(const n of e)t.push(n);return t}},84744:e=>{"use strict";e.exports=async e=>{for await(const t of e)return t}},26723:e=>{"use strict";e.exports=async e=>{let t;for await(const n of e)t=n;return t}},27889:e=>{"use strict";e.exports=async function*(e,t){for await(const n of e)yield t(n)}},27898:(e,t,n)=>{var r,o=n(1426);!function(){"use strict";var i="input is invalid type",s="object"===typeof window,a=s?window:{};a.JS_SHA3_NO_WINDOW&&(s=!1);var u=!s&&"object"===typeof self;!a.JS_SHA3_NO_NODE_JS&&"object"===typeof o&&o.versions&&o.versions.node?a=n.g:u&&(a=self);for(var l=!a.JS_SHA3_NO_COMMON_JS&&e.exports,c=n.amdO,f=!a.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,d="0123456789abcdef".split(""),h=[4,1024,262144,67108864],p=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],m=[128,256],v=["hex","buffer","arrayBuffer","array","digest"],b={128:168,256:136},w=a.JS_SHA3_NO_NODE_JS||!Array.isArray?function(e){return"[object Array]"===Object.prototype.toString.call(e)}:Array.isArray,E=!f||!a.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView?ArrayBuffer.isView:function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer},A=function(e){var t=typeof e;if("string"===t)return[e,!0];if("object"!==t||null===e)throw new Error(i);if(f&&e.constructor===ArrayBuffer)return[new Uint8Array(e),!1];if(!w(e)&&!E(e))throw new Error(i);return[e,!1]},S=function(e){return 0===A(e)[0].length},C=function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n];return t},T=function(e,t,n){return function(r){return new j(e,t,e).update(r)[n]()}},k=function(e,t,n){return function(r,o){return new j(e,t,o).update(r)[n]()}},x=function(e,t,n){return function(t,r,o,i){return P["cshake"+e].update(t,r,o,i)[n]()}},I=function(e,t,n){return function(t,r,o,i){return P["kmac"+e].update(t,r,o,i)[n]()}},_=function(e,t,n,r){for(var o=0;o<v.length;++o){var i=v[o];e[i]=t(n,r,i)}return e},O=function(e,t){var n=T(e,t,"hex");return n.create=function(){return new j(e,t,e)},n.update=function(e){return n.create().update(e)},_(n,T,e,t)},N=[{name:"keccak",padding:[1,256,65536,16777216],bits:y,createMethod:O},{name:"sha3",padding:[6,1536,393216,100663296],bits:y,createMethod:O},{name:"shake",padding:[31,7936,2031616,520093696],bits:m,createMethod:function(e,t){var n=k(e,t,"hex");return n.create=function(n){return new j(e,t,n)},n.update=function(e,t){return n.create(t).update(e)},_(n,k,e,t)}},{name:"cshake",padding:h,bits:m,createMethod:function(e,t){var n=b[e],r=x(e,0,"hex");return r.create=function(r,o,i){return S(o)&&S(i)?P["shake"+e].create(r):new j(e,t,r).bytepad([o,i],n)},r.update=function(e,t,n,o){return r.create(t,n,o).update(e)},_(r,x,e,t)}},{name:"kmac",padding:h,bits:m,createMethod:function(e,t){var n=b[e],r=I(e,0,"hex");return r.create=function(r,o,i){return new z(e,t,o).bytepad(["KMAC",i],n).bytepad([r],n)},r.update=function(e,t,n,o){return r.create(e,n,o).update(t)},_(r,I,e,t)}}],P={},D=[],B=0;B<N.length;++B)for(var R=N[B],L=R.bits,F=0;F<L.length;++F){var M=R.name+"_"+L[F];if(D.push(M),P[M]=R.createMethod(L[F],R.padding),"sha3"!==R.name){var U=R.name+L[F];D.push(U),P[U]=P[M]}}function j(e,t,n){this.blocks=[],this.s=[],this.padding=t,this.outputBits=n,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=n>>5,this.extraBytes=(31&n)>>3;for(var r=0;r<50;++r)this.s[r]=0}function z(e,t,n){j.call(this,e,t,n)}j.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t=A(e);e=t[0];for(var n,r,o=t[1],i=this.blocks,s=this.byteCount,a=e.length,u=this.blockCount,l=0,c=this.s;l<a;){if(this.reset)for(this.reset=!1,i[0]=this.block,n=1;n<u+1;++n)i[n]=0;if(o)for(n=this.start;l<a&&n<s;++l)(r=e.charCodeAt(l))<128?i[n>>2]|=r<<p[3&n++]:r<2048?(i[n>>2]|=(192|r>>6)<<p[3&n++],i[n>>2]|=(128|63&r)<<p[3&n++]):r<55296||r>=57344?(i[n>>2]|=(224|r>>12)<<p[3&n++],i[n>>2]|=(128|r>>6&63)<<p[3&n++],i[n>>2]|=(128|63&r)<<p[3&n++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++l)),i[n>>2]|=(240|r>>18)<<p[3&n++],i[n>>2]|=(128|r>>12&63)<<p[3&n++],i[n>>2]|=(128|r>>6&63)<<p[3&n++],i[n>>2]|=(128|63&r)<<p[3&n++]);else for(n=this.start;l<a&&n<s;++l)i[n>>2]|=e[l]<<p[3&n++];if(this.lastByteIndex=n,n>=s){for(this.start=n-s,this.block=i[u],n=0;n<u;++n)c[n]^=i[n];$(c),this.reset=!0}else this.start=n}return this},j.prototype.encode=function(e,t){var n=255&e,r=1,o=[n];for(n=255&(e>>=8);n>0;)o.unshift(n),n=255&(e>>=8),++r;return t?o.push(r):o.unshift(r),this.update(o),o.length},j.prototype.encodeString=function(e){var t=A(e);e=t[0];var n=t[1],r=0,o=e.length;if(n)for(var i=0;i<e.length;++i){var s=e.charCodeAt(i);s<128?r+=1:s<2048?r+=2:s<55296||s>=57344?r+=3:(s=65536+((1023&s)<<10|1023&e.charCodeAt(++i)),r+=4)}else r=o;return r+=this.encode(8*r),this.update(e),r},j.prototype.bytepad=function(e,t){for(var n=this.encode(t),r=0;r<e.length;++r)n+=this.encodeString(e[r]);var o=(t-n%t)%t,i=[];return i.length=o,this.update(i),this},j.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,n=this.blockCount,r=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[n],t=1;t<n+1;++t)e[t]=0;for(e[n-1]|=2147483648,t=0;t<n;++t)r[t]^=e[t];$(r)}},j.prototype.toString=j.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,i=0,s=0,a="";s<r;){for(i=0;i<t&&s<r;++i,++s)e=n[i],a+=d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];s%t===0&&(n=C(n),$(n),i=0)}return o&&(e=n[i],a+=d[e>>4&15]+d[15&e],o>1&&(a+=d[e>>12&15]+d[e>>8&15]),o>2&&(a+=d[e>>20&15]+d[e>>16&15])),a},j.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,n=this.s,r=this.outputBlocks,o=this.extraBytes,i=0,s=0,a=this.outputBits>>3;e=o?new ArrayBuffer(r+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(e);s<r;){for(i=0;i<t&&s<r;++i,++s)u[s]=n[i];s%t===0&&(n=C(n),$(n))}return o&&(u[s]=n[i],e=e.slice(0,a)),e},j.prototype.buffer=j.prototype.arrayBuffer,j.prototype.digest=j.prototype.array=function(){this.finalize();for(var e,t,n=this.blockCount,r=this.s,o=this.outputBlocks,i=this.extraBytes,s=0,a=0,u=[];a<o;){for(s=0;s<n&&a<o;++s,++a)e=a<<2,t=r[s],u[e]=255&t,u[e+1]=t>>8&255,u[e+2]=t>>16&255,u[e+3]=t>>24&255;a%n===0&&(r=C(r),$(r))}return i&&(e=a<<2,t=r[s],u[e]=255&t,i>1&&(u[e+1]=t>>8&255),i>2&&(u[e+2]=t>>16&255)),u},z.prototype=new j,z.prototype.finalize=function(){return this.encode(this.outputBits,!0),j.prototype.finalize.call(this)};var $=function(e){var t,n,r,o,i,s,a,u,l,c,f,d,h,p,y,m,v,b,w,E,A,S,C,T,k,x,I,_,O,N,P,D,B,R,L,F,M,U,j,z,$,H,V,G,Z,W,q,K,Y,J,X,Q,ee,te,ne,re,oe,ie,se,ae,ue,le,ce;for(r=0;r<48;r+=2)o=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],u=e[4]^e[14]^e[24]^e[34]^e[44],l=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],t=(d=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),n=(h=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=n,e[10]^=t,e[11]^=n,e[20]^=t,e[21]^=n,e[30]^=t,e[31]^=n,e[40]^=t,e[41]^=n,t=o^(u<<1|l>>>31),n=i^(l<<1|u>>>31),e[2]^=t,e[3]^=n,e[12]^=t,e[13]^=n,e[22]^=t,e[23]^=n,e[32]^=t,e[33]^=n,e[42]^=t,e[43]^=n,t=s^(c<<1|f>>>31),n=a^(f<<1|c>>>31),e[4]^=t,e[5]^=n,e[14]^=t,e[15]^=n,e[24]^=t,e[25]^=n,e[34]^=t,e[35]^=n,e[44]^=t,e[45]^=n,t=u^(d<<1|h>>>31),n=l^(h<<1|d>>>31),e[6]^=t,e[7]^=n,e[16]^=t,e[17]^=n,e[26]^=t,e[27]^=n,e[36]^=t,e[37]^=n,e[46]^=t,e[47]^=n,t=c^(o<<1|i>>>31),n=f^(i<<1|o>>>31),e[8]^=t,e[9]^=n,e[18]^=t,e[19]^=n,e[28]^=t,e[29]^=n,e[38]^=t,e[39]^=n,e[48]^=t,e[49]^=n,p=e[0],y=e[1],W=e[11]<<4|e[10]>>>28,q=e[10]<<4|e[11]>>>28,_=e[20]<<3|e[21]>>>29,O=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,V=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,L=e[3]<<1|e[2]>>>31,m=e[13]<<12|e[12]>>>20,v=e[12]<<12|e[13]>>>20,K=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,N=e[33]<<13|e[32]>>>19,P=e[32]<<13|e[33]>>>19,le=e[42]<<2|e[43]>>>30,ce=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,ne=e[4]<<30|e[5]>>>2,F=e[14]<<6|e[15]>>>26,M=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,w=e[24]<<11|e[25]>>>21,J=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,D=e[45]<<29|e[44]>>>3,B=e[44]<<29|e[45]>>>3,T=e[6]<<28|e[7]>>>4,k=e[7]<<28|e[6]>>>4,re=e[17]<<23|e[16]>>>9,oe=e[16]<<23|e[17]>>>9,U=e[26]<<25|e[27]>>>7,j=e[27]<<25|e[26]>>>7,E=e[36]<<21|e[37]>>>11,A=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,G=e[8]<<27|e[9]>>>5,Z=e[9]<<27|e[8]>>>5,x=e[18]<<20|e[19]>>>12,I=e[19]<<20|e[18]>>>12,ie=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,z=e[38]<<8|e[39]>>>24,$=e[39]<<8|e[38]>>>24,S=e[48]<<14|e[49]>>>18,C=e[49]<<14|e[48]>>>18,e[0]=p^~m&b,e[1]=y^~v&w,e[10]=T^~x&_,e[11]=k^~I&O,e[20]=R^~F&U,e[21]=L^~M&j,e[30]=G^~W&K,e[31]=Z^~q&Y,e[40]=te^~re&ie,e[41]=ne^~oe&se,e[2]=m^~b&E,e[3]=v^~w&A,e[12]=x^~_&N,e[13]=I^~O&P,e[22]=F^~U&z,e[23]=M^~j&$,e[32]=W^~K&J,e[33]=q^~Y&X,e[42]=re^~ie&ae,e[43]=oe^~se&ue,e[4]=b^~E&S,e[5]=w^~A&C,e[14]=_^~N&D,e[15]=O^~P&B,e[24]=U^~z&H,e[25]=j^~$&V,e[34]=K^~J&Q,e[35]=Y^~X&ee,e[44]=ie^~ae&le,e[45]=se^~ue&ce,e[6]=E^~S&p,e[7]=A^~C&y,e[16]=N^~D&T,e[17]=P^~B&k,e[26]=z^~H&R,e[27]=$^~V&L,e[36]=J^~Q&G,e[37]=X^~ee&Z,e[46]=ae^~le&te,e[47]=ue^~ce&ne,e[8]=S^~p&m,e[9]=C^~y&v,e[18]=D^~T&x,e[19]=B^~k&I,e[28]=H^~R&F,e[29]=V^~L&M,e[38]=Q^~G&W,e[39]=ee^~Z&q,e[48]=le^~te&re,e[49]=ce^~ne&oe,e[0]^=g[r],e[1]^=g[r+1]};if(l)e.exports=P;else{for(B=0;B<D.length;++B)a[D[B]]=P[D[B]];c&&(void 0===(r=function(){return P}.call(t,n,t,e))||(e.exports=r))}}()},16386:(e,t,n)=>{var r=n(60463);e.exports=function(e,t){return null==e?"":(e=String(e),r(e.charAt(0),t)+e.substr(1))}},60463:e=>{var t={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{"\u0130":"i",I:"\u0131","I\u0307":"i"}},az:{regexp:/[\u0130]/g,map:{"\u0130":"i",I:"\u0131","I\u0307":"i"}},lt:{regexp:/[\u0049\u004A\u012E\u00CC\u00CD\u0128]/g,map:{I:"i\u0307",J:"j\u0307","\u012e":"\u012f\u0307","\xcc":"i\u0307\u0300","\xcd":"i\u0307\u0301","\u0128":"i\u0307\u0303"}}};e.exports=function(e,n){var r=t[n];return e=null==e?"":String(e),r&&(e=e.replace(r.regexp,(function(e){return r.map[e]}))),e.toLowerCase()}},77288:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(t){i(t)}}function a(e){try{u(r.throw(e))}catch(t){i(t)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(58322));function s(e){let t,n,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"maxAge";const a=()=>r(this,void 0,void 0,(function*(){if(void 0!==t)return;const a=a=>r(this,void 0,void 0,(function*(){o=i.default();const r=a[1][s]-Date.now();return r<=0?(e.delete(a[0]),void o.resolve()):(t=a[0],n=setTimeout((()=>{e.delete(a[0]),o&&o.resolve()}),r),"function"===typeof n.unref&&n.unref(),o.promise)}));try{for(const t of e)yield a(t)}catch(u){}t=void 0})),u=e.set.bind(e);return e.set=(r,i)=>{e.has(r)&&e.delete(r);const s=u(r,i);return t&&t===r&&(t=void 0,void 0!==n&&(clearTimeout(n),n=void 0),void 0!==o&&(o.reject(void 0),o=void 0)),a(),s},a(),e}t.default=s,e.exports=s,e.exports.default=s},58322:e=>{"use strict";e.exports=()=>{const e={};return e.promise=new Promise(((t,n)=>{e.resolve=t,e.reject=n})),e}},89842:function(e,t,n){"use strict";const r=n(50887),{hasOwnProperty:o}=Object.prototype,{propertyIsEnumerable:i}=Object,s=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0}),a=this,u={concatArrays:!1,ignoreUndefined:!1},l=e=>{const t=[];for(const n in e)o.call(e,n)&&t.push(n);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(e);for(const r of n)i.call(e,r)&&t.push(r)}return t};function c(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return l(e).forEach((n=>{s(t,n,c(e[n]))})),t}(e):r(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return l(e).forEach((n=>{s(t,n,c(e[n]))})),t}(e):e}const f=(e,t,n,r)=>(n.forEach((n=>{"undefined"===typeof t[n]&&r.ignoreUndefined||(n in e&&e[n]!==Object.getPrototypeOf(e)?s(e,n,h(e[n],t[n],r)):s(e,n,c(t[n])))})),e),d=(e,t,n)=>{let r=e.slice(0,0),i=0;return[e,t].forEach((t=>{const a=[];for(let n=0;n<t.length;n++)o.call(t,n)&&(a.push(String(n)),s(r,i++,t===e?t[n]:c(t[n])));r=f(r,t,l(t).filter((e=>!a.includes(e))),n)})),r};function h(e,t,n){return n.concatArrays&&Array.isArray(e)&&Array.isArray(t)?d(e,t,n):r(t)&&r(e)?f(e,t,l(t),n):c(t)}e.exports=function(){const e=h(c(u),this!==a&&this||{},u);let t={_:{}};for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];for(const s of o)if(void 0!==s){if(!r(s))throw new TypeError("`"+s+"` is not an Option Object");t=h(t,{_:s},e)}return t._}},26034:e=>{function t(e){return function(t){return Math.round(t*e)}}e.exports={seconds:t(1e3),minutes:t(6e4),hours:t(36e5),days:t(864e5),weeks:t(6048e5),months:t(26298e5),years:t(315576e5)}},3598:(e,t,n)=>{"use strict";n.d(t,{kU:()=>f,Dp:()=>c,ET:()=>d});var r=n(25671);const o=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),s=i.charCodeAt(0);if(255!==n[s])throw new TypeError(i+" is ambiguous");n[s]=o}var a=e.length,u=e.charAt(0),l=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var r=0,o=0;e[t]===u;)r++,t++;for(var i=(e.length-t)*l+1>>>0,s=new Uint8Array(i);e[t];){var c=n[e.charCodeAt(t)];if(255===c)return;for(var f=0,d=i-1;(0!==c||f<o)&&-1!==d;d--,f++)c+=a*s[d]>>>0,s[d]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");o=f,t++}if(" "!==e[t]){for(var h=i-o;h!==i&&0===s[h];)h++;for(var p=new Uint8Array(r+(i-h)),g=r;h!==i;)p[g++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,o=0,i=t.length;o!==i&&0===t[o];)o++,n++;for(var s=(i-o)*c+1>>>0,l=new Uint8Array(s);o!==i;){for(var f=t[o],d=0,h=s-1;(0!==f||d<r)&&-1!==h;h--,d++)f+=256*l[h]>>>0,l[h]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");r=d,o++}for(var p=s-r;p!==s&&0===l[p];)p++;for(var g=u.repeat(n);p<s;++p)g+=e.charAt(l[p]);return g},decodeUnsafe:f,decode:function(e){var n=f(e);if(n)return n;throw new Error(`Non-${t} character`)}}};class i{name;prefix;baseEncode;constructor(e,t,n){this.name=e,this.prefix=t,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class s{name;prefix;baseDecode;prefixCodePoint;constructor(e,t,n){this.name=e,this.prefix=t;const r=t.codePointAt(0);if(void 0===r)throw new Error("Invalid prefix character");this.prefixCodePoint=r,this.baseDecode=n}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return u(this,e)}}class a{decoders;constructor(e){this.decoders=e}or(e){return u(this,e)}decode(e){const t=e[0],n=this.decoders[t];if(null!=n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}function u(e,t){return new a({...e.decoders??{[e.prefix]:e},...t.decoders??{[t.prefix]:t}})}class l{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,t,n,r){this.name=e,this.prefix=t,this.baseEncode=n,this.baseDecode=r,this.encoder=new i(e,t,n),this.decoder=new s(e,t,r)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}function c(e){let{name:t,prefix:n,encode:r,decode:o}=e;return new l(t,n,r,o)}function f(e){let{name:t,prefix:n,alphabet:i}=e;const{encode:s,decode:a}=o(i,t);return c({prefix:n,name:t,encode:s,decode:e=>(0,r.oQ)(a(e))})}function d(e){let{name:t,prefix:n,bitsPerChar:r,alphabet:o}=e;return c({prefix:n,name:t,encode:e=>function(e,t,n){const r="="===t[t.length-1],o=(1<<n)-1;let i="",s=0,a=0;for(let u=0;u<e.length;++u)for(a=a<<8|e[u],s+=8;s>n;)s-=n,i+=t[o&a>>s];if(0!==s&&(i+=t[o&a<<n-s]),r)for(;0!==(i.length*n&7);)i+="=";return i}(e,o,r),decode:e=>function(e,t,n,r){const o={};for(let c=0;c<t.length;++c)o[t[c]]=c;let i=e.length;for(;"="===e[i-1];)--i;const s=new Uint8Array(i*n/8|0);let a=0,u=0,l=0;for(let c=0;c<i;++c){const t=o[e[c]];if(void 0===t)throw new SyntaxError(`Non-${r} character`);u=u<<n|t,a+=n,a>=8&&(a-=8,s[l++]=255&u>>a)}if(a>=n||0!==(255&u<<8-a))throw new SyntaxError("Unexpected end of data");return s}(e,o,r,t)})}},3886:(e,t,n)=>{"use strict";n.r(t),n.d(t,{base32:()=>o,base32hex:()=>u,base32hexpad:()=>c,base32hexpadupper:()=>f,base32hexupper:()=>l,base32pad:()=>s,base32padupper:()=>a,base32upper:()=>i,base32z:()=>d});var r=n(3598);const o=(0,r.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),i=(0,r.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),s=(0,r.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,r.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),u=(0,r.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),l=(0,r.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),c=(0,r.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),f=(0,r.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=(0,r.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},95114:(e,t,n)=>{"use strict";n.r(t),n.d(t,{base36:()=>o,base36upper:()=>i});var r=n(3598);const o=(0,r.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),i=(0,r.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})},55577:(e,t,n)=>{"use strict";n.r(t),n.d(t,{base58btc:()=>o,base58flickr:()=>i});var r=n(3598);const o=(0,r.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),i=(0,r.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},69849:(e,t,n)=>{"use strict";n.r(t),n.d(t,{base64:()=>o,base64pad:()=>i,base64url:()=>s,base64urlpad:()=>a});var r=n(3598);const o=(0,r.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),i=(0,r.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),s=(0,r.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),a=(0,r.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},45620:(e,t,n)=>{"use strict";n.d(t,{gh:()=>x});var r={};n.r(r),n.d(r,{base10:()=>c});var o={};n.r(o),n.d(o,{base16:()=>f,base16upper:()=>d});var i={};n.r(i),n.d(i,{base2:()=>h});var s={};n.r(s),n.d(s,{base256emoji:()=>m});var a={};n.r(a),n.d(a,{base8:()=>A});var u={};n.r(u),n.d(u,{identity:()=>C});var l=n(3598);const c=(0,l.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),f=(0,l.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),d=(0,l.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),h=(0,l.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),p=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),g=p.reduce(((e,t,n)=>(e[n]=t,e)),[]),y=p.reduce(((e,t,n)=>{const r=t.codePointAt(0);if(null==r)throw new Error(`Invalid character: ${t}`);return e[r]=n,e}),[]);const m=(0,l.Dp)({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=g[t]),"")},decode:function(e){const t=[];for(const n of e){const e=n.codePointAt(0);if(null==e)throw new Error(`Invalid character: ${n}`);const r=y[e];if(null==r)throw new Error(`Non-base256emoji character: ${n}`);t.push(r)}return new Uint8Array(t)}});var v=n(3886),b=n(95114),w=n(55577),E=n(69849);const A=(0,l.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var S=n(25671);const C=(0,l.Dp)({prefix:"\0",name:"identity",encode:e=>(0,S.BB)(e),decode:e=>(0,S.mL)(e)});n(38792),n(6985);var T=n(604),k=n(53054);n(69458);const x={...u,...i,...a,...r,...o,...v,...b,...w,...E,...s}},25671:(e,t,n)=>{"use strict";n.d(t,{BB:()=>s,fS:()=>r,mL:()=>i,oQ:()=>o});new Uint8Array(0);function r(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}function o(e){if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}function i(e){return(new TextEncoder).encode(e)}function s(e){return(new TextDecoder).decode(e)}},47652:(e,t,n)=>{"use strict";n.d(t,{k0:()=>d});var r=n(3886),o=n(95114),i=n(55577),s=n(25671),a=n(71178),u=n(97777);function l(e,t){const{bytes:n,version:o}=e;return 0===o?function(e,t,n){const{prefix:r}=n;if(r!==i.base58btc.prefix)throw Error(`Cannot string encode V0 in ${n.name} encoding`);const o=t.get(r);if(null==o){const o=n.encode(e).slice(1);return t.set(r,o),o}return o}(n,f(e),t??i.base58btc.encoder):function(e,t,n){const{prefix:r}=n,o=t.get(r);if(null==o){const o=n.encode(e);return t.set(r,o),o}return o}(n,f(e),t??r.base32.encoder)}const c=new WeakMap;function f(e){const t=c.get(e);if(null==t){const t=new Map;return c.set(e,t),t}return t}class d{code;version;multihash;bytes;"/";constructor(e,t,n,r){this.code=t,this.version=e,this.multihash=n,this.bytes=r,this["/"]=r}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==h)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==p)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return d.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,n=a.Ue(e,t);return d.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return d.equals(this,e)}static equals(e,t){const n=t;return null!=n&&e.code===n.code&&e.version===n.version&&a.fS(e.multihash,n.multihash)}toString(e){return l(this,e)}toJSON(){return{"/":l(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof d)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:n,multihash:r,bytes:o}=t;return new d(e,n,r,o??g(e,n,r.bytes))}if(!0===t[y]){const{version:e,multihash:n,code:r}=t,o=a.Jx(n);return d.create(e,r,o)}return null}static create(e,t,n){if("number"!==typeof t)throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==h)throw new Error(`Version 0 CID must use dag-pb (code: ${h}) block encoding`);return new d(e,t,n,n.bytes);case 1:{const r=g(e,t,n.bytes);return new d(e,t,n,r)}default:throw new Error("Invalid version")}}static createV0(e){return d.create(0,h,e)}static createV1(e,t){return d.create(1,e,t)}static decode(e){const[t,n]=d.decodeFirst(e);if(0!==n.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=d.inspectBytes(e),n=t.size-t.multihashSize,r=(0,s.oQ)(e.subarray(n,n+t.multihashSize));if(r.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=r.subarray(t.multihashSize-t.digestSize),i=new a.zZ(t.multihashCode,t.digestSize,o,r);return[0===t.version?d.createV0(i):d.createV1(t.codec,i),e.subarray(t.size)]}static inspectBytes(e){let t=0;const n=()=>{const[n,r]=u.Jx(e.subarray(t));return t+=r,n};let r=n(),o=h;if(18===r?(r=0,t=0):o=n(),0!==r&&1!==r)throw new RangeError(`Invalid CID version ${r}`);const i=t,s=n(),a=n(),l=t+a;return{version:r,codec:o,multihashCode:s,digestSize:a,multihashSize:l-i,size:l}}static parse(e,t){const[n,s]=function(e,t){switch(e[0]){case"Q":{const n=t??i.base58btc;return[i.base58btc.prefix,n.decode(`${i.base58btc.prefix}${e}`)]}case i.base58btc.prefix:{const n=t??i.base58btc;return[i.base58btc.prefix,n.decode(e)]}case r.base32.prefix:{const n=t??r.base32;return[r.base32.prefix,n.decode(e)]}case o.base36.prefix:{const n=t??o.base36;return[o.base36.prefix,n.decode(e)]}default:if(null==t)throw Error("To parse non base32, base36 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}(e,t),a=d.decode(s);if(0===a.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return f(a).set(n,e),a}}const h=112,p=18;function g(e,t,n){const r=u.P$(e),o=r+u.P$(t),i=new Uint8Array(o+n.byteLength);return u.mL(e,i,0),u.mL(t,i,r),i.set(n,o),i}const y=Symbol.for("@ipld/js-cid/CID")},38792:(e,t,n)=>{"use strict";n.r(t),n.d(t,{code:()=>s,decode:()=>u,encode:()=>a,name:()=>i});const r=new TextEncoder,o=new TextDecoder,i="json",s=512;function a(e){return r.encode(JSON.stringify(e))}function u(e){return JSON.parse(o.decode(e))}},6985:(e,t,n)=>{"use strict";n.r(t),n.d(t,{code:()=>i,decode:()=>a,encode:()=>s,name:()=>o});var r=n(25671);const o="raw",i=85;function s(e){return(0,r.oQ)(e)}function a(e){return(0,r.oQ)(e)}},71178:(e,t,n)=>{"use strict";n.d(t,{Jx:()=>s,Ue:()=>i,fS:()=>a,zZ:()=>u});var r=n(25671),o=n(97777);function i(e,t){const n=t.byteLength,r=o.P$(e),i=r+o.P$(n),s=new Uint8Array(i+n);return o.mL(e,s,0),o.mL(n,s,r),s.set(t,i),new u(e,n,t,s)}function s(e){const t=(0,r.oQ)(e),[n,i]=o.Jx(t),[s,a]=o.Jx(t.subarray(i)),l=t.subarray(i+a);if(l.byteLength!==s)throw new Error("Incorrect length");return new u(n,s,l,t)}function a(e,t){if(e===t)return!0;{const n=t;return e.code===n.code&&e.size===n.size&&n.bytes instanceof Uint8Array&&(0,r.fS)(e.bytes,n.bytes)}}class u{code;size;digest;bytes;constructor(e,t,n,r){this.code=e,this.size=t,this.digest=n,this.bytes=r}}},96166:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var r=n(71178);function o(e){let{name:t,code:n,encode:r}=e;return new i(t,n,r)}class i{name;code;encode;constructor(e,t,n){this.name=e,this.code=t,this.encode=n}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?r.Ue(this.code,t):t.then((e=>r.Ue(this.code,e)))}throw Error("Unknown type, must be binary type")}}},604:(e,t,n)=>{"use strict";n.r(t),n.d(t,{identity:()=>s});var r=n(25671),o=n(71178);const i=r.oQ;const s={code:0,name:"identity",encode:i,digest:function(e){return o.Ue(0,i(e))}}},53054:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sha256:()=>i,sha512:()=>s});var r=n(96166);function o(e){return async t=>new Uint8Array(await crypto.subtle.digest(e,t))}const i=(0,r.D)({name:"sha2-256",code:18,encode:o("SHA-256")}),s=(0,r.D)({name:"sha2-512",code:19,encode:o("SHA-512")})},69458:(e,t,n)=>{"use strict";n.d(t,{k0:()=>r.k0});n(25671);var r=n(47652);n(71178),n(96166),n(97777)},97777:(e,t,n)=>{"use strict";n.d(t,{Jx:()=>w,mL:()=>E,P$:()=>A});var r=function e(t,n,r){n=n||[];var a=r=r||0;for(;t>=s;)n[r++]=255&t|o,t/=128;for(;t&i;)n[r++]=255&t|o,t>>>=7;return n[r]=0|t,e.bytes=r-a+1,n},o=128,i=-128,s=Math.pow(2,31);var a=function e(t,n){var r,o=0,i=0,s=n=n||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");r=t[s++],o+=i<28?(r&l)<<i:(r&l)*Math.pow(2,i),i+=7}while(r>=u);return e.bytes=s-n,o},u=128,l=127;var c=Math.pow(2,7),f=Math.pow(2,14),d=Math.pow(2,21),h=Math.pow(2,28),p=Math.pow(2,35),g=Math.pow(2,42),y=Math.pow(2,49),m=Math.pow(2,56),v=Math.pow(2,63);const b={encode:r,decode:a,encodingLength:function(e){return e<c?1:e<f?2:e<d?3:e<h?4:e<p?5:e<g?6:e<y?7:e<m?8:e<v?9:10}};function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return[b.decode(e,t),b.decode.bytes]}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return b.encode(e,t,n),t}function A(e){return b.encodingLength(e)}},12165:(e,t,n)=>{e.exports=n(407)},407:function(e,t){!function(n,r){"use strict";var o={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function i(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function s(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function u(e){return e=s(e^=e>>>16,2246822507),e=s(e^=e>>>13,3266489909),e^=e>>>16}function l(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function c(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function f(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function d(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function h(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=h(e,[0,e[0]>>>1]),e=h(e=c(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=h(e=c(e,[3301882366,444984403]),[0,e[0]>>>1])}o.x86.hash32=function(e,t){if(o.inputValidation&&!i(e))return r;t=t||0;for(var n=e.length%4,l=e.length-n,c=t,f=0,d=3432918353,h=461845907,p=0;p<l;p+=4)f=s(f=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24,d),f=s(f=a(f,15),h),c=s(c=a(c^=f,13),5)+3864292196;switch(f=0,n){case 3:f^=e[p+2]<<16;case 2:f^=e[p+1]<<8;case 1:f=s(f^=e[p],d),c^=f=s(f=a(f,15),h)}return(c=u(c^=e.length))>>>0},o.x86.hash128=function(e,t){if(o.inputValidation&&!i(e))return r;t=t||0;for(var n=e.length%16,l=e.length-n,c=t,f=t,d=t,h=t,p=0,g=0,y=0,m=0,v=597399067,b=2869860233,w=951274213,E=2716044179,A=0;A<l;A+=16)p=e[A]|e[A+1]<<8|e[A+2]<<16|e[A+3]<<24,g=e[A+4]|e[A+5]<<8|e[A+6]<<16|e[A+7]<<24,y=e[A+8]|e[A+9]<<8|e[A+10]<<16|e[A+11]<<24,m=e[A+12]|e[A+13]<<8|e[A+14]<<16|e[A+15]<<24,p=a(p=s(p,v),15),c=a(c^=p=s(p,b),19),c=s(c+=f,5)+1444728091,g=a(g=s(g,b),16),f=a(f^=g=s(g,w),17),f=s(f+=d,5)+197830471,y=a(y=s(y,w),17),d=a(d^=y=s(y,E),15),d=s(d+=h,5)+2530024501,m=a(m=s(m,E),18),h=a(h^=m=s(m,v),13),h=s(h+=c,5)+850148119;switch(p=0,g=0,y=0,m=0,n){case 15:m^=e[A+14]<<16;case 14:m^=e[A+13]<<8;case 13:m=s(m^=e[A+12],E),h^=m=s(m=a(m,18),v);case 12:y^=e[A+11]<<24;case 11:y^=e[A+10]<<16;case 10:y^=e[A+9]<<8;case 9:y=s(y^=e[A+8],w),d^=y=s(y=a(y,17),E);case 8:g^=e[A+7]<<24;case 7:g^=e[A+6]<<16;case 6:g^=e[A+5]<<8;case 5:g=s(g^=e[A+4],b),f^=g=s(g=a(g,16),w);case 4:p^=e[A+3]<<24;case 3:p^=e[A+2]<<16;case 2:p^=e[A+1]<<8;case 1:p=s(p^=e[A],v),c^=p=s(p=a(p,15),b)}return c^=e.length,c+=f^=e.length,c+=d^=e.length,f+=c+=h^=e.length,d+=c,h+=c,c=u(c),c+=f=u(f),c+=d=u(d),f+=c+=h=u(h),d+=c,h+=c,("00000000"+(c>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)},o.x64.hash128=function(e,t){if(o.inputValidation&&!i(e))return r;t=t||0;for(var n=e.length%16,s=e.length-n,a=[0,t],u=[0,t],g=[0,0],y=[0,0],m=[2277735313,289559509],v=[1291169091,658871167],b=0;b<s;b+=16)g=[e[b+4]|e[b+5]<<8|e[b+6]<<16|e[b+7]<<24,e[b]|e[b+1]<<8|e[b+2]<<16|e[b+3]<<24],y=[e[b+12]|e[b+13]<<8|e[b+14]<<16|e[b+15]<<24,e[b+8]|e[b+9]<<8|e[b+10]<<16|e[b+11]<<24],g=f(g=c(g,m),31),a=l(a=f(a=h(a,g=c(g,v)),27),u),a=l(c(a,[0,5]),[0,1390208809]),y=f(y=c(y,v),33),u=l(u=f(u=h(u,y=c(y,m)),31),a),u=l(c(u,[0,5]),[0,944331445]);switch(g=[0,0],y=[0,0],n){case 15:y=h(y,d([0,e[b+14]],48));case 14:y=h(y,d([0,e[b+13]],40));case 13:y=h(y,d([0,e[b+12]],32));case 12:y=h(y,d([0,e[b+11]],24));case 11:y=h(y,d([0,e[b+10]],16));case 10:y=h(y,d([0,e[b+9]],8));case 9:y=c(y=h(y,[0,e[b+8]]),v),u=h(u,y=c(y=f(y,33),m));case 8:g=h(g,d([0,e[b+7]],56));case 7:g=h(g,d([0,e[b+6]],48));case 6:g=h(g,d([0,e[b+5]],40));case 5:g=h(g,d([0,e[b+4]],32));case 4:g=h(g,d([0,e[b+3]],24));case 3:g=h(g,d([0,e[b+2]],16));case 2:g=h(g,d([0,e[b+1]],8));case 1:g=c(g=h(g,[0,e[b]]),m),a=h(a,g=c(g=f(g,31),v))}return a=l(a=h(a,[0,e.length]),u=h(u,[0,e.length])),u=l(u,a),a=l(a=p(a),u=p(u)),u=l(u,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(u[0]>>>0).toString(16)).slice(-8)+("00000000"+(u[1]>>>0).toString(16)).slice(-8)},e.exports&&(t=e.exports=o),t.murmurHash3=o}()},27922:function(e,t){(function(){var e,n,r,o,i,s,a,u;u=function(e){return[(e&255<<24)>>>24,(e&255<<16)>>>16,(65280&e)>>>8,255&e].join(".")},a=function(e){var t,r,o,i,s,a;for(t=[],o=i=0;i<=3&&0!==e.length;o=++i){if(o>0){if("."!==e[0])throw new Error("Invalid IP");e=e.substring(1)}s=(a=n(e))[0],r=a[1],e=e.substring(r),t.push(s)}if(0!==e.length)throw new Error("Invalid IP");switch(t.length){case 1:if(t[0]>4294967295)throw new Error("Invalid IP");return t[0]>>>0;case 2:if(t[0]>255||t[1]>16777215)throw new Error("Invalid IP");return(t[0]<<24|t[1])>>>0;case 3:if(t[0]>255||t[1]>255||t[2]>65535)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2])>>>0;case 4:if(t[0]>255||t[1]>255||t[2]>255||t[3]>255)throw new Error("Invalid IP");return(t[0]<<24|t[1]<<16|t[2]<<8|t[3])>>>0;default:throw new Error("Invalid IP")}},o=(r=function(e){return e.charCodeAt(0)})("0"),s=r("a"),i=r("A"),n=function(e){var t,n,a,u,l;for(u=0,t=10,n="9",a=0,e.length>1&&"0"===e[a]&&("x"===e[a+1]||"X"===e[a+1]?(a+=2,t=16):"0"<=e[a+1]&&e[a+1]<="9"&&(a++,t=8,n="7")),l=a;a<e.length;){if("0"<=e[a]&&e[a]<=n)u=u*t+(r(e[a])-o)>>>0;else{if(16!==t)break;if("a"<=e[a]&&e[a]<="f")u=u*t+(10+r(e[a])-s)>>>0;else{if(!("A"<=e[a]&&e[a]<="F"))break;u=u*t+(10+r(e[a])-i)>>>0}}if(u>4294967295)throw new Error("too large");a++}if(a===l)throw new Error("empty octet");return[u,a]},e=function(){function e(e,t){var n,r,o;if("string"!==typeof e)throw new Error("Missing `net' parameter");if(t||(o=e.split("/",2),e=o[0],t=o[1]),t||(t=32),"string"===typeof t&&t.indexOf(".")>-1){try{this.maskLong=a(t)}catch(i){throw i,new Error("Invalid mask: "+t)}for(n=r=32;r>=0;n=--r)if(this.maskLong===4294967295<<32-n>>>0){this.bitmask=n;break}}else{if(!t&&0!==t)throw new Error("Invalid mask: empty");this.bitmask=parseInt(t,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0)}try{this.netLong=(a(e)&this.maskLong)>>>0}catch(i){throw i,new Error("Invalid net address: "+e)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+t);this.size=Math.pow(2,32-this.bitmask),this.base=u(this.netLong),this.mask=u(this.maskLong),this.hostmask=u(~this.maskLong),this.first=this.bitmask<=30?u(this.netLong+1):this.base,this.last=this.bitmask<=30?u(this.netLong+this.size-2):u(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?u(this.netLong+this.size-1):void 0}return e.prototype.contains=function(t){return"string"===typeof t&&(t.indexOf("/")>0||4!==t.split(".").length)&&(t=new e(t)),t instanceof e?this.contains(t.base)&&this.contains(t.broadcast||t.last):(a(t)&this.maskLong)>>>0===(this.netLong&this.maskLong)>>>0},e.prototype.next=function(t){return null==t&&(t=1),new e(u(this.netLong+this.size*t),this.mask)},e.prototype.forEach=function(e){var t,n,r;for(r=a(this.first),n=a(this.last),t=0;r<=n;)e(u(r),r,t),t++,r++},e.prototype.toString=function(){return this.base+"/"+this.bitmask},e}(),t.ip2long=a,t.long2ip=u,t.Netmask=e}).call(this)},17870:(e,t,n)=>{var r=n(60463),o=n(63358),i=n(91741),s=n(66437);e.exports=function(e,t,n){if(null==e)return"";return n="string"!==typeof n?" ":n,e=String(e).replace(i,"$1 $2").replace(s,"$1 $2").replace(o,(function(e,t,r){return 0===t||t===r.length-e.length?"":n})),r(e,t)}},91741:e=>{e.exports=/([a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])/g},66437:e=>{e.exports=/([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A][a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A])/g},63358:e=>{e.exports=/[^A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]+/g},31725:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(o){return!1}}()?Object.assign:function(e,o){for(var i,s,a=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var l in i=Object(arguments[u]))n.call(i,l)&&(a[l]=i[l]);if(t){s=t(i);for(var c=0;c<s.length;c++)r.call(i,s[c])&&(a[s[c]]=i[s[c]])}}return a}},11842:(e,t)=>{t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!==typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!==typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},23596:(e,t,n)=>{"use strict";const r=n(57528),o=n(77288),i=n(3781),s=new WeakMap;e.exports=function(e){let{cachePromiseRejection:t=!1,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{maxAge:a,cacheKey:u}=n,l=n.cache||new Map;if(Number.isSafeInteger(a))o(l);else if("undefined"!==typeof a)throw new TypeError("maxAge is not a safe integer.");const c=async function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const s=u?u(r):r[0],c=l.get(s);if(c)return c.data;const f=e.apply(this,r);l.set(s,{data:f,maxAge:2**31-1});const[{reason:d}]=await i([f]);return!t&&d?l.delete(s):a&&l.set(s,{data:f,maxAge:Date.now()+a}),f};return r(c,e),s.set(c,l),c},e.exports.clear=e=>{if(!s.has(e))throw new Error("Can't clear a function that was not memoized!");const t=s.get(e);if("function"!==typeof t.clear)throw new TypeError("The cache Map can't be cleared!");t.clear()}},57528:e=>{"use strict";const t=(e,t,r,o)=>{if("length"===r||"prototype"===r)return;if("arguments"===r||"caller"===r)return;const i=Object.getOwnPropertyDescriptor(e,r),s=Object.getOwnPropertyDescriptor(t,r);!n(i,s)&&o||Object.defineProperty(e,r,s)},n=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},r=(e,t)=>`/* Wrapped ${e}*/\n${t}`,o=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),i=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");e.exports=function(e,n){let{ignoreNonConfigurable:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{name:a}=e;for(const r of Reflect.ownKeys(n))t(e,n,r,s);return((e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)})(e,n),((e,t,n)=>{const s=""===n?"":`with ${n.trim()}() `,a=r.bind(null,s,t.toString());Object.defineProperty(a,"name",i),Object.defineProperty(e,"toString",{...o,value:a})})(e,n,a),e}},92963:e=>{"use strict";const t=async e=>{try{return{isFulfilled:!0,isRejected:!1,value:await e}}catch(t){return{isFulfilled:!1,isRejected:!0,reason:t}}};e.exports=t,e.exports.default=t},3781:(e,t,n)=>{"use strict";const r=